/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={54991:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{getContractTypeDetails:()=>T,generateMnemonic:()=>S,makeLabsMnemonic:()=>N,makeLegacyMnemonic:()=>A,runLocal:()=>R,getExpectedAddress:()=>I,encodeInternalInput:()=>k,createExternalMessage:()=>x,decodeInput:()=>M,decodeEvent:()=>L,decodeOutput:()=>j,decodeTransaction:()=>P,decodeTransactionEvents:()=>U,packIntoCell:()=>D,unpackFromCell:()=>B,computeTonWalletAddress:()=>F,packAddress:()=>q,unpackAddress:()=>$,checkAddress:()=>W,repackAddress:()=>G,checkEthAddress:()=>z,getBip39Hints:()=>V,validateMnemonic:()=>K,encodeComment:()=>H,extractPublicKey:()=>X,codeToTvc:()=>Y,main_js:()=>Z,AccountsStorage:()=>Q,EncryptedKey:()=>ee,GenericContract:()=>te,GqlConnection:()=>ne,GqlQuery:()=>re,JrpcConnection:()=>oe,JrpcQuery:()=>ie,KeyStore:()=>se,LedgerConnection:()=>ae,LedgerQueryResultHandler:()=>ue,RawContractState:()=>ce,Storage:()=>le,StorageQueryHandler:()=>fe,StorageQueryResultHandler:()=>he,TokenWallet:()=>de,TonWallet:()=>pe,UnsignedMessage:()=>_e,default:()=>ge});const o=new Array(32).fill(void 0);function i(e){return o[e]}o.push(void 0,null,!0,!1);let s=o.length;function a(e){const t=i(e);return function(e){e<36||(o[e]=s,s=e)}(e),t}let u=0,c=null;function l(){return null!==c&&c.buffer===r.memory.buffer||(c=new Uint8Array(r.memory.buffer)),c}let f=new TextEncoder("utf-8");const h="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){const n=f.encode(e);return t.set(n),{read:e.length,written:n.length}};function d(e,t,n){if(void 0===n){const n=f.encode(e),r=t(n.length);return l().subarray(r,r+n.length).set(n),u=n.length,r}let r=e.length,o=t(r);const i=l();let s=0;for(;s<r;s++){const t=e.charCodeAt(s);if(t>127)break;i[o+s]=t}if(s!==r){0!==s&&(e=e.slice(s)),o=n(o,r,r=s+3*e.length);const t=l().subarray(o+s,o+r);s+=h(e,t).written}return u=s,o}function p(e){return null==e}let _=null;function g(){return null!==_&&_.buffer===r.memory.buffer||(_=new Int32Array(r.memory.buffer)),_}let v=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function b(e,t){return v.decode(l().subarray(e,e+t))}function w(e){s===o.length&&o.push(o.length+1);const t=s;return s=o[t],o[t]=e,t}v.decode();let y=null;function m(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=m(e[0]));for(let r=1;r<t;r++)n+=", "+m(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}function E(e,t,n){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h9ce417eadf66cf06(e,t,w(n))}function O(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}function T(e){return a(r.getContractTypeDetails(w(e)))}function S(e){return a(r.generateMnemonic(w(e)))}function N(e){return a(r.makeLabsMnemonic(e))}function A(){return a(r.makeLegacyMnemonic())}function C(e,t){return l().subarray(e/1,e/1+t)}function R(e,t,n,o,i,s){var c=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),l=u,f=d(o,r.__wbindgen_malloc,r.__wbindgen_realloc),h=u,p=d(i,r.__wbindgen_malloc,r.__wbindgen_realloc),_=u;return a(r.runLocal(w(e),w(t),c,l,f,h,p,_,w(s)))}function I(e,t,n,o,i){try{const y=r.__wbindgen_add_to_stack_pointer(-16);var s=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),a=u,c=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),l=u,f=p(o)?0:d(o,r.__wbindgen_malloc,r.__wbindgen_realloc),h=u;r.getExpectedAddress(y,s,a,c,l,n,f,h,w(i));var _=g()[y/4+0],v=g()[y/4+1];return b(_,v)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(_,v)}}function k(e,t,n){try{const f=r.__wbindgen_add_to_stack_pointer(-16);var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),a=u;r.encodeInternalInput(f,o,i,s,a,w(n));var c=g()[f/4+0],l=g()[f/4+1];return b(c,l)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(c,l)}}function x(e,t,n,o,i,s,a){var c=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),l=u,f=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),h=u,_=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),g=u,v=p(o)?0:d(o,r.__wbindgen_malloc,r.__wbindgen_realloc),b=u,y=d(s,r.__wbindgen_malloc,r.__wbindgen_realloc),m=u,E=r.createExternalMessage(c,l,f,h,_,g,v,b,w(i),y,m,a);return _e.__wrap(E)}function M(e,t,n,o){var i=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),s=u,c=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),l=u;return a(r.decodeInput(i,s,c,l,w(n),o))}function L(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.decodeEvent(o,i,s,c,w(n)))}function j(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.decodeOutput(o,i,s,c,w(n)))}function P(e,t,n){var o=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;return a(r.decodeTransaction(w(e),o,i,w(n)))}function U(e,t){var n=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;return a(r.decodeTransactionEvents(w(e),n,o))}function D(e,t){try{const i=r.__wbindgen_add_to_stack_pointer(-16);r.packIntoCell(i,w(e),w(t));var n=g()[i/4+0],o=g()[i/4+1];return b(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,o)}}function B(e,t,n){var o=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;return a(r.unpackFromCell(w(e),o,i,n))}function F(e,t,n){try{const c=r.__wbindgen_add_to_stack_pointer(-16);var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;r.computeTonWalletAddress(c,o,i,w(t),n);var s=g()[c/4+0],a=g()[c/4+1];return b(s,a)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(s,a)}}function q(e,t,n){try{const c=r.__wbindgen_add_to_stack_pointer(-16);var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;r.packAddress(c,o,i,t,n);var s=g()[c/4+0],a=g()[c/4+1];return b(s,a)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(s,a)}}function $(e,t){try{const a=r.__wbindgen_add_to_stack_pointer(-16);var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;r.unpackAddress(a,n,o,t);var i=g()[a/4+0],s=g()[a/4+1];return b(i,s)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(i,s)}}function W(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return 0!==r.checkAddress(t,n)}function G(e){try{const s=r.__wbindgen_add_to_stack_pointer(-16);var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;r.repackAddress(s,t,n);var o=g()[s/4+0],i=g()[s/4+1];return b(o,i)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,i)}}function z(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return 0!==r.checkEthAddress(t,n)}function V(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.getBip39Hints(t,n))}function K(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;r.validateMnemonic(n,o,w(t))}function H(e){try{const s=r.__wbindgen_add_to_stack_pointer(-16);var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;r.encodeComment(s,t,n);var o=g()[s/4+0],i=g()[s/4+1];return b(o,i)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,i)}}function X(e){try{const s=r.__wbindgen_add_to_stack_pointer(-16);var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;r.extractPublicKey(s,t,n);var o=g()[s/4+0],i=g()[s/4+1];return b(o,i)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,i)}}function Y(e){try{const s=r.__wbindgen_add_to_stack_pointer(-16);var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;r.codeToTvc(s,t,n);var o=g()[s/4+0],i=g()[s/4+1];return b(o,i)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,i)}}function Z(){r.main_js()}function J(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(w(e))}}class Q{static __wrap(e){const t=Object.create(Q.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_accountsstorage_free(e)}static load(e){return O(e,le),a(r.accountsstorage_load(e.ptr))}addAccount(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.accountsstorage_addAccount(this.ptr,o,i,s,c,w(n)))}addTokenWallet(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u,l=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),f=u;return a(r.accountsstorage_addTokenWallet(this.ptr,o,i,s,c,l,f))}removeTokenWallet(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u,l=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),f=u;return a(r.accountsstorage_removeTokenWallet(this.ptr,o,i,s,c,l,f))}removeAccount(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.accountsstorage_removeAccount(this.ptr,t,n))}clear(){return a(r.accountsstorage_clear(this.ptr))}getAccount(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.accountsstorage_getAccount(this.ptr,t,n))}getStoredAccounts(){return a(r.accountsstorage_getStoredAccounts(this.ptr))}}class ee{static __wrap(e){const t=Object.create(ee.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_encryptedkey_free(e)}constructor(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),a=u,c=r.encryptedkey_new(o,i,w(t),s,a);return ee.__wrap(c)}changePassword(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u,i=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),s=u;r.encryptedkey_changePassword(this.ptr,n,o,i,s)}sign(e,t){O(e,_e);var n=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;return a(r.encryptedkey_sign(this.ptr,e.ptr,n,o))}static fromJSON(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u,o=r.encryptedkey_fromJSON(t,n);return ee.__wrap(o)}toJSON(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.encryptedkey_toJSON(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get publicKey(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.encryptedkey_publicKey(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get mnemonicType(){return a(r.encryptedkey_mnemonicType(this.ptr))}}class te{static __wrap(e){const t=Object.create(te.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_genericcontract_free(e)}get address(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.genericcontract_address(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}contractState(){return a(r.genericcontract_contractState(this.ptr))}estimateFees(e){return a(r.genericcontract_estimateFees(this.ptr,w(e)))}sendMessage(e){return a(r.genericcontract_sendMessage(this.ptr,w(e)))}refresh(){return a(r.genericcontract_refresh(this.ptr))}handleBlock(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.genericcontract_handleBlock(this.ptr,t,n))}preloadTransactions(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u,i=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),s=u;return a(r.genericcontract_preloadTransactions(this.ptr,n,o,i,s))}get pollingMethod(){return a(r.genericcontract_pollingMethod(this.ptr))}}class ne{static __wrap(e){const t=Object.create(ne.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_gqlconnection_free(e)}constructor(e){var t=r.gqlconnection_new(w(e));return ne.__wrap(t)}subscribeToGenericContract(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;return a(r.gqlconnection_subscribeToGenericContract(this.ptr,n,o,w(t)))}subscribeToTonWallet(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;return a(r.gqlconnection_subscribeToTonWallet(this.ptr,o,i,w(t),w(n)))}subscribeToTokenWallet(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.gqlconnection_subscribeToTokenWallet(this.ptr,o,i,s,c,w(n)))}getLatestBlock(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.gqlconnection_getLatestBlock(this.ptr,t,n))}waitForNextBlock(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.gqlconnection_waitForNextBlock(this.ptr,o,i,s,c,n))}getFullContractState(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.gqlconnection_getFullContractState(this.ptr,t,n))}getTransactions(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;return a(r.gqlconnection_getTransactions(this.ptr,o,i,p(t)?0:w(t),n))}}class re{static __wrap(e){const t=Object.create(re.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_gqlquery_free(e)}onReceive(e){const t=this.__destroy_into_raw();var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;r.gqlquery_onReceive(t,n,o)}onError(e){const t=this.__destroy_into_raw();r.gqlquery_onError(t,w(e))}onTimeout(){const e=this.__destroy_into_raw();r.gqlquery_onTimeout(e)}}class oe{static __wrap(e){const t=Object.create(oe.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_jrpcconnection_free(e)}constructor(e){var t=r.gqlconnection_new(w(e));return oe.__wrap(t)}subscribeToGenericContract(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;return a(r.jrpcconnection_subscribeToGenericContract(this.ptr,n,o,w(t)))}subscribeToTonWallet(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;return a(r.jrpcconnection_subscribeToTonWallet(this.ptr,o,i,w(t),w(n)))}subscribeToTokenWallet(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.jrpcconnection_subscribeToTokenWallet(this.ptr,o,i,s,c,w(n)))}getFullContractState(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.jrpcconnection_getFullContractState(this.ptr,t,n))}getTransactions(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u;return a(r.jrpcconnection_getTransactions(this.ptr,o,i,p(t)?0:w(t),n))}}class ie{static __wrap(e){const t=Object.create(ie.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_jrpcquery_free(e)}onReceive(e){const t=this.__destroy_into_raw();var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;r.jrpcquery_onReceive(t,n,o)}onError(e){const t=this.__destroy_into_raw();r.jrpcquery_onError(t,w(e))}onTimeout(){const e=this.__destroy_into_raw();r.jrpcquery_onTimeout(e)}}class se{static __wrap(e){const t=Object.create(se.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_keystore_free(e)}static load(e,t){return O(e,le),O(t,ae),a(r.keystore_load(e.ptr,t.ptr))}addKey(e){return a(r.keystore_addKey(this.ptr,w(e)))}changeKeyPassword(e){return a(r.keystore_changeKeyPassword(this.ptr,w(e)))}exportKey(e){return a(r.keystore_exportKey(this.ptr,w(e)))}check_password(e){return a(r.keystore_check_password(this.ptr,w(e)))}sign(e,t){return O(e,_e),a(r.keystore_sign(this.ptr,e.ptr,w(t)))}removeKey(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.keystore_removeKey(this.ptr,t,n))}clear(){return a(r.keystore_clear(this.ptr))}getKeys(){return a(r.keystore_getKeys(this.ptr))}}class ae{static __wrap(e){const t=Object.create(ae.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_ledgerconnection_free(e)}constructor(e){var t=r.gqlconnection_new(w(e));return ae.__wrap(t)}}class ue{static __wrap(e){const t=Object.create(ue.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_ledgerqueryresulthandler_free(e)}onResult(e){const t=this.__destroy_into_raw();var n=function(e,t){const n=t(1*e.length);return l().set(e,n/1),u=e.length,n}(e,r.__wbindgen_malloc),o=u;r.ledgerqueryresulthandler_onResult(t,n,o)}onError(e){const t=this.__destroy_into_raw();r.ledgerqueryresulthandler_onError(t,w(e))}}class ce{static __wrap(e){const t=Object.create(ce.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_rawcontractstate_free(e)}get balance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.rawcontractstate_balance(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}}class le{static __wrap(e){const t=Object.create(le.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_storage_free(e)}constructor(e){var t=r.gqlconnection_new(w(e));return le.__wrap(t)}}class fe{static __wrap(e){const t=Object.create(fe.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_storagequeryhandler_free(e)}onResult(){const e=this.__destroy_into_raw();r.storagequeryhandler_onResult(e)}onError(e){const t=this.__destroy_into_raw();r.storagequeryhandler_onError(t,w(e))}}class he{static __wrap(e){const t=Object.create(he.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_storagequeryresulthandler_free(e)}onResult(e){const t=this.__destroy_into_raw();var n=p(e)?0:d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;r.storagequeryresulthandler_onResult(t,n,o)}onError(e){const t=this.__destroy_into_raw();r.storagequeryresulthandler_onError(t,w(e))}}class de{static __wrap(e){const t=Object.create(de.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_tokenwallet_free(e)}static makeCollectTokensCall(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.tokenwallet_makeCollectTokensCall(t,n))}get version(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.genericcontract_address(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get symbol(){return a(r.tokenwallet_symbol(this.ptr))}get owner(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.tokenwallet_owner(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get address(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.tokenwallet_address(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get balance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.tokenwallet_balance(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}prepareDeploy(){return a(r.tokenwallet_prepareDeploy(this.ptr))}prepareTransfer(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u;return a(r.tokenwallet_prepareTransfer(this.ptr,o,i,s,c,n))}prepareSwapBack(e,t,n){var o=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=u,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u,l=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),f=u;return a(r.tokenwallet_prepareSwapBack(this.ptr,o,i,s,c,l,f))}getProxyAddress(){return a(r.tokenwallet_getProxyAddress(this.ptr))}refresh(){return a(r.tokenwallet_refresh(this.ptr))}handleBlock(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.tokenwallet_handleBlock(this.ptr,t,n))}preloadTransactions(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u,i=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),s=u;return a(r.tokenwallet_preloadTransactions(this.ptr,n,o,i,s))}}class pe{static __wrap(e){const t=Object.create(pe.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_tonwallet_free(e)}get address(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.tonwallet_address(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get publicKey(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.tonwallet_publicKey(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get contractType(){return a(r.tonwallet_contractType(this.ptr))}get details(){return a(r.tonwallet_details(this.ptr))}contractState(){return a(r.tonwallet_contractState(this.ptr))}prepareDeploy(e){var t=r.tonwallet_prepareDeploy(this.ptr,e);return _e.__wrap(t)}prepareTransfer(e,t,n,o,i,s){O(e,ce);var a=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=u,l=d(n,r.__wbindgen_malloc,r.__wbindgen_realloc),f=u,h=d(i,r.__wbindgen_malloc,r.__wbindgen_realloc),p=u,_=r.tonwallet_prepareTransfer(this.ptr,e.ptr,a,c,l,f,o,h,p,s);return 0===_?void 0:_e.__wrap(_)}getContractState(){return a(r.tonwallet_getContractState(this.ptr))}estimateFees(e){return a(r.tonwallet_estimateFees(this.ptr,w(e)))}sendMessage(e){return a(r.tonwallet_sendMessage(this.ptr,w(e)))}refresh(){return a(r.tonwallet_refresh(this.ptr))}handleBlock(e){var t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=u;return a(r.tonwallet_handleBlock(this.ptr,t,n))}preloadTransactions(e,t){var n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),o=u,i=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),s=u;return a(r.tonwallet_preloadTransactions(this.ptr,n,o,i,s))}get pollingMethod(){return a(r.tonwallet_pollingMethod(this.ptr))}}class _e{static __wrap(e){const t=Object.create(_e.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_unsignedmessage_free(e)}refreshTimeout(){r.unsignedmessage_refreshTimeout(this.ptr)}expireAt(){return r.unsignedmessage_expireAt(this.ptr)>>>0}get hash(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.unsignedmessage_hash(n,this.ptr);var e=g()[n/4+0],t=g()[n/4+1];return b(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}signFake(){return a(r.unsignedmessage_signFake(this.ptr))}}const ge=async function e(t){void 0===t&&(t=new URL(n(18104),n.b));const o={wbg:{}};o.wbg.__wbg_get_b7bbf50adcc94294=function(e,t){return w(i(e)[t>>>0])},o.wbg.__wbg_get_800098c980b31ea2=function(){return J((function(e,t){return w(Reflect.get(i(e),i(t)))}),arguments)},o.wbg.__wbindgen_is_string=function(e){return"string"==typeof i(e)},o.wbg.__wbindgen_object_drop_ref=function(e){a(e)},o.wbg.__wbindgen_string_get=function(e,t){const n=i(t);var o="string"==typeof n?n:void 0,s=p(o)?0:d(o,r.__wbindgen_malloc,r.__wbindgen_realloc),a=u;g()[e/4+1]=a,g()[e/4+0]=s},o.wbg.__wbindgen_json_serialize=function(e,t){const n=i(t);var o=d(JSON.stringify(void 0===n?null:n),r.__wbindgen_malloc,r.__wbindgen_realloc),s=u;g()[e/4+1]=s,g()[e/4+0]=o},o.wbg.__wbg_call_3fc07b7d5fc9022d=function(){return J((function(e,t,n){return w(i(e).call(i(t),i(n)))}),arguments)},o.wbg.__wbindgen_string_new=function(e,t){return w(b(e,t))},o.wbg.__wbg_remove_6a18c3336a238ea0=function(e,t,n,r){i(e).remove(b(t,n),fe.__wrap(r))},o.wbg.__wbg_new_3e1ee746fe308c9f=function(e,t){return w(new Error(b(e,t)))},o.wbg.__wbg_keystore_new=function(e){return w(se.__wrap(e))},o.wbg.__wbg_tonwallet_new=function(e){return w(pe.__wrap(e))},o.wbg.__wbg_genericcontract_new=function(e){return w(te.__wrap(e))},o.wbg.__wbg_new_515b65a8e7699d00=function(){return w(new Array)},o.wbg.__wbg_push_b7f68478f81d358b=function(e,t){return i(e).push(i(t))},o.wbg.__wbg_send_071cec1c0976f31a=function(e,t,n,r){i(e).send(b(t,n),ie.__wrap(r))},o.wbg.__wbg_new_edbe38a4e21329dd=function(){return w(new Object)},o.wbg.__wbindgen_number_new=function(e){return w(e)},o.wbg.__wbg_set_73349fc4814e0fc6=function(){return J((function(e,t,n){return Reflect.set(i(e),i(t),i(n))}),arguments)},o.wbg.__wbg_set_dedd1966991b8022=function(e,t,n,r,o,s){i(e).set(b(t,n),b(r,o),fe.__wrap(s))},o.wbg.__wbg_send_44810f23301ba469=function(e,t,n,r){i(e).send(b(t,n),re.__wrap(r))},o.wbg.__wbg_sign_c26088c1a22c50b6=function(e,t,n,r,o){i(e).sign(t,C(n,r),ue.__wrap(o))},o.wbg.__wbg_get_708be516cb46409f=function(e,t,n,r){i(e).get(b(t,n),he.__wrap(r))},o.wbg.__wbg_tokenwallet_new=function(e){return w(de.__wrap(e))},o.wbg.__wbg_getPublicKey_a9a8dec3650eff36=function(e,t,n){i(e).getPublicKey(t,ue.__wrap(n))},o.wbg.__wbg_accountsstorage_new=function(e){return w(Q.__wrap(e))},o.wbg.__wbg_rawcontractstate_new=function(e){return w(ce.__wrap(e))},o.wbg.__wbg_onMessageSent_645ea262d31687db=function(e,t,n){i(e).onMessageSent(a(t),a(n))},o.wbg.__wbg_onMessageExpired_aa530777d08a71e2=function(e,t){i(e).onMessageExpired(a(t))},o.wbg.__wbg_onStateChanged_4009e937f4c26b76=function(e,t){i(e).onStateChanged(a(t))},o.wbg.__wbg_onTransactionsFound_196086d46594f34e=function(e,t,n){i(e).onTransactionsFound(a(t),a(n))},o.wbg.__wbg_onBalanceChanged_f6a7bcdd54f1d9d6=function(e,t,n){try{i(e).onBalanceChanged(b(t,n))}finally{r.__wbindgen_free(t,n)}},o.wbg.__wbg_onTransactionsFound_f4b7065ec2d26ab1=function(e,t,n){i(e).onTransactionsFound(a(t),a(n))},o.wbg.__wbg_onMessageSent_bd0faf830e86b930=function(e,t,n){i(e).onMessageSent(a(t),a(n))},o.wbg.__wbg_onMessageExpired_eb36786caf7e3c66=function(e,t){i(e).onMessageExpired(a(t))},o.wbg.__wbg_onStateChanged_aa7431e52ece34d3=function(e,t){i(e).onStateChanged(a(t))},o.wbg.__wbg_onTransactionsFound_de3cc662aadd9690=function(e,t,n){i(e).onTransactionsFound(a(t),a(n))},o.wbg.__wbg_isArray_92d4d182f6ebc896=function(e){return Array.isArray(i(e))},o.wbg.__wbg_length_555f836564bf148d=function(e){return i(e).length},o.wbg.__wbindgen_number_get=function(e,t){const n=i(t);var o="number"==typeof n?n:void 0;(null!==y&&y.buffer===r.memory.buffer||(y=new Float64Array(r.memory.buffer)),y)[e/8+1]=p(o)?0:o,g()[e/4+0]=!p(o)},o.wbg.__wbindgen_boolean_get=function(e){const t=i(e);return"boolean"==typeof t?t?1:0:2},o.wbg.__wbindgen_is_object=function(e){const t=i(e);return"object"==typeof t&&null!==t},o.wbg.__wbindgen_is_null=function(e){return null===i(e)},o.wbg.__wbindgen_is_undefined=function(e){return void 0===i(e)},o.wbg.__wbg_new_c143a4f563f78c4e=function(e,t){try{var n={a:e,b:t},o=new Promise(((e,t)=>{const o=n.a;n.a=0;try{return function(e,t,n,o){r.wasm_bindgen__convert__closures__invoke2_mut__h6c1e554f24280896(e,t,w(n),w(o))}(o,n.b,e,t)}finally{n.a=o}}));return w(o)}finally{n.a=n.b=0}},o.wbg.__wbg_setUnchecked_dd630a9166519fe1=function(e,t,n,r,o){i(e).setUnchecked(b(t,n),b(r,o))},o.wbg.__wbg_removeUnchecked_65c71be863673be8=function(e,t,n){i(e).removeUnchecked(b(t,n))},o.wbg.__wbg_error_d95afd6217cfd219=function(e){console.error(i(e))},o.wbg.__wbg_new0_85024d5e91a046e9=function(){return w(new Date)},o.wbg.__wbg_getTime_55dfad3366aec58a=function(e){return i(e).getTime()},o.wbg.__wbg_now_44a034aa2e1d73dd=function(e){return i(e).now()},o.wbg.__wbg_self_bb69a836a72ec6e9=function(){return J((function(){return w(self.self)}),arguments)},o.wbg.__wbg_window_3304fc4b414c9693=function(){return J((function(){return w(window.window)}),arguments)},o.wbg.__wbg_globalThis_e0d21cabc6630763=function(){return J((function(){return w(globalThis.globalThis)}),arguments)},o.wbg.__wbg_global_8463719227271676=function(){return J((function(){return w(n.g.global)}),arguments)},o.wbg.__wbg_newnoargs_9fdd8f3961dd1bee=function(e,t){return w(new Function(b(e,t)))},o.wbg.__wbg_call_ba36642bd901572b=function(){return J((function(e,t){return w(i(e).call(i(t)))}),arguments)},o.wbg.__wbindgen_object_clone_ref=function(e){return w(i(e))},o.wbg.__wbg_instanceof_Window_11e25482011fc506=function(e){return i(e)instanceof Window},o.wbg.__wbg_crypto_652a98873116a454=function(){return J((function(e){return w(i(e).crypto)}),arguments)},o.wbg.__wbg_getRandomValues_c535f669c6f75803=function(){return J((function(e,t,n){return w(i(e).getRandomValues(C(t,n)))}),arguments)},o.wbg.__wbindgen_debug_string=function(e,t){var n=d(m(i(t)),r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;g()[e/4+1]=o,g()[e/4+0]=n},o.wbg.__wbindgen_throw=function(e,t){throw new Error(b(e,t))},o.wbg.__wbindgen_rethrow=function(e){throw a(e)},o.wbg.__wbg_resolve_cae3d8f752f5db88=function(e){return w(Promise.resolve(i(e)))},o.wbg.__wbindgen_cb_drop=function(e){const t=a(e).original;return 1==t.cnt--&&(t.a=0,!0)},o.wbg.__wbg_then_c2361a9d5c9a4fcb=function(e,t){return w(i(e).then(i(t)))},o.wbg.__wbg_error_b34cc56d85003ef4=function(e,t,n,r){console.error(i(e),i(t),i(n),i(r))},o.wbg.__wbg_debug_3cd00f291377c174=function(e,t,n,r){console.debug(i(e),i(t),i(n),i(r))},o.wbg.__wbg_log_11ed533feafc234e=function(e,t,n,r){console.log(i(e),i(t),i(n),i(r))},o.wbg.__wbg_info_018f27f794253c5d=function(e,t,n,r){console.info(i(e),i(t),i(n),i(r))},o.wbg.__wbg_warn_c8159c1458b48e78=function(e,t,n,r){console.warn(i(e),i(t),i(n),i(r))},o.wbg.__wbindgen_closure_wrapper4244=function(e,t,n){return w(function(e,t,n,o){const i={a:e,b:t,cnt:1,dtor:885},s=(...e)=>{i.cnt++;const t=i.a;i.a=0;try{return o(t,i.b,...e)}finally{0==--i.cnt?r.__wbindgen_export_2.get(i.dtor)(t,i.b):i.a=t}};return s.original=i,s}(e,t,0,E))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:s,module:c}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,o);return r=s.exports,e.__wbindgen_wasm_module=c,r.__wbindgen_start(),r}},18104:(e,t,n)=>{"use strict";Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),e.exports=n.v(t,e.id,"fa6e349448b6b2b99d9a",{wbg:{__wbg_get_b7bbf50adcc94294:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_get_800098c980b31ea2:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_is_string:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_object_drop_ref:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_string_get:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_json_serialize:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_call_3fc07b7d5fc9022d:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_string_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_remove_6a18c3336a238ea0:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_new_3e1ee746fe308c9f:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_keystore_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_tonwallet_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_genericcontract_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_new_515b65a8e7699d00:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_push_b7f68478f81d358b:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_send_071cec1c0976f31a:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_new_edbe38a4e21329dd:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_number_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_set_73349fc4814e0fc6:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_set_dedd1966991b8022:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_send_44810f23301ba469:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_sign_c26088c1a22c50b6:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_get_708be516cb46409f:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_tokenwallet_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_getPublicKey_a9a8dec3650eff36:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_accountsstorage_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_rawcontractstate_new:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onMessageSent_645ea262d31687db:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onMessageExpired_aa530777d08a71e2:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onStateChanged_4009e937f4c26b76:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onTransactionsFound_196086d46594f34e:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onBalanceChanged_f6a7bcdd54f1d9d6:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onTransactionsFound_f4b7065ec2d26ab1:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onMessageSent_bd0faf830e86b930:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onMessageExpired_eb36786caf7e3c66:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onStateChanged_aa7431e52ece34d3:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_onTransactionsFound_de3cc662aadd9690:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_isArray_92d4d182f6ebc896:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_length_555f836564bf148d:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_number_get:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_boolean_get:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_is_object:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_is_null:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_is_undefined:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_new_c143a4f563f78c4e:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_setUnchecked_dd630a9166519fe1:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_removeUnchecked_65c71be863673be8:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_error_d95afd6217cfd219:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_new0_85024d5e91a046e9:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_getTime_55dfad3366aec58a:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_now_44a034aa2e1d73dd:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_self_bb69a836a72ec6e9:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_window_3304fc4b414c9693:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_globalThis_e0d21cabc6630763:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_global_8463719227271676:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_newnoargs_9fdd8f3961dd1bee:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_call_ba36642bd901572b:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_object_clone_ref:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_instanceof_Window_11e25482011fc506:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_crypto_652a98873116a454:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_getRandomValues_c535f669c6f75803:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_debug_string:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_throw:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_rethrow:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_resolve_cae3d8f752f5db88:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_cb_drop:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_then_c2361a9d5c9a4fcb:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_error_b34cc56d85003ef4:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_debug_3cd00f291377c174:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_log_11ed533feafc234e:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_info_018f27f794253c5d:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbg_warn_c8159c1458b48e78:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}()),__wbindgen_closure_wrapper4244:Object(function(){var e=new Error("Cannot find module 'wbg'");throw e.code="MODULE_NOT_FOUND",e}())}})},79068:(e,t,n)=>{"use strict";var r=n(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.Mutex=t.Semaphore=void 0;class o{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(void 0===e)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise(((e,t)=>{this.tasks.push((()=>{let t=!1;e((()=>{t||(t=!0,this.count++,this.sched())}))})),r&&r.nextTick?r.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))}))}use(e){return this.acquire().then((t=>e().then((e=>(t(),e))).catch((e=>{throw t(),e}))))}}t.Semaphore=o,t.Mutex=class extends o{constructor(){super(1)}}},57204:(e,t,n)=>{"use strict";t.Z=void 0;var r=n(76358);function o(e){const t=Buffer.alloc(2);return t.writeUInt16BE(e,0),t}const i={data:Buffer.alloc(0),dataLength:0,sequence:0};t.Z=(e,t)=>({makeBlocks(n){let r=Buffer.concat([o(n.length),n]);const i=t-5,s=Math.ceil(r.length/i);r=Buffer.concat([r,Buffer.alloc(s*i-r.length+1).fill(0)]);const a=[];for(let t=0;t<s;t++){const n=Buffer.alloc(5);n.writeUInt16BE(e,0),n.writeUInt8(5,2),n.writeUInt16BE(t,3);const o=r.slice(t*i,(t+1)*i);a.push(Buffer.concat([n,o]))}return a},reduceResponse(t,n){let{data:o,dataLength:s,sequence:a}=t||i;if(n.readUInt16BE(0)!==e)throw new r.TransportError("Invalid channel","InvalidChannel");if(5!==n.readUInt8(2))throw new r.TransportError("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==a)throw new r.TransportError("Invalid sequence","InvalidSequence");t||(s=n.readUInt16BE(5)),a++;const u=n.slice(t?5:7);return o=Buffer.concat([o,u]),o.length>s&&(o=o.slice(0,s)),{data:o,dataLength:s,sequence:a}},getReducedResult(e){if(e&&e.dataLength===e.data.length)return e.data}})},67801:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new f(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new f(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=u(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=u(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||i&&s||a||c}}e.exports=o;const i=n(25518),{re:s,t:a}=n(41870),u=n(82864),c=n(86322),l=n(86244),f=n(89061)},89061:(e,t,n)=>{class r{constructor(e,t){if(t=i(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&_(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=o.get(t);if(n)return n;const r=this.options.loose,i=r?c[l.HYPHENRANGELOOSE]:c[l.HYPHENRANGE];e=e.replace(i,A(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(c[l.COMPARATORTRIM],f),a("comparator trim",e,c[l.COMPARATORTRIM]),e=(e=(e=e.replace(c[l.TILDETRIM],h)).replace(c[l.CARETTRIM],d)).split(/\s+/).join(" ");const u=r?c[l.COMPARATORLOOSE]:c[l.COMPARATOR],_=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>N(e,this.options))).filter(this.options.loose?e=>!!e.match(u):()=>!0).map((e=>new s(e,this.options))),g=(_.length,new Map);for(const e of _){if(p(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const b=[...g.values()];return o.set(t,b),b}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>g(n,t)&&e.set.some((e=>g(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(C(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=new(n(39593))({max:1e3}),i=n(25518),s=n(67801),a=n(86322),u=n(86244),{re:c,t:l,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:d}=n(41870),p=e=>"<0.0.0-0"===e.value,_=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},v=(e,t)=>(a("comp",e,t),e=m(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=O(e,t),a("xrange",e),e=S(e,t),a("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>y(e,t))).join(" "),y=(e,t)=>{const n=t.loose?c[l.TILDELOOSE]:c[l.TILDE];return e.replace(n,((t,n,r,o,i)=>{let s;return a("tilde",e,t,n,r,o,i),b(n)?s="":b(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:b(o)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(a("replaceTilde pr",i),s=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,a("tilde return",s),s}))},m=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{a("caret",e,t);const n=t.loose?c[l.CARETLOOSE]:c[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,i,s)=>{let u;return a("caret",e,t,n,o,i,s),b(n)?u="":b(o)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:b(i)?u="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),u="0"===n?"0"===o?`>=${n}.${o}.${i}-${s} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${s} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${s} <${+n+1}.0.0-0`):(a("no pr"),u="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),a("caret return",u),u}))},O=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>T(e,t))).join(" ")),T=(e,t)=>{e=e.trim();const n=t.loose?c[l.XRANGELOOSE]:c[l.XRANGE];return e.replace(n,((n,r,o,i,s,u)=>{a("xRange",e,n,r,o,i,s,u);const c=b(o),l=c||b(i),f=l||b(s),h=f;return"="===r&&h&&(r=""),u=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(l&&(i=0),s=0,">"===r?(r=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n=`${r+o}.${i}.${s}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),a("xRange return",n),n}))},S=(e,t)=>(a("replaceStars",e,t),e.trim().replace(c[l.STAR],"")),N=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),A=e=>(t,n,r,o,i,s,a,u,c,l,f,h,d)=>`${n=b(r)?"":b(o)?`>=${r}.0.0${e?"-0":""}`:b(i)?`>=${r}.${o}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${u=b(c)?"":b(l)?`<${+c+1}.0.0-0`:b(f)?`<${c}.${+l+1}.0-0`:h?`<=${c}.${l}.${f}-${h}`:e?`<${c}.${l}.${+f+1}-0`:`<=${u}`}`.trim(),C=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},86244:(e,t,n)=>{const r=n(86322),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(40602),{re:s,t:a}=n(41870),u=n(25518),{compareIdentifiers:c}=n(13189);class l{constructor(e,t){if(t=u(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return c(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},32340:(e,t,n)=>{const r=n(82362);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},82864:(e,t,n)=>{const r=n(65254),o=n(16570),i=n(81666),s=n(63041),a=n(98771),u=n(77179);e.exports=(e,t,n,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,c);case"!=":return o(e,n,c);case">":return i(e,n,c);case">=":return s(e,n,c);case"<":return a(e,n,c);case"<=":return u(e,n,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},88384:(e,t,n)=>{const r=n(86244),o=n(82362),{re:i,t:s}=n(41870);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=i[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),i[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[s.COERCERTL].lastIndex=-1}else n=e.match(i[s.COERCE]);return null===n?null:o(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},62754:(e,t,n)=>{const r=n(86244);e.exports=(e,t,n)=>{const o=new r(e,n),i=new r(t,n);return o.compare(i)||o.compareBuild(i)}},20869:(e,t,n)=>{const r=n(32641);e.exports=(e,t)=>r(e,t,!0)},32641:(e,t,n)=>{const r=n(86244);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},92330:(e,t,n)=>{const r=n(82362),o=n(65254);e.exports=(e,t)=>{if(o(e,t))return null;{const n=r(e),o=r(t),i=n.prerelease.length||o.prerelease.length,s=i?"pre":"",a=i?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==o[e])return s+e;return a}}},65254:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>0===r(e,t,n)},81666:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>r(e,t,n)>0},63041:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>r(e,t,n)>=0},64156:(e,t,n)=>{const r=n(86244);e.exports=(e,t,n,o)=>{"string"==typeof n&&(o=n,n=void 0);try{return new r(e,n).inc(t,o).version}catch(e){return null}}},98771:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>r(e,t,n)<0},77179:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>r(e,t,n)<=0},71522:(e,t,n)=>{const r=n(86244);e.exports=(e,t)=>new r(e,t).major},71801:(e,t,n)=>{const r=n(86244);e.exports=(e,t)=>new r(e,t).minor},16570:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>0!==r(e,t,n)},82362:(e,t,n)=>{const{MAX_LENGTH:r}=n(40602),{re:o,t:i}=n(41870),s=n(86244),a=n(25518);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[i.LOOSE]:o[i.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},47184:(e,t,n)=>{const r=n(86244);e.exports=(e,t)=>new r(e,t).patch},6399:(e,t,n)=>{const r=n(82362);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},58209:(e,t,n)=>{const r=n(32641);e.exports=(e,t,n)=>r(t,e,n)},53729:(e,t,n)=>{const r=n(62754);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},8139:(e,t,n)=>{const r=n(89061);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},46184:(e,t,n)=>{const r=n(62754);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},87705:(e,t,n)=>{const r=n(82362);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},28371:(e,t,n)=>{const r=n(41870);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(40602).SEMVER_SPEC_VERSION,SemVer:n(86244),compareIdentifiers:n(13189).compareIdentifiers,rcompareIdentifiers:n(13189).rcompareIdentifiers,parse:n(82362),valid:n(87705),clean:n(32340),inc:n(64156),diff:n(92330),major:n(71522),minor:n(71801),patch:n(47184),prerelease:n(6399),compare:n(32641),rcompare:n(58209),compareLoose:n(20869),compareBuild:n(62754),sort:n(46184),rsort:n(53729),gt:n(81666),lt:n(98771),eq:n(65254),neq:n(16570),gte:n(63041),lte:n(77179),cmp:n(82864),coerce:n(88384),Comparator:n(67801),Range:n(89061),satisfies:n(8139),toComparators:n(92811),maxSatisfying:n(59290),minSatisfying:n(62465),minVersion:n(91785),validRange:n(77855),outside:n(86049),gtr:n(42097),ltr:n(59850),intersects:n(34298),simplifyRange:n(29905),subset:n(1254)}},40602:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},86322:(e,t,n)=>{var r=n(34155);const o="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=o},13189:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},25518:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},41870:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(40602),o=n(86322),i=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let u=0;const c=(e,t,n)=>{const r=u++;o(r,t),a[e]=r,s[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),c("FULL",`^${s[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),c("LOOSE",`^${s[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),c("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",s[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},42097:(e,t,n)=>{const r=n(86049);e.exports=(e,t,n)=>r(e,t,">",n)},34298:(e,t,n)=>{const r=n(89061);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))},59850:(e,t,n)=>{const r=n(86049);e.exports=(e,t,n)=>r(e,t,"<",n)},59290:(e,t,n)=>{const r=n(86244),o=n(89061);e.exports=(e,t,n)=>{let i=null,s=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new r(i,n)))})),i}},62465:(e,t,n)=>{const r=n(86244),o=n(89061);e.exports=(e,t,n)=>{let i=null,s=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new r(i,n)))})),i}},91785:(e,t,n)=>{const r=n(86244),o=n(89061),i=n(81666);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!i(n,s)||(n=s)}return n&&e.test(n)?n:null}},86049:(e,t,n)=>{const r=n(86244),o=n(67801),{ANY:i}=o,s=n(89061),a=n(8139),u=n(81666),c=n(98771),l=n(77179),f=n(63041);e.exports=(e,t,n,h)=>{let d,p,_,g,v;switch(e=new r(e,h),t=new s(t,h),n){case">":d=u,p=l,_=c,g=">",v=">=";break;case"<":d=c,p=f,_=u,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,a=null;if(r.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,d(e.semver,s.semver,h)?s=e:_(e.semver,a.semver,h)&&(a=e)})),s.operator===g||s.operator===v)return!1;if((!a.operator||a.operator===g)&&p(e,a.semver))return!1;if(a.operator===v&&_(e,a.semver))return!1}return!0}},29905:(e,t,n)=>{const r=n(8139),o=n(32641);e.exports=(e,t,n)=>{const i=[];let s=null,a=null;const u=e.sort(((e,t)=>o(e,t,n)));for(const e of u)r(e,t,n)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const c=[];for(const[e,t]of i)e===t?c.push(e):t||e!==u[0]?t?e===u[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const l=c.join(" || "),f="string"==typeof t.raw?t.raw:String(t);return l.length<f.length?l:t}},1254:(e,t,n)=>{const r=n(89061),o=n(67801),{ANY:i}=o,s=n(8139),a=n(32641),u=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=[new o(">=0.0.0")]}const r=new Set;let u,f,h,d,p,_,g;for(const t of e)">"===t.operator||">="===t.operator?u=c(u,t,n):"<"===t.operator||"<="===t.operator?f=l(f,t,n):r.add(t.semver);if(r.size>1)return null;if(u&&f){if(h=a(u.semver,f.semver,n),h>0)return null;if(0===h&&(">="!==u.operator||"<="!==f.operator))return null}for(const e of r){if(u&&!s(e,String(u),n))return null;if(f&&!s(e,String(f),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let v=!(!f||n.includePrerelease||!f.semver.prerelease.length)&&f.semver,b=!(!u||n.includePrerelease||!u.semver.prerelease.length)&&u.semver;v&&1===v.prerelease.length&&"<"===f.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,_=_||"<"===e.operator||"<="===e.operator,u)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(d=c(u,e,n),d===e&&d!==u)return!1}else if(">="===u.operator&&!s(u.semver,String(e),n))return!1;if(f)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(p=l(f,e,n),p===e&&p!==f)return!1}else if("<="===f.operator&&!s(f.semver,String(e),n))return!1;if(!e.operator&&(f||u)&&0!==h)return!1}return!(u&&_&&!f&&0!==h||f&&g&&!u&&0!==h||b||v)},c=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},92811:(e,t,n)=>{const r=n(89061);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},77855:(e,t,n)=>{const r=n(89061);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},76358:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccountNameRequiredError:()=>l,AccountNotSupported:()=>f,AmountRequired:()=>h,BluetoothRequired:()=>d,BtcUnmatchedApp:()=>p,CantOpenDevice:()=>_,CantScanQRCode:()=>Ue,CashAddrNotSupported:()=>g,CurrencyNotSupported:()=>v,DBNotReset:()=>Xe,DBWrongPassword:()=>He,DeviceAppVerifyNotSupported:()=>b,DeviceGenuineSocketEarlyClose:()=>w,DeviceHalted:()=>T,DeviceInOSUExpected:()=>O,DeviceNameInvalid:()=>S,DeviceNotGenuineError:()=>y,DeviceOnDashboardExpected:()=>m,DeviceOnDashboardUnexpected:()=>E,DeviceShouldStayInApp:()=>ke,DeviceSocketFail:()=>N,DeviceSocketNoBulkStatus:()=>A,DisconnectedDevice:()=>C,DisconnectedDeviceDuringOperation:()=>R,ETHAddressNonEIP:()=>Pe,EnpointConfigError:()=>I,EthAppPleaseEnableContractData:()=>k,FeeEstimationFailed:()=>x,FeeNotLoaded:()=>De,FeeRequired:()=>Be,FeeTooHigh:()=>Fe,FirmwareNotRecognized:()=>M,FirmwareOrAppUpdateRequired:()=>Ve,GasLessThanEstimate:()=>ae,GenuineCheckFailed:()=>We,HardResetFail:()=>L,InvalidAddress:()=>P,InvalidAddressBecauseDestinationIsAlsoSource:()=>U,InvalidXRPTag:()=>j,LatestMCUInstalledError:()=>D,LedgerAPI4xx:()=>Ge,LedgerAPI5xx:()=>ze,LedgerAPIError:()=>F,LedgerAPIErrorWithMessage:()=>q,LedgerAPINotAvailable:()=>$,MCUNotGenuineToDashboard:()=>pe,ManagerAppAlreadyInstalledError:()=>W,ManagerAppDepInstallRequired:()=>z,ManagerAppDepUninstallRequired:()=>V,ManagerAppRelyOnBTCError:()=>G,ManagerDeviceLockedError:()=>K,ManagerFirmwareNotEnoughSpaceError:()=>H,ManagerNotEnoughSpaceError:()=>X,ManagerUninstallBTCDep:()=>Y,NetworkDown:()=>Z,NoAccessToCamera:()=>oe,NoAddressesFound:()=>J,NoDBPathGiven:()=>Ke,NotEnoughBalance:()=>Q,NotEnoughBalanceBecauseDestinationNotCreated:()=>re,NotEnoughBalanceInParentAccount:()=>te,NotEnoughBalanceToDelegate:()=>ee,NotEnoughGas:()=>ie,NotEnoughSpendableBalance:()=>ne,NotSupportedLegacyAddress:()=>se,PairingFailed:()=>$e,PasswordIncorrectError:()=>ce,PasswordsDontMatchError:()=>ue,RecipientRequired:()=>_e,RecommendSubAccountsToEmpty:()=>le,RecommendUndelegation:()=>fe,StatusCodes:()=>Ze,SyncError:()=>qe,TimeoutTagged:()=>he,TransportError:()=>Ye,TransportInterfaceNotAvailable:()=>Ce,TransportOpenUserCancelled:()=>Ae,TransportRaceCondition:()=>Re,TransportStatusError:()=>Qe,TransportWebUSBGestureRequired:()=>Ie,UnavailableTezosOriginatedAccountReceive:()=>ge,UnavailableTezosOriginatedAccountSend:()=>ve,UnexpectedBootloader:()=>de,UnknownMCU:()=>B,UpdateFetchFileFail:()=>be,UpdateIncorrectHash:()=>we,UpdateIncorrectSig:()=>ye,UpdateYourApp:()=>me,UserRefusedAddress:()=>Oe,UserRefusedAllowManager:()=>Se,UserRefusedDeviceNameChange:()=>Ee,UserRefusedFirmwareUpdate:()=>Te,UserRefusedOnDevice:()=>Ne,WebsocketConnectionError:()=>xe,WebsocketConnectionFailed:()=>Me,WrongAppForCurrency:()=>je,WrongDeviceForAccount:()=>Le,addCustomErrorDeserializer:()=>i,createCustomErrorClass:()=>s,deserializeError:()=>a,getAltStatusMessage:()=>Je,serializeError:()=>u});var r={},o={},i=function(e,t){o[e]=t},s=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,r[e]=t,t},a=function(e){if("object"==typeof e&&e){try{var t=JSON.parse(e.message);t.message&&t.name&&(e=t)}catch(e){}var n=void 0;if("string"==typeof e.name){var i=e.name,u=o[i];if(u)n=u(e);else{var c="Error"===i?Error:r[i];c||(console.warn("deserializing an unknown class '"+i+"'"),c=s(i)),n=Object.create(c.prototype);try{for(var l in e)e.hasOwnProperty(l)&&(n[l]=e[l])}catch(e){}}}else n=new Error(e.message);return!n.stack&&Error.captureStackTrace&&Error.captureStackTrace(n,a),n}return new Error(String(e))},u=function(e){return e?"object"==typeof e?c(e,[]):"function"==typeof e?"[Function: "+(e.name||"anonymous")+"]":e:e};function c(e,t){var n={};t.push(e);for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],s=e[i];"function"!=typeof s&&(s&&"object"==typeof s?-1!==t.indexOf(e[i])?n[i]="[Circular]":n[i]=c(e[i],t.slice(0)):n[i]=s)}return"string"==typeof e.name&&(n.name=e.name),"string"==typeof e.message&&(n.message=e.message),"string"==typeof e.stack&&(n.stack=e.stack),n}var l=s("AccountNameRequired"),f=s("AccountNotSupported"),h=s("AmountRequired"),d=s("BluetoothRequired"),p=s("BtcUnmatchedApp"),_=s("CantOpenDevice"),g=s("CashAddrNotSupported"),v=s("CurrencyNotSupported"),b=s("DeviceAppVerifyNotSupported"),w=s("DeviceGenuineSocketEarlyClose"),y=s("DeviceNotGenuine"),m=s("DeviceOnDashboardExpected"),E=s("DeviceOnDashboardUnexpected"),O=s("DeviceInOSUExpected"),T=s("DeviceHalted"),S=s("DeviceNameInvalid"),N=s("DeviceSocketFail"),A=s("DeviceSocketNoBulkStatus"),C=s("DisconnectedDevice"),R=s("DisconnectedDeviceDuringOperation"),I=s("EnpointConfig"),k=s("EthAppPleaseEnableContractData"),x=s("FeeEstimationFailed"),M=s("FirmwareNotRecognized"),L=s("HardResetFail"),j=s("InvalidXRPTag"),P=s("InvalidAddress"),U=s("InvalidAddressBecauseDestinationIsAlsoSource"),D=s("LatestMCUInstalledError"),B=s("UnknownMCU"),F=s("LedgerAPIError"),q=s("LedgerAPIErrorWithMessage"),$=s("LedgerAPINotAvailable"),W=s("ManagerAppAlreadyInstalled"),G=s("ManagerAppRelyOnBTC"),z=s("ManagerAppDepInstallRequired"),V=s("ManagerAppDepUninstallRequired"),K=s("ManagerDeviceLocked"),H=s("ManagerFirmwareNotEnoughSpace"),X=s("ManagerNotEnoughSpace"),Y=s("ManagerUninstallBTCDep"),Z=s("NetworkDown"),J=s("NoAddressesFound"),Q=s("NotEnoughBalance"),ee=s("NotEnoughBalanceToDelegate"),te=s("NotEnoughBalanceInParentAccount"),ne=s("NotEnoughSpendableBalance"),re=s("NotEnoughBalanceBecauseDestinationNotCreated"),oe=s("NoAccessToCamera"),ie=s("NotEnoughGas"),se=s("NotSupportedLegacyAddress"),ae=s("GasLessThanEstimate"),ue=s("PasswordsDontMatch"),ce=s("PasswordIncorrect"),le=s("RecommendSubAccountsToEmpty"),fe=s("RecommendUndelegation"),he=s("TimeoutTagged"),de=s("UnexpectedBootloader"),pe=s("MCUNotGenuineToDashboard"),_e=s("RecipientRequired"),ge=s("UnavailableTezosOriginatedAccountReceive"),ve=s("UnavailableTezosOriginatedAccountSend"),be=s("UpdateFetchFileFail"),we=s("UpdateIncorrectHash"),ye=s("UpdateIncorrectSig"),me=s("UpdateYourApp"),Ee=s("UserRefusedDeviceNameChange"),Oe=s("UserRefusedAddress"),Te=s("UserRefusedFirmwareUpdate"),Se=s("UserRefusedAllowManager"),Ne=s("UserRefusedOnDevice"),Ae=s("TransportOpenUserCancelled"),Ce=s("TransportInterfaceNotAvailable"),Re=s("TransportRaceCondition"),Ie=s("TransportWebUSBGestureRequired"),ke=s("DeviceShouldStayInApp"),xe=s("WebsocketConnectionError"),Me=s("WebsocketConnectionFailed"),Le=s("WrongDeviceForAccount"),je=s("WrongAppForCurrency"),Pe=s("ETHAddressNonEIP"),Ue=s("CantScanQRCode"),De=s("FeeNotLoaded"),Be=s("FeeRequired"),Fe=s("FeeTooHigh"),qe=s("SyncError"),$e=s("PairingFailed"),We=s("GenuineCheckFailed"),Ge=s("LedgerAPI4xx"),ze=s("LedgerAPI5xx"),Ve=s("FirmwareOrAppUpdateRequired"),Ke=s("NoDBPathGiven"),He=s("DBWrongPassword"),Xe=s("DBNotReset");function Ye(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}Ye.prototype=new Error,i("TransportError",(function(e){return new Ye(e.message,e.id)}));var Ze={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function Je(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}function Qe(e){this.name="TransportStatusError";var t=Object.keys(Ze).find((function(t){return Ze[t]===e}))||"UNKNOWN_ERROR",n=Je(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}Qe.prototype=new Error,i("TransportStatusError",(function(e){return new Qe(e.statusCode)}))},2586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(17187),o=n.n(r),i=n(76358);class s{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new(o()),this.send=async(e,t,n,r,o=Buffer.alloc(0),s=[i.StatusCodes.OK])=>{if(o.length>=256)throw new i.TransportError("data.length exceed 256 bytes limit. Got: "+o.length,"DataLengthTooBig");const a=await this.exchange(Buffer.concat([Buffer.from([e,t,n,r]),Buffer.from([o.length]),o])),u=a.readUInt16BE(a.length-2);if(!s.some((e=>e===u)))throw new i.TransportStatusError(u);return a},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async e=>{if(this.exchangeBusyPromise)throw new i.TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");let t;const n=new Promise((e=>{t=e}));this.exchangeBusyPromise=n;let r=!1;const o=setTimeout((()=>{r=!0,this.emit("unresponsive")}),this.unresponsiveTimeout);try{const n=await e();return r&&this.emit("responsive"),n}finally{clearTimeout(o),t&&t(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(e){throw new Error("exchange not implemented")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise(((n,r)=>{let o=!1;const s=this.listen({next:t=>{o=!0,s&&s.unsubscribe(),a&&clearTimeout(a),this.open(t.descriptor,e).then(n,r)},error:e=>{a&&clearTimeout(a),r(e)},complete:()=>{a&&clearTimeout(a),o||r(new i.TransportError(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),a=t?setTimeout((()=>{s.unsubscribe(),r(new i.TransportError(this.ErrorMessage_ListenTimeout,"ListenTimeout"))}),t):null}))}decorateAppAPIMethods(e,t,n){for(let r of t)e[r]=this.decorateAppAPIMethod(r,e[r],e,n)}decorateAppAPIMethod(e,t,n,r){return async(...o)=>{const{_appAPIlock:s}=this;if(s)return Promise.reject(new i.TransportError("Ledger Device is busy (lock "+s+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(r),await t.apply(n,o)}finally{this._appAPIlock=null}}}}s.isSupported=void 0,s.list=void 0,s.listen=void 0,s.open=void 0,s.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",s.ErrorMessage_NoDeviceFound="No Ledger device found";var a=n(57204),u=n(28371),c=n.n(u);const l={blue:{id:"blue",productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096,getBlockSize:e=>4096},nanoS:{id:"nanoS",productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096,getBlockSize:e=>c().lt(c().coerce(e),"2.0.0")?4096:2048},nanoX:{id:"nanoX",productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,getBlockSize:e=>4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},f=Object.values(l),h=e=>{const t=f.find((t=>t.legacyUsbProductId===e));if(t)return t;const n=e>>8;return f.find((e=>e.productIdMM===n))},d=[],p={};for(let e in l){const t=l[e],{bluetoothSpec:n}=t;if(n)for(let e=0;e<n.length;e++){const r=n[e];d.push(r.serviceUuid),p[r.serviceUuid]=p[r.serviceUuid.replace(/-/g,"")]={deviceModel:t,...r}}}let _=0;const g=[],v=(e,t,n)=>{const r={type:e,id:String(++_),date:new Date};t&&(r.message=t),n&&(r.data=n),function(e){for(let t=0;t<g.length;t++)try{g[t](e)}catch(e){console.error(e)}}(r)};"undefined"!=typeof window&&(window.__ledgerLogsListen=e=>(g.push(e),()=>{const t=g.indexOf(e);-1!==t&&(g[t]=g[g.length-1],g.pop())}));const b=[{vendorId:11415}],w=()=>{const{hid:e}=navigator;if(!e)throw new i.TransportError("navigator.hid is not supported","HIDNotSupported");return e};async function y(){const e=await w().requestDevice({filters:b});return Array.isArray(e)?e:[e]}async function m(){return(await w().getDevices()).filter((e=>11415===e.vendorId))}class E extends s{constructor(e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise((e=>{this.inputCallback=e})),this.onInputReport=e=>{const t=Buffer.from(e.data.buffer);this.inputCallback?(this.inputCallback(t),this.inputCallback=null):this.inputs.push(t)},this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>this.exchangeAtomicImpl((async()=>{const{channel:t,packetSize:n}=this;v("apdu","=> "+e.toString("hex"));const r=(0,a.Z)(t,n),o=r.makeBlocks(e);for(let e=0;e<o.length;e++)await this.device.sendReport(0,o[e]);let i,s;for(;!(i=r.getReducedResult(s));){const e=await this.read();s=r.reduceResponse(s,e)}return v("apdu","<= "+i.toString("hex")),i})).catch((e=>{if(e&&e.message&&e.message.includes("write"))throw this._emitDisconnect(e),new i.DisconnectedDeviceDuringOperation(e.message);throw e})),this.device=e,this.deviceModel=h(e.productId),e.addEventListener("inputreport",this.onInputReport)}static async request(){const[e]=await y();return E.open(e)}static async openConnected(){const e=await m();return 0===e.length?null:E.open(e[0])}static async open(e){await e.open();const t=new E(e),n=r=>{e===r.device&&(w().removeEventListener("disconnect",n),t._emitDisconnect(new i.DisconnectedDevice))};return w().addEventListener("disconnect",n),t}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}E.isSupported=()=>Promise.resolve(!(!n.g.navigator||!n.g.navigator.hid)),E.list=m,E.listen=e=>{let t=!1;return async function(){const e=await m();return e.length>0?e[0]:(await y())[0]}().then((n=>{if(n){if(!t){const t=h(n.productId);e.next({type:"add",descriptor:n,deviceModel:t}),e.complete()}}else e.error(new i.TransportOpenUserCancelled("Access denied to use Ledger device"))}),(t=>{e.error(new i.TransportOpenUserCancelled(t.message))})),{unsubscribe:function(){t=!0}}}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=u(e),s=i[0],a=i[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,u=r-o;a<u;a+=s)i.push(c(e,a,a+s>u?u:a+s));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48764:(e,t,n)=>{"use strict";const r=n(79742),o=n(80645),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|_(e,t);let r=a(n);const o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);const o=function(e){if(u.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function _(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(o)return r?-1:V(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return R(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===u)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){let n=!0;for(let r=0;r<u;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function y(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function m(e,t,n,r){return H(V(t,e.length-n),e,n,r)}function E(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return H(K(t),e,n,r)}function T(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(i=u));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=u.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))o+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},u.byteLength=_,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),c=this.slice(r,o),l=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==l[e]){i=c[e],s=l[e];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return O(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function C(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function R(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=Z[e[r]];return o}function k(e,t,n){const r=e.slice(t,n);let o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function j(e,t,n,r,o){$(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function P(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||P(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,i){return t=+t,n>>>=0,i||P(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=J((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=J((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=J((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||G(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=J((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(e,t=0){return j(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=J((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(e,t=0){return j(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=u.isBuffer(e)?e:u.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const B={};function F(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function $(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||G(t,e.length-(n+1))}(r,o,i)}function W(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function G(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=q(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=q(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},16497:(e,t)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},93776:function(e,t,n){var r;!function(o){"use strict";var i,s,a,u=9e15,c=1e9,l="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",h="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},p=!0,_="[DecimalError] ",g=_+"Invalid argument: ",v=_+"Precision limit exceeded",b=_+"crypto unavailable",w=Math.floor,y=Math.pow,m=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,E=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,O=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,T=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,S=1e7,N=f.length-1,A=h.length-1,C={name:"[object Decimal]"};function R(e){var t,n,r,o=e.length-1,i="",s=e[0];if(o>0){for(i+=s,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(i+=F(n)),i+=r;(n=7-(r=(s=e[t])+"").length)&&(i+=F(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return i+s}function I(e,t,n){if(e!==~~e||e<t||e>n)throw Error(g+e)}function k(e,t,n,r){var o,i,s,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),i=y(10,7-t),a=e[o]%i|0,null==r?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==i||n>3&&a+1==i/2)&&(e[o+1]/i/100|0)==y(10,t-2)-1||(a==i/2||0==a)&&0==(e[o+1]/i/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==i||!r&&n>3&&a+1==i/2)&&(e[o+1]/i/1e3|0)==y(10,t-3)-1,s}function x(e,t,n){for(var r,o,i=[0],s=0,a=e.length;s<a;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=l.indexOf(e.charAt(s++)),r=0;r<i.length;r++)i[r]>n-1&&(void 0===i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}C.absoluteValue=C.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),L(e)},C.ceil=function(){return L(new this.constructor(this),this.e+1,2)},C.comparedTo=C.cmp=function(e){var t,n,r,o,i=this,s=i.d,a=(e=new i.constructor(e)).d,u=i.s,c=e.s;if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;if(u!==c)return u;if(i.e!==e.e)return i.e>e.e^u<0?1:-1;for(t=0,n=(r=s.length)<(o=a.length)?r:o;t<n;++t)if(s[t]!==a[t])return s[t]>a[t]^u<0?1:-1;return r===o?0:r>o^u<0?1:-1},C.cosine=C.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,o=t.d.length;o<32?r=(1/Y(4,n=Math.ceil(o/3))).toString():(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=X(e,1,t.times(r),new e(1));for(var i=n;i--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,Z(r,n)),r.precision=e,r.rounding=t,L(2==a||3==a?n.neg():n,e,t,!0)):new r(1):new r(NaN)},C.cubeRoot=C.cbrt=function(){var e,t,n,r,o,i,s,a,u,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(p=!1,(i=l.s*y(l.s*l,1/3))&&Math.abs(i)!=1/0?r=new f(i.toString()):(n=R(l.d),(i=((e=l.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=y(n,1/3),e=w((e+1)/3)-(e%3==(e<0?-1:2)),(r=new f(n=i==1/0?"5e"+e:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),s=(e=f.precision)+3;;)if(c=(u=(a=r).times(a).times(a)).plus(l),r=M(c.plus(l).times(a),c.plus(u),s+2,1),R(a.d).slice(0,s)===(n=R(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(L(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!o&&(L(a,e+1,0),a.times(a).times(a).eq(l))){r=a;break}s+=4,o=1}return p=!0,L(r,e,f.rounding,t)},C.decimalPlaces=C.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-w(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},C.dividedBy=C.div=function(e){return M(this,new this.constructor(e))},C.dividedToIntegerBy=C.divToInt=function(e){var t=this.constructor;return L(M(this,new t(e),0,1,1),t.precision,t.rounding)},C.equals=C.eq=function(e){return 0===this.cmp(e)},C.floor=function(){return L(new this.constructor(this),this.e+1,3)},C.greaterThan=C.gt=function(e){return this.cmp(e)>0},C.greaterThanOrEqualTo=C.gte=function(e){var t=this.cmp(e);return 1==t||0===t},C.hyperbolicCosine=C.cosh=function(){var e,t,n,r,o,i=this,s=i.constructor,a=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(i.e,i.sd())+4,s.rounding=1,(o=i.d.length)<32?t=(1/Y(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),i=X(s,1,i.times(t),new s(1),!0);for(var u,c=e,l=new s(8);c--;)u=i.times(i),i=a.minus(u.times(l.minus(u.times(l))));return L(i,s.precision=n,s.rounding=r,!0)},C.hyperbolicSine=C.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,(r=o.d.length)<3)o=X(i,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=X(i,2,o=o.times(1/Y(5,e)),o,!0);for(var s,a=new i(5),u=new i(16),c=new i(20);e--;)s=o.times(o),o=o.times(a.plus(s.times(u.times(s).plus(c))))}return i.precision=t,i.rounding=n,L(o,t,n,!0)},C.hyperbolicTangent=C.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,M(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},C.inverseCosine=C.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),o=n.precision,i=n.rounding;return-1!==r?0===r?t.isNeg()?D(n,o,i):new n(0):new n(NaN):t.isZero()?D(n,o+4,i).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),e=D(n,o+4,i).times(.5),n.precision=o,n.rounding=i,e.minus(t))},C.inverseHyperbolicCosine=C.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},C.inverseHyperbolicSine=C.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln())},C.inverseHyperbolicTangent=C.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?L(new i(o),e,t,!0):(i.precision=n=r-o.e,o=M(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)},C.inverseSine=C.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,-1!==t?0===t?((e=D(i,n+4,r).times(.5)).s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))},C.inverseTangent=C.atan=function(){var e,t,n,r,o,i,s,a,u,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=A)return(s=D(l,f+4,h).times(.25)).s=c.s,s}else{if(!c.s)return new l(NaN);if(f+4<=A)return(s=D(l,f+4,h).times(.5)).s=c.s,s}for(l.precision=a=f+10,l.rounding=1,e=n=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(p=!1,t=Math.ceil(a/7),r=1,u=c.times(c),s=new l(c),o=c;-1!==e;)if(o=o.times(u),i=s.minus(o.div(r+=2)),o=o.times(u),void 0!==(s=i.plus(o.div(r+=2))).d[t])for(e=t;s.d[e]===i.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),p=!0,L(s,l.precision=f,l.rounding=h,!0)},C.isFinite=function(){return!!this.d},C.isInteger=C.isInt=function(){return!!this.d&&w(this.e/7)>this.d.length-2},C.isNaN=function(){return!this.s},C.isNegative=C.isNeg=function(){return this.s<0},C.isPositive=C.isPos=function(){return this.s>0},C.isZero=function(){return!!this.d&&0===this.d[0]},C.lessThan=C.lt=function(e){return this.cmp(e)<0},C.lessThanOrEqualTo=C.lte=function(e){return this.cmp(e)<1},C.logarithm=C.log=function(e){var t,n,r,o,i,s,a,u,c=this,l=c.constructor,f=l.precision,h=l.rounding;if(null==e)e=new l(10),t=!0;else{if(n=(e=new l(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new l(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10==0;)o/=10;i=1!==o}if(p=!1,s=z(c,a=f+5),r=t?U(l,a+10):z(e,a),k((u=M(s,r,a,1)).d,o=f,h))do{if(s=z(c,a+=10),r=t?U(l,a+10):z(e,a),u=M(s,r,a,1),!i){+R(u.d).slice(o+1,o+15)+1==1e14&&(u=L(u,f+1,0));break}}while(k(u.d,o+=10,h));return p=!0,L(u,f,h)},C.minus=C.sub=function(e){var t,n,r,o,i,s,a,u,c,l,f,h,d=this,_=d.constructor;if(e=new _(e),!d.d||!e.d)return d.s&&e.s?d.d?e.s=-e.s:e=new _(e.d||d.s!==e.s?d:NaN):e=new _(NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(c=d.d,h=e.d,a=_.precision,u=_.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new _(3===u?-0:0);e=new _(d)}return p?L(e,a,u):e}if(n=w(e.e/7),l=w(d.e/7),c=c.slice(),i=l-n){for((f=i<0)?(t=c,i=-i,s=h.length):(t=h,n=l,s=c.length),i>(r=Math.max(Math.ceil(a/7),s)+2)&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for((f=(r=c.length)<(s=h.length))&&(s=r),r=0;r<s;r++)if(c[r]!=h[r]){f=c[r]<h[r];break}i=0}for(f&&(t=c,c=h,h=t,e.s=-e.s),s=c.length,r=h.length-s;r>0;--r)c[s++]=0;for(r=h.length;r>i;){if(c[--r]<h[r]){for(o=r;o&&0===c[--o];)c[o]=S-1;--c[o],c[r]+=S}c[r]-=h[r]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(e.d=c,e.e=P(c,n),p?L(e,a,u):e):new _(3===u?-0:0)},C.modulo=C.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?L(new r(n),r.precision,r.rounding):(p=!1,9==r.modulo?(t=M(n,e.abs(),0,3,1)).s*=e.s:t=M(n,e,0,r.modulo,1),t=t.times(e),p=!0,n.minus(t))},C.naturalExponential=C.exp=function(){return G(this)},C.naturalLogarithm=C.ln=function(){return z(this)},C.negated=C.neg=function(){var e=new this.constructor(this);return e.s=-e.s,L(e)},C.plus=C.add=function(e){var t,n,r,o,i,s,a,u,c,l,f=this,h=f.constructor;if(e=new h(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new h(e.d||f.s===e.s?f:NaN)):e=new h(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,a=h.precision,u=h.rounding,!c[0]||!l[0])return l[0]||(e=new h(f)),p?L(e,a,u):e;if(i=w(f.e/7),r=w(e.e/7),c=c.slice(),o=i-r){for(o<0?(n=c,o=-o,s=l.length):(n=l,r=i,s=c.length),o>(s=(i=Math.ceil(a/7))>s?i+1:s+1)&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((s=c.length)-(o=l.length)<0&&(o=s,n=l,l=c,c=n),t=0;o;)t=(c[--o]=c[o]+l[o]+t)/S|0,c[o]%=S;for(t&&(c.unshift(t),++r),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=P(c,r),p?L(e,a,u):e},C.precision=C.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(g+e);return n.d?(t=B(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},C.round=function(){var e=this,t=e.constructor;return L(new t(e),e.e+1,t.rounding)},C.sine=C.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return X(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=X(e,2,t=t.times(1/Y(5,n)),t);for(var o,i=new e(5),s=new e(16),a=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(s.times(o).minus(a))));return t}(r,Z(r,n)),r.precision=e,r.rounding=t,L(a>2?n.neg():n,e,t,!0)):new r(NaN)},C.squareRoot=C.sqrt=function(){var e,t,n,r,o,i,s=this,a=s.d,u=s.e,c=s.s,l=s.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);for(p=!1,0==(c=Math.sqrt(+s))||c==1/0?(((t=R(a)).length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=w((u+1)/2)-(u<0||u%2),r=new l(t=c==1/0?"5e"+u:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+u)):r=new l(c.toString()),n=(u=l.precision)+3;;)if(r=(i=r).plus(M(s,i,n+2,1)).times(.5),R(i.d).slice(0,n)===(t=R(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(L(r,u+1,1),e=!r.times(r).eq(s));break}if(!o&&(L(i,u+1,0),i.times(i).eq(s))){r=i;break}n+=4,o=1}return p=!0,L(r,u,l.rounding,e)},C.tangent=C.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=M(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,L(2==a||4==a?n.neg():n,e,t,!0)):new r(NaN)},C.times=C.mul=function(e){var t,n,r,o,i,s,a,u,c,l=this,f=l.constructor,h=l.d,d=(e=new f(e)).d;if(e.s*=l.s,!(h&&h[0]&&d&&d[0]))return new f(!e.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*e.s:e.s/0);for(n=w(l.e/7)+w(e.e/7),(u=h.length)<(c=d.length)&&(i=h,h=d,d=i,s=u,u=c,c=s),i=[],r=s=u+c;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,o=u+r;o>r;)a=i[o]+d[r]*h[o-r-1]+t,i[o--]=a%S|0,t=a/S|0;i[o]=(i[o]+t)%S|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=P(i,n),p?L(e,f.precision,f.rounding):e},C.toBinary=function(e,t){return J(this,2,e,t)},C.toDecimalPlaces=C.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(I(e,0,c),void 0===t?t=r.rounding:I(t,0,8),L(n,e+n.e+1,t))},C.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=j(r,!0):(I(e,0,c),void 0===t?t=o.rounding:I(t,0,8),n=j(r=L(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},C.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?n=j(o):(I(e,0,c),void 0===t?t=i.rounding:I(t,0,8),n=j(r=L(new i(o),e+o.e+1,t),!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},C.toFraction=function(e){var t,n,r,o,i,s,a,u,c,l,f,h,d=this,_=d.d,v=d.constructor;if(!_)return new v(d);if(c=n=new v(1),r=u=new v(0),s=(i=(t=new v(r)).e=B(_)-d.e-1)%7,t.d[0]=y(10,s<0?7+s:s),null==e)e=i>0?t:c;else{if(!(a=new v(e)).isInt()||a.lt(c))throw Error(g+a);e=a.gt(t)?i>0?t:c:a}for(p=!1,a=new v(R(_)),l=v.precision,v.precision=i=7*_.length*2;f=M(a,t,0,1,1),1!=(o=n.plus(f.times(r))).cmp(e);)n=r,r=o,o=c,c=u.plus(f.times(o)),u=o,o=t,t=a.minus(f.times(o)),a=o;return o=M(e.minus(n),r,0,1,1),u=u.plus(o.times(c)),n=n.plus(o.times(r)),u.s=c.s=d.s,h=M(c,r,i,1).minus(d).abs().cmp(M(u,n,i,1).minus(d).abs())<1?[c,r]:[u,n],v.precision=l,p=!0,h},C.toHexadecimal=C.toHex=function(e,t){return J(this,16,e,t)},C.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:I(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(p=!1,n=M(n,e,0,t,1).times(e),p=!0,L(n)):(e.s=n.s,n=e),n},C.toNumber=function(){return+this},C.toOctal=function(e,t){return J(this,8,e,t)},C.toPower=C.pow=function(e){var t,n,r,o,i,s,a=this,u=a.constructor,c=+(e=new u(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new u(y(+a,c));if((a=new u(a)).eq(1))return a;if(r=u.precision,i=u.rounding,e.eq(1))return L(a,r,i);if((t=w(e.e/7))>=e.d.length-1&&(n=c<0?-c:c)<=9007199254740991)return o=q(u,a,n,r),e.s<0?new u(1).div(o):L(o,r,i);if((s=a.s)<0){if(t<e.d.length-1)return new u(NaN);if(0==(1&e.d[t])&&(s=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=s,a}return(t=0!=(n=y(+a,c))&&isFinite(n)?new u(n+"").e:w(c*(Math.log("0."+R(a.d))/Math.LN10+a.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(p=!1,u.rounding=a.s=1,n=Math.min(12,(t+"").length),(o=G(e.times(z(a,r+n)),r)).d&&k((o=L(o,r+5,1)).d,r,i)&&(t=r+10,+R((o=L(G(e.times(z(a,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=L(o,r+1,0))),o.s=s,p=!0,u.rounding=i,L(o,r,i))},C.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=j(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(I(e,1,c),void 0===t?t=o.rounding:I(t,0,8),n=j(r=L(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},C.toSignificantDigits=C.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(I(e,1,c),void 0===t?t=n.rounding:I(t,0,8)),L(new n(this),e,t)},C.toString=function(){var e=this,t=e.constructor,n=j(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},C.truncated=C.trunc=function(){return L(new this.constructor(this),this.e+1,1)},C.valueOf=C.toJSON=function(){var e=this,t=e.constructor,n=j(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var M=function(){function e(e,t,n){var r,o=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+o,e[i]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a,u,c){var l,f,h,d,p,_,g,v,b,y,m,E,O,T,N,A,C,R,I,k,x=r.constructor,M=r.s==o.s?1:-1,j=r.d,P=o.d;if(!(j&&j[0]&&P&&P[0]))return new x(r.s&&o.s&&(j?!P||j[0]!=P[0]:P)?j&&0==j[0]||!P?0*M:M/0:NaN);for(c?(p=1,f=r.e-o.e):(c=S,p=7,f=w(r.e/p)-w(o.e/p)),I=P.length,C=j.length,y=(b=new x(M)).d=[],h=0;P[h]==(j[h]||0);h++);if(P[h]>(j[h]||0)&&f--,null==i?(T=i=x.precision,a=x.rounding):T=u?i+(r.e-o.e)+1:i,T<0)y.push(1),_=!0;else{if(T=T/p+2|0,h=0,1==I){for(d=0,P=P[0],T++;(h<C||d)&&T--;h++)N=d*c+(j[h]||0),y[h]=N/P|0,d=N%P|0;_=d||h<C}else{for((d=c/(P[0]+1)|0)>1&&(P=e(P,d,c),j=e(j,d,c),I=P.length,C=j.length),A=I,E=(m=j.slice(0,I)).length;E<I;)m[E++]=0;(k=P.slice()).unshift(0),R=P[0],P[1]>=c/2&&++R;do{d=0,(l=t(P,m,I,E))<0?(O=m[0],I!=E&&(O=O*c+(m[1]||0)),(d=O/R|0)>1?(d>=c&&(d=c-1),1==(l=t(g=e(P,d,c),m,v=g.length,E=m.length))&&(d--,n(g,I<v?k:P,v,c))):(0==d&&(l=d=1),g=P.slice()),(v=g.length)<E&&g.unshift(0),n(m,g,E,c),-1==l&&(l=t(P,m,I,E=m.length))<1&&(d++,n(m,I<E?k:P,E,c)),E=m.length):0===l&&(d++,m=[0]),y[h++]=d,l&&m[0]?m[E++]=j[A]||0:(m=[j[A]],E=1)}while((A++<C||void 0!==m[0])&&T--);_=void 0!==m[0]}y[0]||y.shift()}if(1==p)b.e=f,s=_;else{for(h=1,d=y[0];d>=10;d/=10)h++;b.e=h+f*p-1,L(b,u?i+b.e+1:i,a,_)}return b}}();function L(e,t,n,r){var o,i,s,a,u,c,l,f,h,d=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(o=1,a=f[0];a>=10;a/=10)o++;if((i=t-o)<0)i+=7,s=t,u=(l=f[h=0])/y(10,o-s-1)%10|0;else if((h=Math.ceil((i+1)/7))>=(a=f.length)){if(!r)break e;for(;a++<=h;)f.push(0);l=u=0,o=1,s=(i%=7)-7+1}else{for(l=a=f[h],o=1;a>=10;a/=10)o++;u=(s=(i%=7)-7+o)<0?0:l/y(10,o-s-1)%10|0}if(r=r||t<0||void 0!==f[h+1]||(s<0?l:l%y(10,o-s-1)),c=n<4?(u||r)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(i>0?s>0?l/y(10,o-s):0:f[h-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=y(10,(7-t%7)%7),e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=h,a=1,h--):(f.length=h+1,a=y(10,7-i),f[h]=s>0?(l/y(10,o-s)%y(10,s)|0)*a:0),c)for(;;){if(0==h){for(i=1,s=f[0];s>=10;s/=10)i++;for(s=f[0]+=a,a=1;s>=10;s/=10)a++;i!=a&&(e.e++,f[0]==S&&(f[0]=1));break}if(f[h]+=a,f[h]!=S)break;f[h--]=0,a=1}for(i=f.length;0===f[--i];)f.pop()}return p&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function j(e,t,n){if(!e.isFinite())return V(e);var r,o=e.e,i=R(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+F(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+F(-o-1)+i,n&&(r=n-s)>0&&(i+=F(r))):o>=s?(i+=F(o+1-s),n&&(r=n-o-1)>0&&(i=i+"."+F(r))):((r=o+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(i+="."),i+=F(r))),i}function P(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function U(e,t,n){if(t>N)throw p=!0,n&&(e.precision=n),Error(v);return L(new e(f),t,1,!0)}function D(e,t,n){if(t>A)throw Error(v);return L(new e(h),t,n,!0)}function B(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function F(e){for(var t="";e--;)t+="0";return t}function q(e,t,n,r){var o,i=new e(1),s=Math.ceil(r/7+4);for(p=!1;;){if(n%2&&Q((i=i.times(t)).d,s)&&(o=!0),0===(n=w(n/2))){n=i.d.length-1,o&&0===i.d[n]&&++i.d[n];break}Q((t=t.times(t)).d,s)}return p=!0,i}function $(e){return 1&e.d[e.d.length-1]}function W(e,t,n){for(var r,o=new e(t[0]),i=0;++i<t.length;){if(!(r=new e(t[i])).s){o=r;break}o[n](r)&&(o=r)}return o}function G(e,t){var n,r,o,i,s,a,u,c=0,l=0,f=0,h=e.constructor,d=h.rounding,_=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(p=!1,u=_):u=t,a=new h(.03125);e.e>-2;)e=e.times(a),f+=5;for(u+=r=Math.log(y(2,f))/Math.LN10*2+5|0,n=i=s=new h(1),h.precision=u;;){if(i=L(i.times(e),u,1),n=n.times(++l),R((a=s.plus(M(i,n,u,1))).d).slice(0,u)===R(s.d).slice(0,u)){for(o=f;o--;)s=L(s.times(s),u,1);if(null!=t)return h.precision=_,s;if(!(c<3&&k(s.d,u-r,d,c)))return L(s,h.precision=_,d,p=!0);h.precision=u+=10,n=i=a=new h(1),l=0,c++}s=a}}function z(e,t){var n,r,o,i,s,a,u,c,l,f,h,d=1,_=e,g=_.d,v=_.constructor,b=v.rounding,w=v.precision;if(_.s<0||!g||!g[0]||!_.e&&1==g[0]&&1==g.length)return new v(g&&!g[0]?-1/0:1!=_.s?NaN:g?0:_);if(null==t?(p=!1,l=w):l=t,v.precision=l+=10,r=(n=R(g)).charAt(0),!(Math.abs(i=_.e)<15e14))return c=U(v,l+2,w).times(i+""),_=z(new v(r+"."+n.slice(1)),l-10).plus(c),v.precision=w,null==t?L(_,w,b,p=!0):_;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=R((_=_.times(e)).d)).charAt(0),d++;for(i=_.e,r>1?(_=new v("0."+n),i++):_=new v(r+"."+n.slice(1)),f=_,u=s=_=M(_.minus(1),_.plus(1),l,1),h=L(_.times(_),l,1),o=3;;){if(s=L(s.times(h),l,1),R((c=u.plus(M(s,new v(o),l,1))).d).slice(0,l)===R(u.d).slice(0,l)){if(u=u.times(2),0!==i&&(u=u.plus(U(v,l+2,w).times(i+""))),u=M(u,new v(d),l,1),null!=t)return v.precision=w,u;if(!k(u.d,l-10,b,a))return L(u,v.precision=w,b,p=!0);v.precision=l+=10,c=s=_=M(f.minus(1),f.plus(1),l,1),h=L(_.times(_),l,1),o=a=1}u=c,o+=2}}function V(e){return String(e.s*e.s/0)}function K(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";e.d.push(+t),p&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function H(e,t){var n,r,o,s,a,u,c,l,f;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(E.test(t))n=16,t=t.toLowerCase();else if(m.test(t))n=2;else{if(!O.test(t))throw Error(g+t);n=8}for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),a=(s=t.indexOf("."))>=0,r=e.constructor,a&&(s=(u=(t=t.replace(".","")).length)-s,o=q(r,new r(n),s,2*s)),s=f=(l=x(t,n,S)).length-1;0===l[s];--s)l.pop();return s<0?new r(0*e.s):(e.e=P(l,f),e.d=l,p=!1,a&&(e=M(e,o,4*u)),c&&(e=e.times(Math.abs(c)<54?y(2,c):i.pow(2,c))),p=!0,e)}function X(e,t,n,r,o){var i,s,a,u,c=e.precision,l=Math.ceil(c/7);for(p=!1,u=n.times(n),a=new e(r);;){if(s=M(a.times(u),new e(t++*t++),c,1),a=o?r.plus(s):r.minus(s),r=M(s.times(u),new e(t++*t++),c,1),void 0!==(s=a.plus(r)).d[l]){for(i=l;s.d[i]===a.d[i]&&i--;);if(-1==i)break}i=a,a=r,r=s,s=i}return p=!0,s.d.length=l+1,s}function Y(e,t){for(var n=e;--t;)n*=e;return n}function Z(e,t){var n,r=t.s<0,o=D(e,e.precision,1),i=o.times(.5);if((t=t.abs()).lte(i))return a=r?4:1,t;if((n=t.divToInt(o)).isZero())a=r?3:2;else{if((t=t.minus(n.times(o))).lte(i))return a=$(n)?r?2:3:r?4:1,t;a=$(n)?r?1:4:r?3:2}return t.minus(o).abs()}function J(e,t,n,r){var o,i,a,u,f,h,d,p,_,g=e.constructor,v=void 0!==n;if(v?(I(n,1,c),void 0===r?r=g.rounding:I(r,0,8)):(n=g.precision,r=g.rounding),e.isFinite()){for(v?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(a=(d=j(e)).indexOf("."))>=0&&(d=d.replace(".",""),(_=new g(1)).e=d.length-a,_.d=x(j(_),10,o),_.e=_.d.length),i=f=(p=x(d,10,o)).length;0==p[--f];)p.pop();if(p[0]){if(a<0?i--:((e=new g(e)).d=p,e.e=i,p=(e=M(e,_,n,r,0,o)).d,i=e.e,h=s),a=p[n],u=o/2,h=h||void 0!==p[n+1],h=r<4?(void 0!==a||h)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||h||6===r&&1&p[n-1]||r===(e.s<0?8:7)),p.length=n,h)for(;++p[--n]>o-1;)p[n]=0,n||(++i,p.unshift(1));for(f=p.length;!p[f-1];--f);for(a=0,d="";a<f;a++)d+=l.charAt(p[a]);if(v){if(f>1)if(16==t||8==t){for(a=16==t?4:3,--f;f%a;f++)d+="0";for(f=(p=x(d,o,t)).length;!p[f-1];--f);for(a=1,d="1.";a<f;a++)d+=l.charAt(p[a])}else d=d.charAt(0)+"."+d.slice(1);d=d+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)d="0"+d;d="0."+d}else if(++i>f)for(i-=f;i--;)d+="0";else i<f&&(d=d.slice(0,i)+"."+d.slice(i))}else d=v?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=V(e);return e.s<0?"-"+d:d}function Q(e,t){if(e.length>t)return e.length=t,!0}function ee(e){return new this(e).abs()}function te(e){return new this(e).acos()}function ne(e){return new this(e).acosh()}function re(e,t){return new this(e).plus(t)}function oe(e){return new this(e).asin()}function ie(e){return new this(e).asinh()}function se(e){return new this(e).atan()}function ae(e){return new this(e).atanh()}function ue(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?D(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=D(this,i,1).times(.5)).s=e.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(M(e,t,i,1)),t=D(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(M(e,t,i,1)):(n=D(this,i,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ce(e){return new this(e).cbrt()}function le(e){return L(e=new this(e),e.e+1,2)}function fe(e){if(!e||"object"!=typeof e)throw Error(_+"Object expected");var t,n,r,o=!0===e.defaults,i=["precision",1,c,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=d[n]),void 0!==(r=e[n])){if(!(w(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(g+n+": "+r);this[n]=r}if(n="crypto",o&&(this[n]=d[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(g+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(b);this[n]=!0}else this[n]=!1}return this}function he(e){return new this(e).cos()}function de(e){return new this(e).cosh()}function pe(e,t){return new this(e).div(t)}function _e(e){return new this(e).exp()}function ge(e){return L(e=new this(e),e.e+1,3)}function ve(){var e,t,n=new this(0);for(p=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);n=t}return p=!0,n.sqrt()}function be(e){return e instanceof i||e&&"[object Decimal]"===e.name||!1}function we(e){return new this(e).ln()}function ye(e,t){return new this(e).log(t)}function me(e){return new this(e).log(2)}function Ee(e){return new this(e).log(10)}function Oe(){return W(this,arguments,"lt")}function Te(){return W(this,arguments,"gt")}function Se(e,t){return new this(e).mod(t)}function Ne(e,t){return new this(e).mul(t)}function Ae(e,t){return new this(e).pow(t)}function Ce(e){var t,n,r,o,i=0,s=new this(1),a=[];if(void 0===e?e=this.precision:I(e,1,c),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)(o=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(b);for(t=crypto.randomBytes(r*=4);i<r;)(o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(o%1e7),i+=4);i=r/4}else for(;i<r;)a[i++]=1e7*Math.random()|0;for(e%=7,(r=a[--i])&&e&&(o=y(10,7-e),a[i]=(r/o|0)*o);0===a[i];i--)a.pop();if(i<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=7)a.shift();for(r=1,o=a[0];o>=10;o/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=a,s}function Re(e){return L(e=new this(e),e.e+1,this.rounding)}function Ie(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function ke(e){return new this(e).sin()}function xe(e){return new this(e).sinh()}function Me(e){return new this(e).sqrt()}function Le(e,t){return new this(e).sub(t)}function je(e){return new this(e).tan()}function Pe(e){return new this(e).tanh()}function Ue(e){return L(e=new this(e),e.e+1,1)}(i=function e(t){var n,r,o;function i(e){var t,n,r,o=this;if(!(o instanceof i))return new i(e);if(o.constructor=i,e instanceof i)return o.s=e.s,void(p?!e.d||e.e>i.maxE?(o.e=NaN,o.d=null):e.e<i.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return o.s=1/e<0?-1:1,o.e=0,void(o.d=[0]);if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(p?t>i.maxE?(o.e=NaN,o.d=null):t<i.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]))}return 0*e!=0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):K(o,e.toString())}if("string"!==r)throw Error(g+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===n&&(e=e.slice(1)),o.s=1),T.test(e)?K(o,e):H(o,e)}if(i.prototype=C,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=fe,i.clone=e,i.isDecimal=be,i.abs=ee,i.acos=te,i.acosh=ne,i.add=re,i.asin=oe,i.asinh=ie,i.atan=se,i.atanh=ae,i.atan2=ue,i.cbrt=ce,i.ceil=le,i.cos=he,i.cosh=de,i.div=pe,i.exp=_e,i.floor=ge,i.hypot=ve,i.ln=we,i.log=ye,i.log10=Ee,i.log2=me,i.max=Oe,i.min=Te,i.mod=Se,i.mul=Ne,i.pow=Ae,i.random=Ce,i.round=Re,i.sign=Ie,i.sin=ke,i.sinh=xe,i.sqrt=Me,i.sub=Le,i.tan=je,i.tanh=Pe,i.trunc=Ue,void 0===t&&(t={}),t&&!0!==t.defaults)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(d)).default=i.Decimal=i,f=new i(f),h=new i(h),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},12840:(e,t,n)=>{var r=n(34155),o=n(30778),i=function(){},s=function(e,t,n){if("function"==typeof t)return s(e,null,t);t||(t={}),n=o(n||i);var a=e._writableState,u=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,f=!1,h=function(){e.writable||d()},d=function(){l=!1,c||n.call(e)},p=function(){c=!1,l||n.call(e)},_=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){n.call(e,t)},v=function(){r.nextTick(b)},b=function(){if(!f)return(!c||u&&u.ended&&!u.destroyed)&&(!l||a&&a.ended&&!a.destroyed)?void 0:n.call(e,new Error("premature close"))},w=function(){e.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",d),e.on("abort",v),e.req?w():e.on("request",w)):l&&!a&&(e.on("end",h),e.on("close",h)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",_),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",g),e.on("close",v),function(){f=!0,e.removeListener("complete",d),e.removeListener("abort",v),e.removeListener("request",w),e.req&&e.req.removeListener("finish",d),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",d),e.removeListener("exit",_),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",v)}};e.exports=s},17187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}_(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&_(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,s,c;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function h(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function _(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return h(this,e,!0)},i.prototype.rawListeners=function(e){return h(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4445:e=>{e.exports=r,r.default=r,r.stable=s,r.stableStringify=s;var t=[],n=[];function r(e,r,i){var s;for(o(e,"",[],void 0),s=0===n.length?JSON.stringify(e,r,i):JSON.stringify(e,u(r),i);0!==t.length;){var a=t.pop();4===a.length?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}return s}function o(e,r,i,s){var a;if("object"==typeof e&&null!==e){for(a=0;a<i.length;a++)if(i[a]===e){var u=Object.getOwnPropertyDescriptor(s,r);return void(void 0!==u.get?u.configurable?(Object.defineProperty(s,r,{value:"[Circular]"}),t.push([s,r,e,u])):n.push([e,r]):(s[r]="[Circular]",t.push([s,r,e])))}if(i.push(e),Array.isArray(e))for(a=0;a<e.length;a++)o(e[a],a,i,e);else{var c=Object.keys(e);for(a=0;a<c.length;a++){var l=c[a];o(e[l],l,i,e)}}i.pop()}}function i(e,t){return e<t?-1:e>t?1:0}function s(e,r,o){var i,s=a(e,"",[],void 0)||e;for(i=0===n.length?JSON.stringify(s,r,o):JSON.stringify(s,u(r),o);0!==t.length;){var c=t.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}return i}function a(e,r,o,s){var u;if("object"==typeof e&&null!==e){for(u=0;u<o.length;u++)if(o[u]===e){var c=Object.getOwnPropertyDescriptor(s,r);return void(void 0!==c.get?c.configurable?(Object.defineProperty(s,r,{value:"[Circular]"}),t.push([s,r,e,c])):n.push([e,r]):(s[r]="[Circular]",t.push([s,r,e])))}if("function"==typeof e.toJSON)return;if(o.push(e),Array.isArray(e))for(u=0;u<e.length;u++)a(e[u],u,o,e);else{var l={},f=Object.keys(e).sort(i);for(u=0;u<f.length;u++){var h=f[u];a(e[h],h,o,e),l[h]=e[h]}if(void 0===s)return l;t.push([s,r,e]),s[r]=l}o.pop()}}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var o=0;o<n.length;o++){var i=n[o];if(i[1]===t&&i[0]===r){r="[Circular]",n.splice(o,1);break}}return e.call(this,t,r)}}},80645:(e,t)=>{t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?o-1:0,h=n?-1:1,d=e[t+f];for(f+=h,i=d&(1<<-l)-1,d>>=-l,l+=a;l>0;i=256*i+e[t+f],f+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*_}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},13029:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){return"[object Function]"===t.call(e)}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},96486:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,h=NaN,d=4294967295,p=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],_="[object Arguments]",g="[object Array]",v="[object Boolean]",b="[object Date]",w="[object Error]",y="[object Function]",m="[object GeneratorFunction]",E="[object Map]",O="[object Number]",T="[object Object]",S="[object Promise]",N="[object RegExp]",A="[object Set]",C="[object String]",R="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",x="[object DataView]",M="[object Float32Array]",L="[object Float64Array]",j="[object Int8Array]",P="[object Int16Array]",U="[object Int32Array]",D="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",q="[object Uint32Array]",$=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,V=/[&<>"']/g,K=RegExp(z.source),H=RegExp(V.source),X=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,ge=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,me="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Se="["+Te+"]",Ne="["+me+"]",Ae="\\d+",Ce="["+Ee+"]",Re="[^\\ud800-\\udfff"+Te+Ae+"\\u2700-\\u27bf"+Ee+Oe+"]",Ie="\\ud83c[\\udffb-\\udfff]",ke="[^\\ud800-\\udfff]",xe="(?:\\ud83c[\\udde6-\\uddff]){2}",Me="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="["+Oe+"]",je="(?:"+Ce+"|"+Re+")",Pe="(?:"+Le+"|"+Re+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",De="(?:['’](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+Ne+"|"+Ie+")?",Fe="[\\ufe0e\\ufe0f]?",qe=Fe+Be+"(?:\\u200d(?:"+[ke,xe,Me].join("|")+")"+Fe+Be+")*",$e="(?:"+["[\\u2700-\\u27bf]",xe,Me].join("|")+")"+qe,We="(?:"+[ke+Ne+"?",Ne,xe,Me,"[\\ud800-\\udfff]"].join("|")+")",Ge=RegExp("['’]","g"),ze=RegExp(Ne,"g"),Ve=RegExp(Ie+"(?="+Ie+")|"+We+qe,"g"),Ke=RegExp([Le+"?"+Ce+"+"+Ue+"(?="+[Se,Le,"$"].join("|")+")",Pe+"+"+De+"(?="+[Se,Le+je,"$"].join("|")+")",Le+"?"+je+"+"+Ue,Le+"+"+De,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ae,$e].join("|"),"g"),He=RegExp("[\\u200d\\ud800-\\udfff"+me+"\\ufe0e\\ufe0f]"),Xe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ze=-1,Je={};Je[M]=Je[L]=Je[j]=Je[P]=Je[U]=Je[D]=Je[B]=Je[F]=Je[q]=!0,Je[_]=Je[g]=Je[k]=Je[v]=Je[x]=Je[b]=Je[w]=Je[y]=Je[E]=Je[O]=Je[T]=Je[N]=Je[A]=Je[C]=Je[I]=!1;var Qe={};Qe[_]=Qe[g]=Qe[k]=Qe[x]=Qe[v]=Qe[b]=Qe[M]=Qe[L]=Qe[j]=Qe[P]=Qe[U]=Qe[E]=Qe[O]=Qe[T]=Qe[N]=Qe[A]=Qe[C]=Qe[R]=Qe[D]=Qe[B]=Qe[F]=Qe[q]=!0,Qe[w]=Qe[y]=Qe[I]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ot="object"==typeof self&&self&&self.Object===Object&&self,it=rt||ot||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ut=at&&at.exports===st,ct=ut&&rt.process,lt=function(){try{return at&&at.require&&at.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),ft=lt&&lt.isArrayBuffer,ht=lt&&lt.isDate,dt=lt&&lt.isMap,pt=lt&&lt.isRegExp,_t=lt&&lt.isSet,gt=lt&&lt.isTypedArray;function vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function yt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Et(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Ot(e,t){return!(null==e||!e.length)&&Mt(e,t,0)>-1}function Tt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function St(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function At(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ct(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var It=Ut("length");function kt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function xt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Mt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):xt(e,jt,n)}function Lt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function jt(e){return e!=e}function Pt(e,t){var n=null==e?0:e.length;return n?Ft(e,t)/n:h}function Ut(e){return function(t){return null==t?o:t[e]}}function Dt(e){return function(t){return null==e?o:e[t]}}function Bt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Ft(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function $t(e){return e?e.slice(0,an(e)+1).replace(re,""):e}function Wt(e){return function(t){return e(t)}}function Gt(e,t){return St(t,(function(t){return e[t]}))}function zt(e,t){return e.has(t)}function Vt(e,t){for(var n=-1,r=e.length;++n<r&&Mt(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length;n--&&Mt(t,e[n],0)>-1;);return n}function Ht(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Xt=Dt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Yt=Dt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Zt(e){return"\\"+et[e]}function Jt(e){return He.test(e)}function Qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return Jt(e)?function(e){for(var t=Ve.lastIndex=0;Ve.test(e);)++t;return t}(e):It(e)}function sn(e){return Jt(e)?function(e){return e.match(Ve)||[]}(e):function(e){return e.split("")}(e)}function an(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var un=Dt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?it:cn.defaults(it.Object(),t,cn.pick(it,Ye))).Array,oe=t.Date,me=t.Error,Ee=t.Function,Oe=t.Math,Te=t.Object,Se=t.RegExp,Ne=t.String,Ae=t.TypeError,Ce=r.prototype,Re=Ee.prototype,Ie=Te.prototype,ke=t["__core-js_shared__"],xe=Re.toString,Me=Ie.hasOwnProperty,Le=0,je=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Pe=Ie.toString,Ue=xe.call(Te),De=it._,Be=Se("^"+xe.call(Me).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ut?t.Buffer:o,qe=t.Symbol,$e=t.Uint8Array,We=Fe?Fe.allocUnsafe:o,Ve=en(Te.getPrototypeOf,Te),He=Te.create,et=Ie.propertyIsEnumerable,rt=Ce.splice,ot=qe?qe.isConcatSpreadable:o,st=qe?qe.iterator:o,at=qe?qe.toStringTag:o,ct=function(){try{var e=li(Te,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==it.clearTimeout&&t.clearTimeout,It=oe&&oe.now!==it.Date.now&&oe.now,Dt=t.setTimeout!==it.setTimeout&&t.setTimeout,ln=Oe.ceil,fn=Oe.floor,hn=Te.getOwnPropertySymbols,dn=Fe?Fe.isBuffer:o,pn=t.isFinite,_n=Ce.join,gn=en(Te.keys,Te),vn=Oe.max,bn=Oe.min,wn=oe.now,yn=t.parseInt,mn=Oe.random,En=Ce.reverse,On=li(t,"DataView"),Tn=li(t,"Map"),Sn=li(t,"Promise"),Nn=li(t,"Set"),An=li(t,"WeakMap"),Cn=li(Te,"create"),Rn=An&&new An,In={},kn=Bi(On),xn=Bi(Tn),Mn=Bi(Sn),Ln=Bi(Nn),jn=Bi(An),Pn=qe?qe.prototype:o,Un=Pn?Pn.valueOf:o,Dn=Pn?Pn.toString:o;function Bn(e){if(na(e)&&!zs(e)&&!(e instanceof Wn)){if(e instanceof $n)return e;if(Me.call(e,"__wrapped__"))return Fi(e)}return new $n(e)}var Fn=function(){function e(){}return function(t){if(!ta(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function qn(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Vn;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new zn(e);this.size=t.size}function Xn(e,t){var n=zs(e),r=!n&&Gs(e),o=!n&&!r&&Xs(e),i=!n&&!r&&!o&&la(e),s=n||r||o||i,a=s?qt(e.length,Ne):[],u=a.length;for(var c in e)!t&&!Me.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||vi(c,u))||a.push(c);return a}function Yn(e){var t=e.length;return t?e[Vr(0,t-1)]:o}function Zn(e,t){return Li(Co(e),sr(t,0,e.length))}function Jn(e){return Li(Co(e))}function Qn(e,t,n){(n!==o&&!qs(e[t],n)||n===o&&!(t in e))&&or(e,t,n)}function er(e,t,n){var r=e[t];Me.call(e,t)&&qs(r,n)&&(n!==o||t in e)||or(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(qs(e[n][0],t))return n;return-1}function nr(e,t,n,r){return fr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function rr(e,t){return e&&Ro(t,xa(t),e)}function or(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ir(e,t){for(var n=-1,i=t.length,s=r(i),a=null==e;++n<i;)s[n]=a?o:Aa(e,t[n]);return s}function sr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function ar(e,t,n,r,i,s){var a,u=1&t,c=2&t,l=4&t;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!ta(e))return e;var f=zs(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Co(e,a)}else{var h=di(e),d=h==y||h==m;if(Xs(e))return Eo(e,u);if(h==T||h==_||d&&!i){if(a=c||d?{}:_i(e),!u)return c?function(e,t){return Ro(e,hi(e),t)}(e,function(e,t){return e&&Ro(t,Ma(t),e)}(a,e)):function(e,t){return Ro(e,fi(e),t)}(e,rr(a,e))}else{if(!Qe[h])return i?e:{};a=function(e,t,n){var r,o=e.constructor;switch(t){case k:return Oo(e);case v:case b:return new o(+e);case x:return function(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case L:case j:case P:case U:case D:case B:case F:case q:return To(e,n);case E:return new o;case O:case C:return new o(e);case N:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case A:return new o;case R:return r=e,Un?Te(Un.call(r)):{}}}(e,h,u)}}s||(s=new Hn);var p=s.get(e);if(p)return p;s.set(e,a),aa(e)?e.forEach((function(r){a.add(ar(r,t,n,r,e,s))})):ra(e)&&e.forEach((function(r,o){a.set(o,ar(r,t,n,o,e,s))}));var g=f?o:(l?c?ri:ni:c?Ma:xa)(e);return wt(g||e,(function(r,o){g&&(r=e[o=r]),er(a,o,ar(r,t,n,o,e,s))})),a}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Te(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ae(i);return Ii((function(){e.apply(o,n)}),t)}function lr(e,t,n,r){var o=-1,i=Ot,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;n&&(t=St(t,Wt(n))),r?(i=Tt,s=!1):t.length>=200&&(i=zt,s=!1,t=new Kn(t));e:for(;++o<a;){var l=e[o],f=null==n?l:n(l);if(l=r||0!==l?l:0,s&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else i(t,f,r)||u.push(l)}return u}Bn.templateSettings={escape:X,evaluate:Y,interpolate:Z,variable:"",imports:{_:Bn}},Bn.prototype=qn.prototype,Bn.prototype.constructor=Bn,$n.prototype=Fn(qn.prototype),$n.prototype.constructor=$n,Wn.prototype=Fn(qn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Cn){var n=t[e];return n===s?o:n}return Me.call(t,e)?t[e]:o},Gn.prototype.has=function(e){var t=this.__data__;return Cn?t[e]!==o:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Cn&&t===o?s:t,this},zn.prototype.clear=function(){this.__data__=[],this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},zn.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?o:t[n][1]},zn.prototype.has=function(e){return tr(this.__data__,e)>-1},zn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Tn||zn),string:new Gn}},Vn.prototype.delete=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},Vn.prototype.get=function(e){return ui(this,e).get(e)},Vn.prototype.has=function(e){return ui(this,e).has(e)},Vn.prototype.set=function(e,t){var n=ui(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,s),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new zn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(e,t),this.size=n.size,this};var fr=xo(wr),hr=xo(yr,!0);function dr(e,t){var n=!0;return fr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function pr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(u===o?a==a&&!ca(a):n(a,u)))var u=a,c=s}return c}function _r(e,t){var n=[];return fr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function gr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=gi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?gr(a,t-1,n,r,o):Nt(o,a):r||(o[o.length]=a)}return o}var vr=Mo(),br=Mo(!0);function wr(e,t){return e&&vr(e,t,xa)}function yr(e,t){return e&&br(e,t,xa)}function mr(e,t){return Et(t,(function(t){return Js(e[t])}))}function Er(e,t){for(var n=0,r=(t=bo(t,e)).length;null!=e&&n<r;)e=e[Di(t[n++])];return n&&n==r?e:o}function Or(e,t,n){var r=t(e);return zs(e)?r:Nt(r,n(e))}function Tr(e){return null==e?e===o?"[object Undefined]":"[object Null]":at&&at in Te(e)?function(e){var t=Me.call(e,at),n=e[at];try{e[at]=o;var r=!0}catch(e){}var i=Pe.call(e);return r&&(t?e[at]=n:delete e[at]),i}(e):function(e){return Pe.call(e)}(e)}function Sr(e,t){return e>t}function Nr(e,t){return null!=e&&Me.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Cr(e,t,n){for(var i=n?Tt:Ot,s=e[0].length,a=e.length,u=a,c=r(a),l=1/0,f=[];u--;){var h=e[u];u&&t&&(h=St(h,Wt(t))),l=bn(h.length,l),c[u]=!n&&(t||s>=120&&h.length>=120)?new Kn(u&&h):o}h=e[0];var d=-1,p=c[0];e:for(;++d<s&&f.length<l;){var _=h[d],g=t?t(_):_;if(_=n||0!==_?_:0,!(p?zt(p,g):i(f,g,n))){for(u=a;--u;){var v=c[u];if(!(v?zt(v,g):i(e[u],g,n)))continue e}p&&p.push(g),f.push(_)}}return f}function Rr(e,t,n){var r=null==(e=Ni(e,t=bo(t,e)))?e:e[Di(Zi(t))];return null==r?o:vt(r,e,n)}function Ir(e){return na(e)&&Tr(e)==_}function kr(e,t,n,r,i){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var a=zs(e),u=zs(t),c=a?g:di(e),l=u?g:di(t),f=(c=c==_?T:c)==T,h=(l=l==_?T:l)==T,d=c==l;if(d&&Xs(e)){if(!Xs(t))return!1;a=!0,f=!1}if(d&&!f)return s||(s=new Hn),a||la(e)?ei(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!i(new $e(e),new $e(t)));case v:case b:case O:return qs(+e,+t);case w:return e.name==t.name&&e.message==t.message;case N:case C:return e==t+"";case E:var a=Qt;case A:var u=1&r;if(a||(a=nn),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;r|=2,s.set(e,t);var l=ei(a(e),a(t),r,o,i,s);return s.delete(e),l;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,i,s);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),y=h&&Me.call(t,"__wrapped__");if(p||y){var m=p?e.value():e,S=y?t.value():t;return s||(s=new Hn),i(m,S,n,r,s)}}return!!d&&(s||(s=new Hn),function(e,t,n,r,i,s){var a=1&n,u=ni(e),c=u.length;if(c!=ni(t).length&&!a)return!1;for(var l=c;l--;){var f=u[l];if(!(a?f in t:Me.call(t,f)))return!1}var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var _=a;++l<c;){var g=e[f=u[l]],v=t[f];if(r)var b=a?r(v,g,f,t,e,s):r(g,v,f,e,t,s);if(!(b===o?g===v||i(g,v,n,r,s):b)){p=!1;break}_||(_="constructor"==f)}if(p&&!_){var w=e.constructor,y=t.constructor;w==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,i,s))}(e,t,n,r,kr,i))}function xr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=Te(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var c=(u=n[i])[0],l=e[c],f=u[1];if(a&&u[2]){if(l===o&&!(c in e))return!1}else{var h=new Hn;if(r)var d=r(l,f,c,e,t,h);if(!(d===o?kr(f,l,3,r,h):d))return!1}}return!0}function Mr(e){return!(!ta(e)||(t=e,je&&je in t))&&(Js(e)?Be:_e).test(Bi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?zs(e)?Br(e[0],e[1]):Dr(e):du(e)}function jr(e){if(!Ei(e))return gn(e);var t=[];for(var n in Te(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pr(e,t){return e<t}function Ur(e,t){var n=-1,o=Ks(e)?r(e.length):[];return fr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Dr(e){var t=ci(e);return 1==t.length&&t[0][2]?Ti(t[0][0],t[0][1]):function(n){return n===e||xr(n,e,t)}}function Br(e,t){return wi(e)&&Oi(t)?Ti(Di(e),t):function(n){var r=Aa(n,e);return r===o&&r===t?Ca(n,e):kr(t,r,3)}}function Fr(e,t,n,r,i){e!==t&&vr(t,(function(s,a){if(i||(i=new Hn),ta(s))!function(e,t,n,r,i,s,a){var u=Ci(e,n),c=Ci(t,n),l=a.get(c);if(l)Qn(e,n,l);else{var f=s?s(u,c,n+"",e,t,a):o,h=f===o;if(h){var d=zs(c),p=!d&&Xs(c),_=!d&&!p&&la(c);f=c,d||p||_?zs(u)?f=u:Hs(u)?f=Co(u):p?(h=!1,f=Eo(c,!0)):_?(h=!1,f=To(c,!0)):f=[]:ia(c)||Gs(c)?(f=u,Gs(u)?f=ba(u):ta(u)&&!Js(u)||(f=_i(c))):h=!1}h&&(a.set(c,f),i(f,c,r,s,a),a.delete(c)),Qn(e,n,f)}}(e,t,a,n,Fr,r,i);else{var u=r?r(Ci(e,a),s,a+"",e,t,i):o;u===o&&(u=s),Qn(e,a,u)}}),Ma)}function qr(e,t){var n=e.length;if(n)return vi(t+=t<0?n:0,n)?e[t]:o}function $r(e,t,n){t=t.length?St(t,(function(e){return zs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;return t=St(t,Wt(ai())),function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var u=So(o[r],i[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(Ur(e,(function(e,n,o){return{criteria:St(t,(function(t){return t(e)})),index:++r,value:e}})))}function Wr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Er(e,s);n(a,s)&&Zr(i,bo(s,e),a)}return i}function Gr(e,t,n,r){var o=r?Lt:Mt,i=-1,s=t.length,a=e;for(e===t&&(t=Co(t)),n&&(a=St(e,Wt(n)));++i<s;)for(var u=0,c=t[i],l=n?n(c):c;(u=o(a,l,u,r))>-1;)a!==e&&rt.call(a,u,1),rt.call(e,u,1);return e}function zr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;vi(o)?rt.call(e,o,1):co(e,o)}}return e}function Vr(e,t){return e+fn(mn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=fn(t/2))&&(e+=e)}while(t);return n}function Hr(e,t){return ki(Si(e,t,ou),e+"")}function Xr(e){return Yn(qa(e))}function Yr(e,t){var n=qa(e);return Li(n,sr(t,0,n.length))}function Zr(e,t,n,r){if(!ta(e))return e;for(var i=-1,s=(t=bo(t,e)).length,a=s-1,u=e;null!=u&&++i<s;){var c=Di(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=a){var f=u[c];(l=r?r(f,c,u):o)===o&&(l=ta(f)?f:vi(t[i+1])?[]:{})}er(u,c,l),u=u[c]}return e}var Jr=Rn?function(e,t){return Rn.set(e,t),e}:ou,Qr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:tu(t),writable:!0})}:ou;function eo(e){return Li(qa(e))}function to(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=r(i);++o<i;)s[o]=e[o+t];return s}function no(e,t){var n;return fr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ro(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!ca(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return oo(e,t,ou,n)}function oo(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,u=null===t,c=ca(t),l=t===o;i<s;){var f=fn((i+s)/2),h=n(e[f]),d=h!==o,p=null===h,_=h==h,g=ca(h);if(a)var v=r||_;else v=l?_&&(r||d):u?_&&d&&(r||!p):c?_&&d&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);v?i=f+1:s=f}return bn(s,4294967294)}function io(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!qs(a,u)){var u=a;i[o++]=0===s?0:s}}return i}function so(e){return"number"==typeof e?e:ca(e)?h:+e}function ao(e){if("string"==typeof e)return e;if(zs(e))return St(e,ao)+"";if(ca(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function uo(e,t,n){var r=-1,o=Ot,i=e.length,s=!0,a=[],u=a;if(n)s=!1,o=Tt;else if(i>=200){var c=t?null:Ho(e);if(c)return nn(c);s=!1,o=zt,u=new Kn}else u=t?[]:a;e:for(;++r<i;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,s&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),a.push(l)}else o(u,f,n)||(u!==a&&u.push(f),a.push(l))}return a}function co(e,t){return null==(e=Ni(e,t=bo(t,e)))||delete e[Di(Zi(t))]}function lo(e,t,n,r){return Zr(e,t,n(Er(e,t)),r)}function fo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?to(e,r?0:i,r?i+1:o):to(e,r?i+1:0,r?o:i)}function ho(e,t){var n=e;return n instanceof Wn&&(n=n.value()),At(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function po(e,t,n){var o=e.length;if(o<2)return o?uo(e[0]):[];for(var i=-1,s=r(o);++i<o;)for(var a=e[i],u=-1;++u<o;)u!=i&&(s[i]=lr(s[i]||a,e[u],t,n));return uo(gr(s,1),t,n)}function _o(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var u=r<s?t[r]:o;n(a,e[r],u)}return a}function go(e){return Hs(e)?e:[]}function vo(e){return"function"==typeof e?e:ou}function bo(e,t){return zs(e)?e:wi(e,t)?[e]:Ui(wa(e))}var wo=Hr;function yo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:to(e,t,n)}var mo=lt||function(e){return it.clearTimeout(e)};function Eo(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Oo(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function To(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function So(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,s=ca(e),a=t!==o,u=null===t,c=t==t,l=ca(t);if(!u&&!l&&!s&&e>t||s&&a&&c&&!u&&!l||r&&a&&c||!n&&c||!i)return 1;if(!r&&!s&&!l&&e<t||l&&n&&i&&!r&&!s||u&&n&&i||!a&&i||!c)return-1}return 0}function No(e,t,n,o){for(var i=-1,s=e.length,a=n.length,u=-1,c=t.length,l=vn(s-a,0),f=r(c+l),h=!o;++u<c;)f[u]=t[u];for(;++i<a;)(h||i<s)&&(f[n[i]]=e[i]);for(;l--;)f[u++]=e[i++];return f}function Ao(e,t,n,o){for(var i=-1,s=e.length,a=-1,u=n.length,c=-1,l=t.length,f=vn(s-u,0),h=r(f+l),d=!o;++i<f;)h[i]=e[i];for(var p=i;++c<l;)h[p+c]=t[c];for(;++a<u;)(d||i<s)&&(h[p+n[a]]=e[i++]);return h}function Co(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Ro(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=r?r(n[u],e[u],u,n,e):o;c===o&&(c=e[u]),i?or(n,u,c):er(n,u,c)}return n}function Io(e,t){return function(n,r){var o=zs(n)?bt:nr,i=t?t():{};return o(n,e,ai(r,2),i)}}function ko(e){return Hr((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&bi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=Te(t);++r<i;){var u=n[r];u&&e(t,u,r,s)}return t}))}function xo(e,t){return function(n,r){if(null==n)return n;if(!Ks(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Te(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function Mo(e){return function(t,n,r){for(var o=-1,i=Te(t),s=r(t),a=s.length;a--;){var u=s[e?a:++o];if(!1===n(i[u],u,i))break}return t}}function Lo(e){return function(t){var n=Jt(t=wa(t))?sn(t):o,r=n?n[0]:t.charAt(0),i=n?yo(n,1).join(""):t.slice(1);return r[e]()+i}}function jo(e){return function(t){return At(Ja(Ga(t).replace(Ge,"")),e,"")}}function Po(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function Uo(e){return function(t,n,r){var i=Te(t);if(!Ks(t)){var s=ai(n,3);t=xa(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function Do(e){return ti((function(t){var n=t.length,r=n,s=$n.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ae(i);if(s&&!u&&"wrapper"==ii(a))var u=new $n([],!0)}for(r=u?r:n;++r<n;){var c=ii(a=t[r]),l="wrapper"==c?oi(a):o;u=l&&yi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ii(l[0])].apply(u,l[3]):1==a.length&&yi(a)?u[c]():u.thru(a)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&zs(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Bo(e,t,n,i,s,a,u,l,f,h){var d=t&c,p=1&t,_=2&t,g=24&t,v=512&t,b=_?o:Po(e);return function o(){for(var c=arguments.length,w=r(c),y=c;y--;)w[y]=arguments[y];if(g)var m=si(o),E=Ht(w,m);if(i&&(w=No(w,i,s,g)),a&&(w=Ao(w,a,u,g)),c-=E,g&&c<h){var O=tn(w,m);return Vo(e,t,Bo,o.placeholder,n,w,O,l,f,h-c)}var T=p?n:this,S=_?T[e]:e;return c=w.length,l?w=Ai(w,l):v&&c>1&&w.reverse(),d&&f<c&&(w.length=f),this&&this!==it&&this instanceof o&&(S=b||Po(S)),S.apply(T,w)}}function Fo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function qo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ao(n),r=ao(r)):(n=so(n),r=so(r)),i=e(n,r)}return i}}function $o(e){return ti((function(t){return t=St(t,Wt(ai())),Hr((function(n){var r=this;return e(t,(function(e){return vt(e,r,n)}))}))}))}function Wo(e,t){var n=(t=t===o?" ":ao(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ln(e/on(t)));return Jt(t)?yo(sn(r),0,e).join(""):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&"number"!=typeof i&&bi(t,n,i)&&(n=i=o),t=pa(t),n===o?(n=t,t=0):n=pa(n),function(e,t,n,o){for(var i=-1,s=vn(ln((t-e)/(n||1)),0),a=r(s);s--;)a[o?s:++i]=e,e+=n;return a}(t,n,i=i===o?t<n?1:-1:pa(i),e)}}function zo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function Vo(e,t,n,r,i,s,a,c,l,f){var h=8&t;t|=h?u:64,4&(t&=~(h?64:u))||(t&=-4);var d=[e,t,i,h?s:o,h?a:o,h?o:s,h?o:a,c,l,f],p=n.apply(o,d);return yi(e)&&Ri(p,d),p.placeholder=r,xi(p,e,t)}function Ko(e){var t=Oe[e];return function(e,n){if(e=va(e),(n=null==n?0:bn(_a(n),292))&&pn(e)){var r=(wa(e)+"e").split("e");return+((r=(wa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ho=Nn&&1/nn(new Nn([,-0]))[1]==l?function(e){return new Nn(e)}:cu;function Xo(e){return function(t){var n=di(t);return n==E?Qt(t):n==A?rn(t):function(e,t){return St(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yo(e,t,n,s,l,f,h,d){var p=2&t;if(!p&&"function"!=typeof e)throw new Ae(i);var _=s?s.length:0;if(_||(t&=-97,s=l=o),h=h===o?h:vn(_a(h),0),d=d===o?d:_a(d),_-=l?l.length:0,64&t){var g=s,v=l;s=l=o}var b=p?o:oi(e),w=[e,t,n,s,l,g,v,f,h,d];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?No(l,u,t[4]):u,e[4]=l?tn(e[3],a):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ao(l,u,t[6]):u,e[6]=l?tn(e[5],a):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(w,b),e=w[0],t=w[1],n=w[2],s=w[3],l=w[4],!(d=w[9]=w[9]===o?p?0:e.length:vn(w[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var i=Po(e);return function s(){for(var a=arguments.length,u=r(a),c=a,l=si(s);c--;)u[c]=arguments[c];var f=a<3&&u[0]!==l&&u[a-1]!==l?[]:tn(u,l);return(a-=f.length)<n?Vo(e,t,Bo,s.placeholder,o,u,f,o,o,n-a):vt(this&&this!==it&&this instanceof s?i:e,this,u)}}(e,t,d):t!=u&&33!=t||l.length?Bo.apply(o,w):function(e,t,n,o){var i=1&t,s=Po(e);return function t(){for(var a=-1,u=arguments.length,c=-1,l=o.length,f=r(l+u),h=this&&this!==it&&this instanceof t?s:e;++c<l;)f[c]=o[c];for(;u--;)f[c++]=arguments[++a];return vt(h,i?n:this,f)}}(e,t,n,s);else var y=function(e,t,n){var r=1&t,o=Po(e);return function t(){return(this&&this!==it&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return xi((b?Jr:Ri)(y,w),e,t)}function Zo(e,t,n,r){return e===o||qs(e,Ie[n])&&!Me.call(r,n)?t:e}function Jo(e,t,n,r,i,s){return ta(e)&&ta(t)&&(s.set(t,e),Fr(e,t,o,Jo,s),s.delete(t)),e}function Qo(e){return ia(e)?o:e}function ei(e,t,n,r,i,s){var a=1&n,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var l=s.get(e),f=s.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new Kn:o;for(s.set(e,t),s.set(t,e);++h<u;){var _=e[h],g=t[h];if(r)var v=a?r(g,_,h,t,e,s):r(_,g,h,e,t,s);if(v!==o){if(v)continue;d=!1;break}if(p){if(!Rt(t,(function(e,t){if(!zt(p,t)&&(_===e||i(_,e,n,r,s)))return p.push(t)}))){d=!1;break}}else if(_!==g&&!i(_,g,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ti(e){return ki(Si(e,o,Vi),e+"")}function ni(e){return Or(e,xa,fi)}function ri(e){return Or(e,Ma,hi)}var oi=Rn?function(e){return Rn.get(e)}:cu;function ii(e){for(var t=e.name+"",n=In[t],r=Me.call(In,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function si(e){return(Me.call(Bn,"placeholder")?Bn:e).placeholder}function ai(){var e=Bn.iteratee||iu;return e=e===iu?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=xa(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Oi(o)]}return t}function li(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Mr(n)?n:o}var fi=hn?function(e){return null==e?[]:(e=Te(e),Et(hn(e),(function(t){return et.call(e,t)})))}:gu,hi=hn?function(e){for(var t=[];e;)Nt(t,fi(e)),e=Ve(e);return t}:gu,di=Tr;function pi(e,t,n){for(var r=-1,o=(t=bo(t,e)).length,i=!1;++r<o;){var s=Di(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&ea(o)&&vi(s,o)&&(zs(e)||Gs(e))}function _i(e){return"function"!=typeof e.constructor||Ei(e)?{}:Fn(Ve(e))}function gi(e){return zs(e)||Gs(e)||!!(ot&&e&&e[ot])}function vi(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function bi(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?Ks(n)&&vi(t,n.length):"string"==r&&t in n)&&qs(n[t],e)}function wi(e,t){if(zs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ca(e))||Q.test(e)||!J.test(e)||null!=t&&e in Te(t)}function yi(e){var t=ii(e),n=Bn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oi(n);return!!r&&e===r[0]}(On&&di(new On(new ArrayBuffer(1)))!=x||Tn&&di(new Tn)!=E||Sn&&di(Sn.resolve())!=S||Nn&&di(new Nn)!=A||An&&di(new An)!=I)&&(di=function(e){var t=Tr(e),n=t==T?e.constructor:o,r=n?Bi(n):"";if(r)switch(r){case kn:return x;case xn:return E;case Mn:return S;case Ln:return A;case jn:return I}return t});var mi=ke?Js:vu;function Ei(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ie)}function Oi(e){return e==e&&!ta(e)}function Ti(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in Te(n))}}function Si(e,t,n){return t=vn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=vn(o.length-t,0),a=r(s);++i<s;)a[i]=o[t+i];i=-1;for(var u=r(t+1);++i<t;)u[i]=o[i];return u[t]=n(a),vt(e,this,u)}}function Ni(e,t){return t.length<2?e:Er(e,to(t,0,-1))}function Ai(e,t){for(var n=e.length,r=bn(t.length,n),i=Co(e);r--;){var s=t[r];e[r]=vi(s,n)?i[s]:o}return e}function Ci(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ri=Mi(Jr),Ii=Dt||function(e,t){return it.setTimeout(e,t)},ki=Mi(Qr);function xi(e,t,n){var r=t+"";return ki(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return wt(p,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Mi(e){var t=0,n=0;return function(){var r=wn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Li(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Vr(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var ji,Pi,Ui=(ji=js((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,o){t.push(r?o.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Pi.size&&Pi.clear(),e})),Pi=ji.cache,ji);function Di(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bi(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fi(e){if(e instanceof Wn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=Co(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var qi=Hr((function(e,t){return Hs(e)?lr(e,gr(t,1,Hs,!0)):[]})),$i=Hr((function(e,t){var n=Zi(t);return Hs(n)&&(n=o),Hs(e)?lr(e,gr(t,1,Hs,!0),ai(n,2)):[]})),Wi=Hr((function(e,t){var n=Zi(t);return Hs(n)&&(n=o),Hs(e)?lr(e,gr(t,1,Hs,!0),o,n):[]}));function Gi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:_a(n);return o<0&&(o=vn(r+o,0)),xt(e,ai(t,3),o)}function zi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=_a(n),i=n<0?vn(r+i,0):bn(i,r-1)),xt(e,ai(t,3),i,!0)}function Vi(e){return null!=e&&e.length?gr(e,1):[]}function Ki(e){return e&&e.length?e[0]:o}var Hi=Hr((function(e){var t=St(e,go);return t.length&&t[0]===e[0]?Cr(t):[]})),Xi=Hr((function(e){var t=Zi(e),n=St(e,go);return t===Zi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Cr(n,ai(t,2)):[]})),Yi=Hr((function(e){var t=Zi(e),n=St(e,go);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Cr(n,o,t):[]}));function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ji=Hr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var es=ti((function(e,t){var n=null==e?0:e.length,r=ir(e,t);return zr(e,St(t,(function(e){return vi(e,n)?+e:e})).sort(So)),r}));function ts(e){return null==e?e:En.call(e)}var ns=Hr((function(e){return uo(gr(e,1,Hs,!0))})),rs=Hr((function(e){var t=Zi(e);return Hs(t)&&(t=o),uo(gr(e,1,Hs,!0),ai(t,2))})),os=Hr((function(e){var t=Zi(e);return t="function"==typeof t?t:o,uo(gr(e,1,Hs,!0),o,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=Et(e,(function(e){if(Hs(e))return t=vn(e.length,t),!0})),qt(t,(function(t){return St(e,Ut(t))}))}function ss(e,t){if(!e||!e.length)return[];var n=is(e);return null==t?n:St(n,(function(e){return vt(t,o,e)}))}var as=Hr((function(e,t){return Hs(e)?lr(e,t):[]})),us=Hr((function(e){return po(Et(e,Hs))})),cs=Hr((function(e){var t=Zi(e);return Hs(t)&&(t=o),po(Et(e,Hs),ai(t,2))})),ls=Hr((function(e){var t=Zi(e);return t="function"==typeof t?t:o,po(Et(e,Hs),o,t)})),fs=Hr(is),hs=Hr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ss(e,n)}));function ds(e){var t=Bn(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var _s=ti((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return ir(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&vi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[i],thisArg:o}),new $n(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),gs=Io((function(e,t,n){Me.call(e,n)?++e[n]:or(e,n,1)})),vs=Uo(Gi),bs=Uo(zi);function ws(e,t){return(zs(e)?wt:fr)(e,ai(t,3))}function ys(e,t){return(zs(e)?yt:hr)(e,ai(t,3))}var ms=Io((function(e,t,n){Me.call(e,n)?e[n].push(t):or(e,n,[t])})),Es=Hr((function(e,t,n){var o=-1,i="function"==typeof t,s=Ks(e)?r(e.length):[];return fr(e,(function(e){s[++o]=i?vt(t,e,n):Rr(e,t,n)})),s})),Os=Io((function(e,t,n){or(e,n,t)}));function Ts(e,t){return(zs(e)?St:Ur)(e,ai(t,3))}var Ss=Io((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ns=Hr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bi(e,t[0],t[1])?t=[]:n>2&&bi(t[0],t[1],t[2])&&(t=[t[0]]),$r(e,gr(t,1),[])})),As=It||function(){return it.Date.now()};function Cs(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Yo(e,c,o,o,o,o,t)}function Rs(e,t){var n;if("function"!=typeof t)throw new Ae(i);return e=_a(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Is=Hr((function(e,t,n){var r=1;if(n.length){var o=tn(n,si(Is));r|=u}return Yo(e,r,t,n,o)})),ks=Hr((function(e,t,n){var r=3;if(n.length){var o=tn(n,si(ks));r|=u}return Yo(t,r,e,n,o)}));function xs(e,t,n){var r,s,a,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(i);function _(t){var n=r,i=s;return r=s=o,f=t,u=e.apply(i,n)}function g(e){return f=e,c=Ii(b,t),h?_(e):u}function v(e){var n=e-l;return l===o||n>=t||n<0||d&&e-f>=a}function b(){var e=As();if(v(e))return w(e);c=Ii(b,function(e){var n=t-(e-l);return d?bn(n,a-(e-f)):n}(e))}function w(e){return c=o,p&&r?_(e):(r=s=o,u)}function y(){var e=As(),n=v(e);if(r=arguments,s=this,l=e,n){if(c===o)return g(l);if(d)return mo(c),c=Ii(b,t),_(l)}return c===o&&(c=Ii(b,t)),u}return t=va(t)||0,ta(n)&&(h=!!n.leading,a=(d="maxWait"in n)?vn(va(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){c!==o&&mo(c),f=0,r=l=s=c=o},y.flush=function(){return c===o?u:w(As())},y}var Ms=Hr((function(e,t){return cr(e,1,t)})),Ls=Hr((function(e,t,n){return cr(e,va(t)||0,n)}));function js(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(js.Cache||Vn),n}function Ps(e){if("function"!=typeof e)throw new Ae(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}js.Cache=Vn;var Us=wo((function(e,t){var n=(t=1==t.length&&zs(t[0])?St(t[0],Wt(ai())):St(gr(t,1),Wt(ai()))).length;return Hr((function(r){for(var o=-1,i=bn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return vt(e,this,r)}))})),Ds=Hr((function(e,t){var n=tn(t,si(Ds));return Yo(e,u,o,t,n)})),Bs=Hr((function(e,t){var n=tn(t,si(Bs));return Yo(e,64,o,t,n)})),Fs=ti((function(e,t){return Yo(e,256,o,o,o,t)}));function qs(e,t){return e===t||e!=e&&t!=t}var $s=zo(Sr),Ws=zo((function(e,t){return e>=t})),Gs=Ir(function(){return arguments}())?Ir:function(e){return na(e)&&Me.call(e,"callee")&&!et.call(e,"callee")},zs=r.isArray,Vs=ft?Wt(ft):function(e){return na(e)&&Tr(e)==k};function Ks(e){return null!=e&&ea(e.length)&&!Js(e)}function Hs(e){return na(e)&&Ks(e)}var Xs=dn||vu,Ys=ht?Wt(ht):function(e){return na(e)&&Tr(e)==b};function Zs(e){if(!na(e))return!1;var t=Tr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Js(e){if(!ta(e))return!1;var t=Tr(e);return t==y||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qs(e){return"number"==typeof e&&e==_a(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=dt?Wt(dt):function(e){return na(e)&&di(e)==E};function oa(e){return"number"==typeof e||na(e)&&Tr(e)==O}function ia(e){if(!na(e)||Tr(e)!=T)return!1;var t=Ve(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Ue}var sa=pt?Wt(pt):function(e){return na(e)&&Tr(e)==N},aa=_t?Wt(_t):function(e){return na(e)&&di(e)==A};function ua(e){return"string"==typeof e||!zs(e)&&na(e)&&Tr(e)==C}function ca(e){return"symbol"==typeof e||na(e)&&Tr(e)==R}var la=gt?Wt(gt):function(e){return na(e)&&ea(e.length)&&!!Je[Tr(e)]},fa=zo(Pr),ha=zo((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Ks(e))return ua(e)?sn(e):Co(e);if(st&&e[st])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[st]());var t=di(e);return(t==E?Qt:t==A?nn:qa)(e)}function pa(e){return e?(e=va(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function _a(e){var t=pa(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?sr(_a(e),0,d):0}function va(e){if("number"==typeof e)return e;if(ca(e))return h;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$t(e);var n=pe.test(e);return n||ge.test(e)?nt(e.slice(2),n?2:8):de.test(e)?h:+e}function ba(e){return Ro(e,Ma(e))}function wa(e){return null==e?"":ao(e)}var ya=ko((function(e,t){if(Ei(t)||Ks(t))Ro(t,xa(t),e);else for(var n in t)Me.call(t,n)&&er(e,n,t[n])})),ma=ko((function(e,t){Ro(t,Ma(t),e)})),Ea=ko((function(e,t,n,r){Ro(t,Ma(t),e,r)})),Oa=ko((function(e,t,n,r){Ro(t,xa(t),e,r)})),Ta=ti(ir),Sa=Hr((function(e,t){e=Te(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&bi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=Ma(s),u=-1,c=a.length;++u<c;){var l=a[u],f=e[l];(f===o||qs(f,Ie[l])&&!Me.call(e,l))&&(e[l]=s[l])}return e})),Na=Hr((function(e){return e.push(o,Jo),vt(ja,o,e)}));function Aa(e,t,n){var r=null==e?o:Er(e,t);return r===o?n:r}function Ca(e,t){return null!=e&&pi(e,t,Ar)}var Ra=Fo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),e[t]=n}),tu(ou)),Ia=Fo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),ai),ka=Hr(Rr);function xa(e){return Ks(e)?Xn(e):jr(e)}function Ma(e){return Ks(e)?Xn(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=Ei(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}(e)}var La=ko((function(e,t,n){Fr(e,t,n)})),ja=ko((function(e,t,n,r){Fr(e,t,n,r)})),Pa=ti((function(e,t){var n={};if(null==e)return n;var r=!1;t=St(t,(function(t){return t=bo(t,e),r||(r=t.length>1),t})),Ro(e,ri(e),n),r&&(n=ar(n,7,Qo));for(var o=t.length;o--;)co(n,t[o]);return n})),Ua=ti((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Ca(e,n)}))}(e,t)}));function Da(e,t){if(null==e)return{};var n=St(ri(e),(function(e){return[e]}));return t=ai(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Ba=Xo(xa),Fa=Xo(Ma);function qa(e){return null==e?[]:Gt(e,xa(e))}var $a=jo((function(e,t,n){return t=t.toLowerCase(),e+(n?Wa(t):t)}));function Wa(e){return Za(wa(e).toLowerCase())}function Ga(e){return(e=wa(e))&&e.replace(be,Xt).replace(ze,"")}var za=jo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Va=jo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=Lo("toLowerCase"),Ha=jo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Xa=jo((function(e,t,n){return e+(n?" ":"")+Za(t)})),Ya=jo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Za=Lo("toUpperCase");function Ja(e,t,n){return e=wa(e),(t=n?o:t)===o?function(e){return Xe.test(e)}(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Qa=Hr((function(e,t){try{return vt(e,o,t)}catch(e){return Zs(e)?e:new me(e)}})),eu=ti((function(e,t){return wt(t,(function(t){t=Di(t),or(e,t,Is(e[t],e))})),e}));function tu(e){return function(){return e}}var nu=Do(),ru=Do(!0);function ou(e){return e}function iu(e){return Lr("function"==typeof e?e:ar(e,1))}var su=Hr((function(e,t){return function(n){return Rr(n,e,t)}})),au=Hr((function(e,t){return function(n){return Rr(e,n,t)}}));function uu(e,t,n){var r=xa(t),o=mr(t,r);null!=n||ta(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=mr(t,xa(t)));var i=!(ta(n)&&"chain"in n&&!n.chain),s=Js(e);return wt(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__),o=n.__actions__=Co(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function cu(){}var lu=$o(St),fu=$o(mt),hu=$o(Rt);function du(e){return wi(e)?Ut(Di(e)):function(e){return function(t){return Er(t,e)}}(e)}var pu=Go(),_u=Go(!0);function gu(){return[]}function vu(){return!1}var bu,wu=qo((function(e,t){return e+t}),0),yu=Ko("ceil"),mu=qo((function(e,t){return e/t}),1),Eu=Ko("floor"),Ou=qo((function(e,t){return e*t}),1),Tu=Ko("round"),Su=qo((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ae(i);return e=_a(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Cs,Bn.assign=ya,Bn.assignIn=ma,Bn.assignInWith=Ea,Bn.assignWith=Oa,Bn.at=Ta,Bn.before=Rs,Bn.bind=Is,Bn.bindAll=eu,Bn.bindKey=ks,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zs(e)?e:[e]},Bn.chain=ds,Bn.chunk=function(e,t,n){t=(n?bi(e,t,n):t===o)?1:vn(_a(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,u=r(ln(i/t));s<i;)u[a++]=to(e,s,s+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Nt(zs(n)?Co(n):[n],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ai();return e=t?St(e,(function(e){if("function"!=typeof e[1])throw new Ae(i);return[n(e[0]),e[1]]})):[],Hr((function(n){for(var r=-1;++r<t;){var o=e[r];if(vt(o[0],this,n))return vt(o[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=xa(e);return function(n){return ur(n,e,t)}}(ar(e,1))},Bn.constant=tu,Bn.countBy=gs,Bn.create=function(e,t){var n=Fn(e);return null==t?n:rr(n,t)},Bn.curry=function e(t,n,r){var i=Yo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.curryRight=function e(t,n,r){var i=Yo(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},Bn.debounce=xs,Bn.defaults=Sa,Bn.defaultsDeep=Na,Bn.defer=Ms,Bn.delay=Ls,Bn.difference=qi,Bn.differenceBy=$i,Bn.differenceWith=Wi,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?to(e,(t=n||t===o?1:_a(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?to(e,0,(t=r-(t=n||t===o?1:_a(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fo(e,ai(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fo(e,ai(t,3),!0):[]},Bn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&bi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=_a(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:_a(r))<0&&(r+=i),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(zs(e)?Et:_r)(e,ai(t,3))},Bn.flatMap=function(e,t){return gr(Ts(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Ts(e,t),l)},Bn.flatMapDepth=function(e,t,n){return n=n===o?1:_a(n),gr(Ts(e,t),n)},Bn.flatten=Vi,Bn.flattenDeep=function(e){return null!=e&&e.length?gr(e,l):[]},Bn.flattenDepth=function(e,t){return null!=e&&e.length?gr(e,t=t===o?1:_a(t)):[]},Bn.flip=function(e){return Yo(e,512)},Bn.flow=nu,Bn.flowRight=ru,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Bn.functions=function(e){return null==e?[]:mr(e,xa(e))},Bn.functionsIn=function(e){return null==e?[]:mr(e,Ma(e))},Bn.groupBy=ms,Bn.initial=function(e){return null!=e&&e.length?to(e,0,-1):[]},Bn.intersection=Hi,Bn.intersectionBy=Xi,Bn.intersectionWith=Yi,Bn.invert=Ra,Bn.invertBy=Ia,Bn.invokeMap=Es,Bn.iteratee=iu,Bn.keyBy=Os,Bn.keys=xa,Bn.keysIn=Ma,Bn.map=Ts,Bn.mapKeys=function(e,t){var n={};return t=ai(t,3),wr(e,(function(e,r,o){or(n,t(e,r,o),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ai(t,3),wr(e,(function(e,r,o){or(n,r,t(e,r,o))})),n},Bn.matches=function(e){return Dr(ar(e,1))},Bn.matchesProperty=function(e,t){return Br(e,ar(t,1))},Bn.memoize=js,Bn.merge=La,Bn.mergeWith=ja,Bn.method=su,Bn.methodOf=au,Bn.mixin=uu,Bn.negate=Ps,Bn.nthArg=function(e){return e=_a(e),Hr((function(t){return qr(t,e)}))},Bn.omit=Pa,Bn.omitBy=function(e,t){return Da(e,Ps(ai(t)))},Bn.once=function(e){return Rs(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(zs(t)||(t=null==t?[]:[t]),zs(n=r?o:n)||(n=null==n?[]:[n]),$r(e,t,n))},Bn.over=lu,Bn.overArgs=Us,Bn.overEvery=fu,Bn.overSome=hu,Bn.partial=Ds,Bn.partialRight=Bs,Bn.partition=Ss,Bn.pick=Ua,Bn.pickBy=Da,Bn.property=du,Bn.propertyOf=function(e){return function(t){return null==e?o:Er(e,t)}},Bn.pull=Ji,Bn.pullAll=Qi,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,ai(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},Bn.pullAt=es,Bn.range=pu,Bn.rangeRight=_u,Bn.rearg=Fs,Bn.reject=function(e,t){return(zs(e)?Et:_r)(e,Ps(ai(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ai(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return zr(e,o),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ae(i);return Hr(e,t=t===o?t:_a(t))},Bn.reverse=ts,Bn.sampleSize=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:_a(t),(zs(e)?Zn:Yr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Zr(e,t,n,r)},Bn.shuffle=function(e){return(zs(e)?Jn:eo)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bi(e,t,n)?(t=0,n=r):(t=null==t?0:_a(t),n=n===o?r:_a(n)),to(e,t,n)):[]},Bn.sortBy=Ns,Bn.sortedUniq=function(e){return e&&e.length?io(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?io(e,ai(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&bi(e,t,n)&&(t=n=o),(n=n===o?d:n>>>0)?(e=wa(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ao(t))&&Jt(e)?yo(sn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ae(i);return t=null==t?0:vn(_a(t),0),Hr((function(n){var r=n[t],o=yo(n,0,t);return r&&Nt(o,r),vt(e,this,o)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?to(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?to(e,0,(t=n||t===o?1:_a(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?to(e,(t=r-(t=n||t===o?1:_a(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fo(e,ai(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fo(e,ai(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ae(i);return ta(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),xs(e,t,{leading:r,maxWait:t,trailing:o})},Bn.thru=ps,Bn.toArray=da,Bn.toPairs=Ba,Bn.toPairsIn=Fa,Bn.toPath=function(e){return zs(e)?St(e,Di):ca(e)?[e]:Co(Ui(wa(e)))},Bn.toPlainObject=ba,Bn.transform=function(e,t,n){var r=zs(e),o=r||Xs(e)||la(e);if(t=ai(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ta(e)&&Js(i)?Fn(Ve(e)):{}}return(o?wt:wr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Bn.unary=function(e){return Cs(e,1)},Bn.union=ns,Bn.unionBy=rs,Bn.unionWith=os,Bn.uniq=function(e){return e&&e.length?uo(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?uo(e,ai(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?uo(e,o,t):[]},Bn.unset=function(e,t){return null==e||co(e,t)},Bn.unzip=is,Bn.unzipWith=ss,Bn.update=function(e,t,n){return null==e?e:lo(e,t,vo(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:lo(e,t,vo(n),r)},Bn.values=qa,Bn.valuesIn=function(e){return null==e?[]:Gt(e,Ma(e))},Bn.without=as,Bn.words=Ja,Bn.wrap=function(e,t){return Ds(vo(t),e)},Bn.xor=us,Bn.xorBy=cs,Bn.xorWith=ls,Bn.zip=fs,Bn.zipObject=function(e,t){return _o(e||[],t||[],er)},Bn.zipObjectDeep=function(e,t){return _o(e||[],t||[],Zr)},Bn.zipWith=hs,Bn.entries=Ba,Bn.entriesIn=Fa,Bn.extend=ma,Bn.extendWith=Ea,uu(Bn,Bn),Bn.add=wu,Bn.attempt=Qa,Bn.camelCase=$a,Bn.capitalize=Wa,Bn.ceil=yu,Bn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=va(n))==n?n:0),t!==o&&(t=(t=va(t))==t?t:0),sr(va(e),t,n)},Bn.clone=function(e){return ar(e,4)},Bn.cloneDeep=function(e){return ar(e,5)},Bn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:o)},Bn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:o)},Bn.conformsTo=function(e,t){return null==t||ur(e,t,xa(t))},Bn.deburr=Ga,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=mu,Bn.endsWith=function(e,t,n){e=wa(e),t=ao(t);var r=e.length,i=n=n===o?r:sr(_a(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Bn.eq=qs,Bn.escape=function(e){return(e=wa(e))&&H.test(e)?e.replace(V,Yt):e},Bn.escapeRegExp=function(e){return(e=wa(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Bn.every=function(e,t,n){var r=zs(e)?mt:dr;return n&&bi(e,t,n)&&(t=o),r(e,ai(t,3))},Bn.find=vs,Bn.findIndex=Gi,Bn.findKey=function(e,t){return kt(e,ai(t,3),wr)},Bn.findLast=bs,Bn.findLastIndex=zi,Bn.findLastKey=function(e,t){return kt(e,ai(t,3),yr)},Bn.floor=Eu,Bn.forEach=ws,Bn.forEachRight=ys,Bn.forIn=function(e,t){return null==e?e:vr(e,ai(t,3),Ma)},Bn.forInRight=function(e,t){return null==e?e:br(e,ai(t,3),Ma)},Bn.forOwn=function(e,t){return e&&wr(e,ai(t,3))},Bn.forOwnRight=function(e,t){return e&&yr(e,ai(t,3))},Bn.get=Aa,Bn.gt=$s,Bn.gte=Ws,Bn.has=function(e,t){return null!=e&&pi(e,t,Nr)},Bn.hasIn=Ca,Bn.head=Ki,Bn.identity=ou,Bn.includes=function(e,t,n,r){e=Ks(e)?e:qa(e),n=n&&!r?_a(n):0;var o=e.length;return n<0&&(n=vn(o+n,0)),ua(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Mt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:_a(n);return o<0&&(o=vn(r+o,0)),Mt(e,t,o)},Bn.inRange=function(e,t,n){return t=pa(t),n===o?(n=t,t=0):n=pa(n),function(e,t,n){return e>=bn(t,n)&&e<vn(t,n)}(e=va(e),t,n)},Bn.invoke=ka,Bn.isArguments=Gs,Bn.isArray=zs,Bn.isArrayBuffer=Vs,Bn.isArrayLike=Ks,Bn.isArrayLikeObject=Hs,Bn.isBoolean=function(e){return!0===e||!1===e||na(e)&&Tr(e)==v},Bn.isBuffer=Xs,Bn.isDate=Ys,Bn.isElement=function(e){return na(e)&&1===e.nodeType&&!ia(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ks(e)&&(zs(e)||"string"==typeof e||"function"==typeof e.splice||Xs(e)||la(e)||Gs(e)))return!e.length;var t=di(e);if(t==E||t==A)return!e.size;if(Ei(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return kr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?kr(e,t,o,n):!!r},Bn.isError=Zs,Bn.isFinite=function(e){return"number"==typeof e&&pn(e)},Bn.isFunction=Js,Bn.isInteger=Qs,Bn.isLength=ea,Bn.isMap=ra,Bn.isMatch=function(e,t){return e===t||xr(e,t,ci(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,xr(e,t,ci(t),n)},Bn.isNaN=function(e){return oa(e)&&e!=+e},Bn.isNative=function(e){if(mi(e))throw new me("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=oa,Bn.isObject=ta,Bn.isObjectLike=na,Bn.isPlainObject=ia,Bn.isRegExp=sa,Bn.isSafeInteger=function(e){return Qs(e)&&e>=-9007199254740991&&e<=f},Bn.isSet=aa,Bn.isString=ua,Bn.isSymbol=ca,Bn.isTypedArray=la,Bn.isUndefined=function(e){return e===o},Bn.isWeakMap=function(e){return na(e)&&di(e)==I},Bn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==Tr(e)},Bn.join=function(e,t){return null==e?"":_n.call(e,t)},Bn.kebabCase=za,Bn.last=Zi,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=_a(n))<0?vn(r+i,0):bn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):xt(e,jt,i,!0)},Bn.lowerCase=Va,Bn.lowerFirst=Ka,Bn.lt=fa,Bn.lte=ha,Bn.max=function(e){return e&&e.length?pr(e,ou,Sr):o},Bn.maxBy=function(e,t){return e&&e.length?pr(e,ai(t,2),Sr):o},Bn.mean=function(e){return Pt(e,ou)},Bn.meanBy=function(e,t){return Pt(e,ai(t,2))},Bn.min=function(e){return e&&e.length?pr(e,ou,Pr):o},Bn.minBy=function(e,t){return e&&e.length?pr(e,ai(t,2),Pr):o},Bn.stubArray=gu,Bn.stubFalse=vu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Ou,Bn.nth=function(e,t){return e&&e.length?qr(e,_a(t)):o},Bn.noConflict=function(){return it._===this&&(it._=De),this},Bn.noop=cu,Bn.now=As,Bn.pad=function(e,t,n){e=wa(e);var r=(t=_a(t))?on(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Wo(fn(o),n)+e+Wo(ln(o),n)},Bn.padEnd=function(e,t,n){e=wa(e);var r=(t=_a(t))?on(e):0;return t&&r<t?e+Wo(t-r,n):e},Bn.padStart=function(e,t,n){e=wa(e);var r=(t=_a(t))?on(e):0;return t&&r<t?Wo(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(wa(e).replace(re,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=pa(e),t===o?(t=e,e=0):t=pa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=mn();return bn(e+i*(t-e+tt("1e-"+((i+"").length-1))),t)}return Vr(e,t)},Bn.reduce=function(e,t,n){var r=zs(e)?At:Bt,o=arguments.length<3;return r(e,ai(t,4),n,o,fr)},Bn.reduceRight=function(e,t,n){var r=zs(e)?Ct:Bt,o=arguments.length<3;return r(e,ai(t,4),n,o,hr)},Bn.repeat=function(e,t,n){return t=(n?bi(e,t,n):t===o)?1:_a(t),Kr(wa(e),t)},Bn.replace=function(){var e=arguments,t=wa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,i=(t=bo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[Di(t[r])];s===o&&(r=i,s=n),e=Js(s)?s.call(e):s}return e},Bn.round=Tu,Bn.runInContext=e,Bn.sample=function(e){return(zs(e)?Yn:Xr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ks(e))return ua(e)?on(e):e.length;var t=di(e);return t==E||t==A?e.size:jr(e).length},Bn.snakeCase=Ha,Bn.some=function(e,t,n){var r=zs(e)?Rt:no;return n&&bi(e,t,n)&&(t=o),r(e,ai(t,3))},Bn.sortedIndex=function(e,t){return ro(e,t)},Bn.sortedIndexBy=function(e,t,n){return oo(e,t,ai(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ro(e,t);if(r<n&&qs(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ro(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return oo(e,t,ai(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ro(e,t,!0)-1;if(qs(e[n],t))return n}return-1},Bn.startCase=Xa,Bn.startsWith=function(e,t,n){return e=wa(e),n=null==n?0:sr(_a(n),0,e.length),t=ao(t),e.slice(n,n+t.length)==t},Bn.subtract=Su,Bn.sum=function(e){return e&&e.length?Ft(e,ou):0},Bn.sumBy=function(e,t){return e&&e.length?Ft(e,ai(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&bi(e,t,n)&&(t=o),e=wa(e),t=Ea({},t,r,Zo);var i,s,a=Ea({},t.imports,r.imports,Zo),u=xa(a),c=Gt(a,u),l=0,f=t.interpolate||we,h="__p += '",d=Se((t.escape||we).source+"|"+f.source+"|"+(f===Z?fe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ze+"]")+"\n";e.replace(d,(function(t,n,r,o,a,u){return r||(r=o),h+=e.slice(l,u).replace(ye,Zt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var _=Me.call(t,"variable")&&t.variable;if(_){if(ce.test(_))throw new me("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace($,""):h).replace(W,"$1").replace(G,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qa((function(){return Ee(u,p+"return "+h).apply(o,c)}));if(g.source=h,Zs(g))throw g;return g},Bn.times=function(e,t){if((e=_a(e))<1||e>f)return[];var n=d,r=bn(e,d);t=ai(t),e-=d;for(var o=qt(r,t);++n<e;)t(n);return o},Bn.toFinite=pa,Bn.toInteger=_a,Bn.toLength=ga,Bn.toLower=function(e){return wa(e).toLowerCase()},Bn.toNumber=va,Bn.toSafeInteger=function(e){return e?sr(_a(e),-9007199254740991,f):0===e?e:0},Bn.toString=wa,Bn.toUpper=function(e){return wa(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=wa(e))&&(n||t===o))return $t(e);if(!e||!(t=ao(t)))return e;var r=sn(e),i=sn(t);return yo(r,Vt(r,i),Kt(r,i)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=wa(e))&&(n||t===o))return e.slice(0,an(e)+1);if(!e||!(t=ao(t)))return e;var r=sn(e);return yo(r,0,Kt(r,sn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=wa(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=ao(t)))return e;var r=sn(e);return yo(r,Vt(r,sn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ta(t)){var i="separator"in t?t.separator:i;n="length"in t?_a(t.length):n,r="omission"in t?ao(t.omission):r}var s=(e=wa(e)).length;if(Jt(e)){var a=sn(e);s=a.length}if(n>=s)return e;var u=n-on(r);if(u<1)return r;var c=a?yo(a,0,u).join(""):e.slice(0,u);if(i===o)return c+r;if(a&&(u+=c.length-u),sa(i)){if(e.slice(u).search(i)){var l,f=c;for(i.global||(i=Se(i.source,wa(he.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var h=l.index;c=c.slice(0,h===o?u:h)}}else if(e.indexOf(ao(i),u)!=u){var d=c.lastIndexOf(i);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=wa(e))&&K.test(e)?e.replace(z,un):e},Bn.uniqueId=function(e){var t=++Le;return wa(e)+t},Bn.upperCase=Ya,Bn.upperFirst=Za,Bn.each=ws,Bn.eachRight=ys,Bn.first=Ki,uu(Bn,(bu={},wr(Bn,(function(e,t){Me.call(Bn.prototype,t)||(bu[t]=e)})),bu),{chain:!1}),Bn.VERSION="4.17.21",wt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),wt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===o?1:vn(_a(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),wt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ai(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),wt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),wt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ou)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Hr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Rr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ps(ai(e)))},Wn.prototype.slice=function(e,t){e=_a(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=_a(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(d)},wr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Bn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(Bn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,u=t instanceof Wn,c=a[0],l=u||zs(t),f=function(e){var t=i.apply(Bn,Nt([e],a));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,_=u&&!d;if(!s&&l){t=_?t:new Wn(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[f],thisArg:o}),new $n(g,h)}return p&&_?e.apply(this,a):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),wt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(zs(o)?o:[],e)}return this[n]((function(n){return t.apply(zs(n)?n:[],e)}))}})),wr(Wn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Me.call(In,r)||(In[r]=[]),In[r].push({name:t,func:n})}})),In[Bo(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Co(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Co(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Co(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zs(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=bn(t,e+s);break;case"takeRight":e=vn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,d=bn(u,this.__takeCount__);if(!n||!r&&o==u&&d==u)return ho(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var _=-1,g=e[c+=t];++_<f;){var v=l[_],b=v.iteratee,w=v.type,y=b(g);if(2==w)g=y;else if(!y){if(1==w)continue e;break e}}p[h++]=g}return p},Bn.prototype.at=_s,Bn.prototype.chain=function(){return ds(this)},Bn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===o&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Fi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[ts],thisArg:o}),new $n(t,this.__chain__)}return this.thru(ts)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return ho(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,st&&(Bn.prototype[st]=function(){return this}),Bn}();it._=cn,(r=function(){return cn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},39593:(e,t,n)=>{"use strict";const r=n(34411),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),h=Symbol("cache"),d=Symbol("updateAgeOnGet"),p=()=>1,_=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(g(e,t)){if(b(e,r),!e[a])return}else n&&(e[d]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[u]&&n>e[u]},v=e=>{if(e[i]>e[o])for(let t=e[f].tail;e[i]>e[o]&&null!==t;){const n=t.prev;b(e,t),t=n}},b=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[i]-=n.length,e[h].delete(n.key),e[f].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const y=(e,t,n,r)=>{let o=n.value;g(e,o)&&(b(e,n),e[a]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||p;if(this[s]="function"!=typeof t?p:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[d]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,v(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[s]&&(this[s]=e,this[i]=0,this[f].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let n=this[f].tail;null!==n;){const r=n.prev;y(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[f].head;null!==n;){const r=n.next;y(this,e,n,t),n=r}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){this[c]&&this[f]&&this[f].length&&this[f].forEach((e=>this[c](e.key,e.value))),this[h]=new Map,this[f]=new r,this[i]=0}dump(){return this[f].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,n){if((n=n||this[u])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[h].has(e)){if(a>this[o])return b(this,this[h].get(e)),!1;const s=this[h].get(e).value;return this[c]&&(this[l]||this[c](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),v(this),!0}const d=new w(e,t,a,r,n);return d.length>this[o]?(this[c]&&this[c](e,t),!1):(this[i]+=d.length,this[f].unshift(d),this[h].set(e,this[f].head),v(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return _(this,e,!0)}peek(e){return _(this,e,!1)}pop(){const e=this[f].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>_(this,t,!1)))}}},11373:(e,t,n)=>{"use strict";n.r(t),n.d(t,{customAlphabet:()=>s,customRandom:()=>i,nanoid:()=>a,random:()=>o,urlAlphabet:()=>r});let r="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",o=e=>crypto.getRandomValues(new Uint8Array(e)),i=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return()=>{let i="";for(;;){let s=n(o),a=o;for(;a--;)if(i+=e[s[a]&r]||"",i.length===t)return i}}},s=(e,t)=>i(e,t,o),a=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}},88987:(e,t,n)=>{const{Duplex:r}=n(88473),o=n(12840),i=n(30778),s={};class a extends r{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,n){this._parent.push({name:this._name,data:e}),n()}}e.exports=class extends r{constructor(e={}){super(Object.assign({},e,{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');const t=new a({parent:this,name:e});return this._substreams[e]=t,function(e,n){const r=i((e=>{t.destroy(e)}));o(e,{readable:!1},r),o(e,{writable:!1},r)}(this),t}ignoreStream(e){if(!e)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[e]=s}_read(){}_write(e,t,n){const r=e.name,o=e.data;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name "${e}"`),n();const i=this._substreams[r];if(!i)return console.warn(`ObjectMultiplex - orphaned data for stream "${r}"`),n();i!==s&&i.push(o),n()}}},30778:(e,t,n)=>{var r=n(52479);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},88212:(e,t,n)=>{"use strict";var r=n(34155);void 0===r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(e);case 2:return r.nextTick((function(){e.call(null,t)}));case 3:return r.nextTick((function(){e.call(null,t,n)}));case 4:return r.nextTick((function(){e.call(null,t,n,o)}));default:for(i=new Array(a-1),s=0;s<i.length;)i[s++]=arguments[s];return r.nextTick((function(){e.apply(null,i)}))}}}:e.exports=r},34155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,u=[],c=!1,l=-1;function f(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&h())}function h(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},3812:(e,t,n)=>{"use strict";var r=n(13029),o=n(61623);e.exports=function(e){if(!r(e.then))throw new TypeError("Expected a promise");return function(t){e.then((function(e){o(t,null,e)}),(function(e){o(t,e)}))}}},74286:(e,t,n)=>{var r=n(34155),o=n(30778),i=n(12840),s=n(71156),a=function(){},u=/^v?\.0/.test(r.version),c=function(e){return"function"==typeof e},l=function(e,t,n,r){r=o(r);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:n},(function(e){if(e)return r(e);l=!0,r()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!u&&!!s&&(e instanceof(s.ReadStream||a)||e instanceof(s.WriteStream||a))&&c(e.close)}(e)?e.close(a):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void r(t||new Error("stream was destroyed"))}},f=function(e){e()},h=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(o,i){var s=i<t.length-1;return l(o,s,i>0,(function(t){e||(e=t),t&&r.forEach(f),s||(r.forEach(f),n(e))}))}));return t.reduce(h)}},56753:(e,t,n)=>{"use strict";var r=n(88212),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var i=Object.create(n(16497));i.inherits=n(35717);var s=n(79481),a=n(64229);i.inherits(f,s);for(var u=o(a.prototype),c=0;c<u.length;c++){var l=u[c];f.prototype[l]||(f.prototype[l]=a.prototype[l])}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},82725:(e,t,n)=>{"use strict";e.exports=i;var r=n(74605),o=Object.create(n(16497));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(35717),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},79481:(e,t,n)=>{"use strict";var r=n(34155),o=n(88212);e.exports=w;var i,s=n(5826);w.ReadableState=b,n(17187).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=n(22503),c=n(33545).Buffer,l=n.g.Uint8Array||function(){},f=Object.create(n(16497));f.inherits=n(35717);var h=n(94616),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,_=n(25057),g=n(61195);f.inherits(w,u);var v=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var r=t instanceof(i=i||n(56753));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(32553).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function w(e){if(i=i||n(56753),!(this instanceof w))return new w(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function y(e,t,n,r,o){var i,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,T(e)}}(e,s)):(o||(i=function(e,t){var n,r;return r=t,c.isBuffer(r)||r instanceof l||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):m(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?m(e,s,t,!1):N(e,s)):m(e,s,t,!1))):r||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function m(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&T(e)),N(e,t)}Object.defineProperty(w.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),w.prototype.destroy=g.destroy,w.prototype._undestroy=g.undestroy,w.prototype._destroy=function(e,t){this.push(null),t(e)},w.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),y(this,e,t,!1,n)},w.prototype.unshift=function(e){return y(this,e,null,!0,!1)},w.prototype.isPaused=function(){return!1===this._readableState.flowing},w.prototype.setEncoding=function(e){return p||(p=n(32553).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function T(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(S,e):S(e))}function S(e){d("emit readable"),e.emit("readable"),I(e)}function N(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(A,e,t))}function A(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function C(e){d("readable nexttick read 0"),e.read(0)}function R(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;for(e-=o.length;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(s===i.length?o+=i:o+=i.slice(0,e),0==(e-=s)){s===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,o=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,s),0==(e-=s)){s===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++o}return t.length-=o,n}(e,t),r}(e,t.buffer,t.decoder),n);var n}function x(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(M,t,e))}function M(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}w.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?x(this):T(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&x(this),null;var r,o=t.needReadable;return d("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",o=!0),t.ended||t.reading?d("reading or ended",o=!1):o&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?k(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&x(this)),null!==r&&this.emit("data",r),r},w.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},w.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,t);var u=t&&!1===t.end||e===r.stdout||e===r.stderr?b:c;function c(){d("onend"),e.end()}i.endEmitted?o.nextTick(u):n.once("end",u),e.on("unpipe",(function t(r,o){d("onunpipe"),r===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,d("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",l),e.removeListener("error",_),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",p),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",l);var f=!1,h=!1;function p(t){d("ondata"),h=!1,!1!==e.write(t)||h||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!f&&(d("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function _(t){d("onerror",t),b(),e.removeListener("error",_),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",v),b()}function v(){d("onfinish"),e.removeListener("close",g),b()}function b(){d("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events.error?s(e._events.error)?e._events.error.unshift(n):e._events.error=[n,e._events.error]:e.on(t,n)}(e,"error",_),e.once("close",g),e.once("finish",v),e.emit("pipe",n),i.flowing||(d("pipe resume"),n.resume()),e},w.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},w.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&T(this):o.nextTick(C,this))}return n},w.prototype.addListener=w.prototype.on,w.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(R,e,t))}(this,e)),this},w.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},w.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){d("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){d("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),w._fromList=k},74605:(e,t,n)=>{"use strict";e.exports=s;var r=n(56753),o=Object.create(n(16497));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(35717),o.inherits(s,r),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},64229:(e,t,n)=>{"use strict";var r=n(34155),o=n(88212);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(undefined),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var s,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:o.nextTick;v.WritableState=g;var u=Object.create(n(16497));u.inherits=n(35717);var c,l={deprecate:n(94927)},f=n(22503),h=n(33545).Buffer,d=n.g.Uint8Array||function(){},p=n(61195);function _(){}function g(e,t){s=s||n(56753),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:r&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(O,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),O(e,t))}(e,n,r,t,i);else{var s=m(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?a(w,e,n,s,i):w(e,n,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function v(e){if(s=s||n(56753),!(c.call(v,this)||this instanceof s))return new v(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function b(e,t,n,r,o,i,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,b(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var n=m(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(v,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===v&&e&&e._writableState instanceof g}})):c=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,n){var r,i=this._writableState,s=!1,a=!i.objectMode&&(r=e,h.isBuffer(r)||r instanceof d);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=_),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(r,s),i=!1),i}(this,i,e,n))&&(i.pendingcb++,s=function(e,t,n,r,o,i){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}(t,r,o);r!==s&&(n=!0,o="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,r,o,i);return u}(this,i,a,e,t,n)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}},25057:(e,t,n)=>{"use strict";var r=n(33545).Buffer,o=n(52361);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,o=r.allocUnsafe(e>>>0),i=this.head,s=0;i;)t=o,n=s,i.data.copy(t,n),s+=i.data.length,i=i.next;return o},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},61195:(e,t,n)=>{"use strict";var r=n(88212);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},22503:(e,t,n)=>{e.exports=n(17187).EventEmitter},33545:(e,t,n)=>{var r=n(48764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},88473:(e,t,n)=>{(t=e.exports=n(79481)).Stream=t,t.Readable=t,t.Writable=n(64229),t.Duplex=n(56753),t.Transform=n(74605),t.PassThrough=n(82725)},61623:e=>{"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},32553:(e,t,n)=>{"use strict";var r=n(40396).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=s(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=s(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=s(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},40396:(e,t,n)=>{var r=n(48764),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),i(o,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},66105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},93122:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TvmException=t.Contract=void 0;const o=n(24603),i=r(n(82740));t.Contract=class{constructor(e,t){if(!Array.isArray(e.functions))throw new Error("Invalid abi. Functions array required");if(!Array.isArray(e.events))throw new Error("Invalid abi. Events array required");this._abi=JSON.stringify(e),this._functions=e.functions.reduce(((e,t)=>(e[t.name]={inputs:t.inputs||[],outputs:t.outputs||[]},e)),{}),this._events=e.events.reduce(((e,t)=>(e[t.name]={inputs:t.inputs||[]},e)),{}),this._address=t;class n{constructor(e,t,n,r,i){this.functionAbi=e,this.abi=t,this.address=n,this.method=r,this.params=o.serializeTokensObject(i)}async send(e){const{transaction:t}=await i.default.rawApi.sendMessage({sender:e.from.toString(),recipient:this.address.toString(),amount:e.amount,bounce:null==e.bounce||e.bounce,payload:{abi:this.abi,method:this.method,params:this.params}});return o.parseTransaction(t)}async sendExternal(e){let{transaction:t,output:n}=await i.default.rawApi.sendExternalMessage({publicKey:e.publicKey,recipient:this.address.toString(),stateInit:e.stateInit,payload:{abi:this.abi,method:this.method,params:this.params}});return{transaction:o.parseTransaction(t),output:null!=n?o.parseTokensObject(this.functionAbi.outputs,n):void 0}}async call(e={}){let{output:t,code:n}=await i.default.rawApi.runLocal({address:this.address.toString(),cachedState:e.cachedState,functionCall:{abi:this.abi,method:this.method,params:this.params}});if(null==t||0!=n)throw new s(n);return o.parseTokensObject(this.functionAbi.outputs,t)}}this._methods=new Proxy({},{get:(e,t)=>{const r=this._functions[t];return e=>new n(r,this._abi,this._address,t,e)}})}get methods(){return this._methods}get address(){return this._address}async decodeTransaction(e){try{const t=await i.default.rawApi.decodeTransaction({transaction:o.serializeTransaction(e.transaction),abi:this._abi,method:e.methods});if(null==t)return;let{method:n,input:r,output:s}=t;const a=this._functions[n];return{method:n,input:null!=a.inputs?o.parseTokensObject(a.inputs,r):{},output:null!=a.outputs?o.parseTokensObject(a.outputs,s):{}}}catch(e){return}}async decodeTransactionEvents(e){try{const{events:t}=await i.default.rawApi.decodeTransactionEvents({transaction:o.serializeTransaction(e.transaction),abi:this._abi}),n=[];for(const{event:e,data:r}of t){const t=this._events[e];n.push({event:e,data:null!=t.inputs?o.parseTokensObject(t.inputs,r):{}})}return n}catch(e){return[]}}async decodeInputMessage(e){try{const t=await i.default.rawApi.decodeInput({abi:this._abi,body:e.body,internal:e.internal,method:e.methods});if(null==t)return;let{method:n,input:r}=t;const s=this._functions[n];return{method:n,input:null!=s.inputs?o.parseTokensObject(s.inputs,r):{}}}catch(e){return}}async decodeOutputMessage(e){try{const t=await i.default.rawApi.decodeOutput({abi:this._abi,body:e.body,method:e.methods});if(null==t)return;let{method:n,output:r}=t;const s=this._functions[n];return{method:n,output:null!=s.outputs?o.parseTokensObject(s.outputs,r):{}}}catch(e){return}}};class s extends Error{constructor(e){super(`TvmException: ${e}`),this.code=e}}t.TvmException=s},82740:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderNotFoundException=t.ProviderRpcClient=t.hasTonProvider=t.mergeTransactions=t.AddressLiteral=t.Address=t.Subscriber=t.TvmException=t.Contract=void 0;const i=n(24603),s=n(86213),a=n(25481),u=n(93122);o(n(66105),t),o(n(24603),t);var c=n(93122);Object.defineProperty(t,"Contract",{enumerable:!0,get:function(){return c.Contract}}),Object.defineProperty(t,"TvmException",{enumerable:!0,get:function(){return c.TvmException}});var l=n(25481);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return l.Subscriber}});var f=n(86213);let h;async function d(){return await h,!0===window.hasTonProvider}Object.defineProperty(t,"Address",{enumerable:!0,get:function(){return f.Address}}),Object.defineProperty(t,"AddressLiteral",{enumerable:!0,get:function(){return f.AddressLiteral}}),Object.defineProperty(t,"mergeTransactions",{enumerable:!0,get:function(){return f.mergeTransactions}}),h="complete"==document.readyState?Promise.resolve():new Promise((e=>{window.addEventListener("load",(()=>{e()}))})),t.hasTonProvider=d;class p{constructor(){this._subscriptions={},this._contractSubscriptions={},this._api=new Proxy({},{get:(e,t)=>e=>this._ton.request({method:t,params:e})}),this._ton=window.ton,null!=this._ton?this._initializationPromise=Promise.resolve():this._initializationPromise=d().then((e=>new Promise(((t,n)=>{e?(this._ton=window.ton,null!=this._ton?t():window.addEventListener("ton#initialized",(e=>{this._ton=window.ton,t()}))):n(new _)})))),this._initializationPromise.then((()=>{if(null==this._ton)return;const e={disconnected:e=>e,transactionsFound:e=>({address:new s.Address(e.address),transactions:e.transactions.map(i.parseTransaction),info:e.info}),contractStateChanged:e=>({address:new s.Address(e.address),state:e.state}),networkChanged:e=>e,permissionsChanged:e=>({permissions:i.parsePermissions(e.permissions)}),loggedOut:e=>e};for(const[t,n]of Object.entries(e))this._ton.addListener(t,(e=>{const r=this._subscriptions[t];if(null==r)return;const o=n(e);for(const e of Object.values(r))e(o)}))}))}async hasProvider(){return d()}async ensureInitialized(){await this._initializationPromise}get isInitialized(){return null!=this._ton}get raw(){return this._ton}get rawApi(){return this._api}createContract(e,t){return new u.Contract(e,t)}createSubscriber(){return new a.Subscriber(this)}async requestPermissions(e){const t=await this._api.requestPermissions({permissions:e.permissions});return i.parsePermissions(t)}async disconnect(){await this._api.disconnect()}async subscribe(e,t){class n{constructor(e,t){this._subscribe=e,this._unsubscribe=t,this._listeners={data:[],subscribed:[],unsubscribed:[]}}on(e,t){return this._listeners[e].push(t),this}async subscribe(){await this._subscribe(this);for(const e of this._listeners.subscribed)e()}async unsubscribe(){await this._unsubscribe();for(const e of this._listeners.unsubscribed)e()}notify(e){for(const t of this._listeners.data)t(e)}}let r=this._getEventSubscriptions(e);const o=s.getUniqueId();switch(e){case"disconnected":case"networkChanged":case"permissionsChanged":case"loggedOut":{const e=new n((async e=>{null==r[o]&&(r[o]=t=>{e.notify(t)})}),(async()=>{delete r[o]}));return await e.subscribe(),e}case"transactionsFound":case"contractStateChanged":{const i=t.address.toString(),s=new n((async t=>{if(null!=r[o])return;r[o]=e=>{e.address.toString()==i&&t.notify(e)};let n=this._contractSubscriptions[i];null==n&&(n={},this._contractSubscriptions[i]=n),n[o]={state:"contractStateChanged"==e,transactions:"transactionsFound"==e};const{total:s,withoutExcluded:a}=g(Object.values(n),n[o]);try{s.transactions==a.transactions&&s.state==a.state||await this.rawApi.subscribe({address:i,subscriptions:s})}catch(e){throw delete r[o],delete n[o],e}}),(async()=>{delete r[o];const e=this._contractSubscriptions[i];if(null==e)return;const t=e[o],{total:n,withoutExcluded:s}=g(Object.values(e),t);delete e[o],s.transactions||s.state?n.transactions==s.transactions&&n.state==s.state||await this.rawApi.subscribe({address:i,subscriptions:s}):await this.rawApi.unsubscribe({address:i})}));return await s.subscribe(),s}default:throw new Error(`Unknown event ${e}`)}}async getProviderState(){const e=await this._api.getProviderState();return Object.assign(Object.assign({},e),{permissions:i.parsePermissions(e.permissions)})}async getFullContractState(e){return await this._api.getFullContractState({address:e.address.toString()})}async getTransactions(e){const{transactions:t,continuation:n}=await this._api.getTransactions(Object.assign(Object.assign({},e),{address:e.address.toString()}));return{transactions:t.map(i.parseTransaction),continuation:n}}async getExpectedAddress(e){const{address:t}=await this._api.getExpectedAddress(Object.assign(Object.assign({},e),{initParams:i.serializeTokensObject(e.initParams)}));return{address:new s.Address(t)}}async packIntoCell(e){return await this._api.packIntoCell({structure:e.structure,data:i.serializeTokensObject(e.data)})}async unpackFromCell(e){const{data:t}=await this._api.unpackFromCell(Object.assign(Object.assign({},e),{structure:e.structure}));return{data:i.parseTokensObject(e.structure,t)}}_getEventSubscriptions(e){let t=this._subscriptions[e];return null==t&&(t={},this._subscriptions[e]=t),t}}t.ProviderRpcClient=p;class _ extends Error{constructor(){super("TON provider was not found")}}function g(e,t){const n={state:!1,transactions:!1},r=Object.assign({},n);for(const o of e){if(r.transactions&&r.state)break;n.state||(n.state=o.state),n.transactions||(n.transactions=o.transactions),o!=t&&(r.state||(r.state=o.state),r.transactions||(r.transactions=o.transactions))}return{total:n,withoutExcluded:r}}t.ProviderNotFoundException=_;const v=new p;t.default=v},24603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTokensObject=t.serializeTokensObject=t.parseAccountInteraction=t.parsePermissions=t.parseMessage=t.serializeMessage=t.parseTransaction=t.serializeTransaction=void 0;const r=n(86213);function o(e){return Object.assign(Object.assign({},e),{src:e.src?e.src.toString():void 0,dst:e.dst?e.dst.toString():void 0})}function i(e){return Object.assign(Object.assign({},e),{src:e.src?new r.Address(e.src):void 0,dst:e.dst?new r.Address(e.dst):void 0})}function s(e){return Object.assign(Object.assign({},e),{address:new r.Address(e.address)})}function a(e){if(e instanceof r.Address)return e.toString();if(Array.isArray(e)){const t=[];for(const n of e)t.push(a(n));return t}if("object"==typeof e){const t={};for(const[n,r]of Object.entries(e))t[n]=a(r);return t}return e}function u(e,t){if(e.type.startsWith("map")){let[n,r]=e.type.split(",");n=n.slice(4),r=r.slice(0,-1);const o=[];for(const[e,i]of t)o.push([u({name:"",type:n},e),u({name:"",type:r},i)]);return o}{const n=e.type.endsWith("[]")?e.type.slice(0,-2):e.type;if(n!=e.type){const r={name:e.name,type:n,components:e.components},o=[];for(const e of t)o.push(u(r,e));return o}if("tuple"==n){const n={};if(null!=e.components)for(const r of e.components)n[r.name]=u(r,t[r.name]);return n}return"address"==n?new r.Address(t):t}}t.serializeTransaction=function(e){return Object.assign(Object.assign({},e),{inMessage:o(e.inMessage),outMessages:e.outMessages.map(o)})},t.parseTransaction=function(e){return Object.assign(Object.assign({},e),{inMessage:i(e.inMessage),outMessages:e.outMessages.map(i)})},t.serializeMessage=o,t.parseMessage=i,t.parsePermissions=function(e){return Object.assign(Object.assign({},e),{accountInteraction:e.accountInteraction?s(e.accountInteraction):void 0})},t.parseAccountInteraction=s,t.serializeTokensObject=function(e){return a(e)},t.parseTokensObject=function(e,t){const n={};for(const r of e)n[r.name]=u(r,t[r.name]);return n}},25481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subscriber=void 0;const r=n(86213);function o(e,t){t(e)}t.Subscriber=class{constructor(e){this.ton=e,this.subscriptions={}}transactions(e){return this._addSubscription("transactionsFound",e)}states(e){return this._addSubscription("contractStateChanged",e)}async unsubscribe(){const e=Object.assign({},this.subscriptions);for(const e of Object.keys(this.subscriptions))delete this.subscriptions[e];await Promise.all(Object.values(e).map((e=>{const t=Object.assign({},e);for(const n of Object.keys(t))delete e[n];return Promise.all(Object.values(t).map((e=>{if(null!=e)return e.subscription.then((e=>e.unsubscribe())).catch((()=>{}))})))})))}_addSubscription(e,t){const n=r.getUniqueId();return new i(((r,o)=>{let i=this.subscriptions[t.toString()],s=null==i?void 0:i[e];if(null==s){const a={[n]:{onData:r,onEnd:o}};s={subscription:this.ton.subscribe(e,{address:t}).then((e=>(e.on("data",(e=>{Object.values(a).forEach((({onData:t})=>{t(e)}))})),e.on("unsubscribed",(()=>{Object.values(a).forEach((({onEnd:e})=>{delete a[n],e()}))})),e))).catch((e=>{throw console.error(e),Object.values(a).forEach((({onEnd:e})=>{delete a[n],e()})),e})),handlers:a},null==i?(i={[e]:s},this.subscriptions[t.toString()]=i):i[e]=s}else s.handlers[n]={onData:r,onEnd:o}}),(()=>{const r=this.subscriptions[t.toString()];if(null==r)return;const o=r[e];if(null!=o&&(delete o.handlers[n],0===Object.keys(o.handlers).length)){const t=o.subscription;delete r[e],t.then((e=>e.unsubscribe())).catch(console.debug)}0===Object.keys(r).length&&delete this.subscriptions[t.toString()]}),o)}};class i{constructor(e,t,n){this.makeProducer=e,this.stopProducer=t,this.extractor=n}first(){return new Promise(((e,t)=>{this.makeProducer((t=>{this.extractor(t,(t=>{this.stopProducer(),e(t)}))}),(()=>t(new Error("Subscription closed"))))}))}on(e){this.makeProducer((t=>{this.extractor(t,e)}),(()=>{}))}merge(e){return new i(((t,n)=>{const r={counter:0},o=()=>{2==++r.counter&&n()};this.makeProducer(t,o),e.makeProducer(t,o)}),(()=>{this.stopProducer(),e.stopProducer()}),this.extractor)}filter(e){return new i(this.makeProducer,this.stopProducer,((t,n)=>{this.extractor(t,(t=>{e(t)&&n(t)}))}))}filterMap(e){return new i(this.makeProducer,this.stopProducer,((t,n)=>{this.extractor(t,(t=>{const r=e(t);void 0!==r&&n(r)}))}))}map(e){return this.filterMap(e)}flatMap(e){return new i(this.makeProducer,this.stopProducer,((t,n)=>{this.extractor(t,(t=>{const r=e(t);for(const e of r)n(e)}))}))}skip(e){const t={index:0};return new i(this.makeProducer,this.stopProducer,((n,r)=>{this.extractor(n,(n=>{t.index>=e?r(n):++t.index}))}))}skipWhile(e){const t={shouldSkip:!0};return new i(this.makeProducer,this.stopProducer,((n,r)=>{this.extractor(n,(n=>{t.shouldSkip&&e(n)||(t.shouldSkip=!1,r(n))}))}))}}},86213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=t.mergeTransactions=t.AddressLiteral=t.Address=void 0;class n{constructor(e){this._address=e}toString(){return this._address}}t.Address=n,t.AddressLiteral=class extends n{constructor(e){super(e)}},t.mergeTransactions=function(e,t,n){if("old"==n.batchType)return e.push(...t),e;if(0===e.length)return e.push(...t),e;let r=0;for(;r<e.length&&e[r].id.lt.localeCompare(n.maxLt)>=0;)++r;return e.splice(r,0,...t),e};const r=4294967295;let o=Math.floor(Math.random()*r);t.getUniqueId=function(){return o=(o+1)%r,o}},62402:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return a(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},f=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},h=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerConnection=t.StorageConnector=t.NekotonController=void 0;var p=n(17187),_=d(n(88987)),g=d(n(74286)),v=n(11373),b=n(96486),w=u(n(54991)),y=n(7879),m=n(94586),E=n(8796),O=n(75628),T=n(22489),S=n(60694),N=n(48816),A=n(18148),C=n(6067),R=n(51945),I=n(58133),k=n(51321),x=d(n(2586)),M=d(n(16116)),L=function(e){function t(t,n){var r=e.call(this)||this;return r._defaultMaxListeners=20,r._activeControllerConnections=0,r._connections={},r._originToConnectionIds={},r._originToTabIds={},r._tabToConnectionIds={},r._debouncedSendUpdate=b.debounce(r._sendUpdate.bind(r),200),r._options=t,r._components=n,r._components.approvalController.subscribe((function(e){r._debouncedSendUpdate()})),r._components.accountController.subscribe((function(e){r._debouncedSendUpdate()})),r._components.permissionsController.config.notifyDomain=r._notifyConnections.bind(r),r._components.subscriptionsController.config.notifyTab=r._notifyTab.bind(r),r._components.subscriptionsController.config.getOriginTabs=r._getOriginTabs.bind(r),r.on("controllerConnectionChanged",(function(e){e>0?(r._components.accountController.enableIntensivePolling(),r._components.notificationController.setHidden(!0)):(r._components.accountController.disableIntensivePolling(),r._components.approvalController.clear(),r._components.notificationController.setHidden(!1))})),r}return o(t,e),t.load=function(e){return c(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c,f,h;return l(this,(function(l){switch(l.label){case 0:return n=new w.Storage(new j),r=new w.LedgerConnection(new P),[4,w.AccountsStorage.load(n)];case 1:return o=l.sent(),[4,w.KeyStore.load(n,r)];case 2:return i=l.sent(),s=new N.ConnectionController({}),a=new A.NotificationController({disabled:!0}),u=new T.AccountController({storage:n,accountsStorage:o,keyStore:i,connectionController:s,notificationController:a}),c=new S.ApprovalController({showApprovalRequest:e.showUserConfirmation}),f=new C.PermissionsController({approvalController:c}),h=new R.SubscriptionController({connectionController:s}),[4,s.initialSync()];case 3:return l.sent(),[4,u.initialSync()];case 4:return l.sent(),[4,u.startSubscriptions()];case 5:return l.sent(),[4,f.initialSync()];case 6:return l.sent(),a.setHidden(!1),[2,new t(e,{storage:n,accountsStorage:o,keyStore:i,accountController:u,approvalController:c,connectionController:s,notificationController:a,permissionsController:f,subscriptionsController:h})]}}))}))},t.prototype.setupTrustedCommunication=function(e,t){var n=B(e);this._setupControllerConnection(n.createStream("controller")),this._setupProviderConnection(n.createStream("provider"),t,!0)},t.prototype.setupUntrustedCommunication=function(e,t){var n=B(e);this._setupProviderConnection(n.createStream(O.NEKOTON_PROVIDER),t,!1)},t.prototype.getApi=function(){var e=this,t=this._components,n=t.approvalController,r=t.accountController,o=t.connectionController;return{ping:function(e){return e(null)},getState:function(t){return t(null,e.getState())},getAvailableNetworks:function(e){return e(null,o.getAvailableNetworks())},openExtensionInBrowser:function(t){var n=window.ObjectExt.keys(e._options.getOpenNekotonTabIds());0==n.length?k.openExtensionInBrowser().then((function(){return t(null)})):k.focusTab(n[0]).then((function(n){return c(e,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return n?[4,k.focusWindow(n.windowId)]:[3,2];case 1:e.sent(),e.label=2;case 2:return t(null),[2]}}))}))}))},changeNetwork:m.nodeifyAsync(this,"changeNetwork"),checkPassword:m.nodeifyAsync(r,"checkPassword"),createMasterKey:m.nodeifyAsync(r,"createMasterKey"),createDerivedKey:m.nodeifyAsync(r,"createDerivedKey"),removeKey:m.nodeifyAsync(r,"removeKey"),createAccount:m.nodeifyAsync(r,"createAccount"),selectAccount:m.nodeifyAsync(r,"selectAccount"),removeAccount:m.nodeifyAsync(r,"removeAccount"),updateTokenWallets:m.nodeifyAsync(r,"updateTokenWallets"),logOut:m.nodeifyAsync(this,"logOut"),estimateFees:m.nodeifyAsync(r,"estimateFees"),estimateDeploymentFees:m.nodeifyAsync(r,"estimateDeploymentFees"),prepareMessage:m.nodeifyAsync(r,"prepareMessage"),prepareDeploymentMessage:m.nodeifyAsync(r,"prepareDeploymentMessage"),prepareTokenMessage:m.nodeifyAsync(r,"prepareTokenMessage"),prepareSwapBackMessage:m.nodeifyAsync(r,"prepareSwapBackMessage"),sendMessage:m.nodeifyAsync(r,"sendMessage"),preloadTransactions:m.nodeifyAsync(r,"preloadTransactions"),preloadTokenTransactions:m.nodeifyAsync(r,"preloadTokenTransactions"),resolvePendingApproval:m.nodeify(n,"resolve"),rejectPendingApproval:m.nodeify(n,"reject")}},t.prototype.getState=function(){return i(i(i({},this._components.approvalController.state),this._components.accountController.state),this._components.connectionController.state)},t.prototype.changeNetwork=function(e){return c(this,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=this._components.connectionController.state.selectedConnection,[4,this._components.accountController.stopSubscriptions()];case 1:return n.sent(),console.debug("Stopped account subscriptions"),[4,this._components.subscriptionsController.stopSubscriptions()];case 2:n.sent(),console.debug("Stopped contract subscriptions"),n.label=3;case 3:return n.trys.push([3,5,7,9]),[4,this._components.connectionController.trySwitchingNetwork(e,!0)];case 4:return n.sent(),[3,9];case 5:return n.sent(),[4,this._components.connectionController.trySwitchingNetwork(t,!0)];case 6:return n.sent(),[3,9];case 7:return[4,this._components.accountController.startSubscriptions()];case 8:return n.sent(),this._notifyAllConnections({method:"networkChanged",params:{selectedConnection:this._components.connectionController.state.selectedConnection.group}}),this._sendUpdate(),[7];case 9:return[2]}}))}))},t.prototype.logOut=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this._components.accountController.logOut()];case 1:return e.sent(),[4,this._components.subscriptionsController.stopSubscriptions()];case 2:return e.sent(),[4,this._components.approvalController.clear()];case 3:return e.sent(),[4,this._components.permissionsController.clear()];case 4:return e.sent(),this._notifyAllConnections({method:"loggedOut",params:{}}),[2]}}))}))},t.prototype._setupControllerConnection=function(e){var t=this,n=this.getApi();this._activeControllerConnections+=1,this.emit("controllerConnectionChanged",this._activeControllerConnections),e.on("data",F(n,e));var r=function(t){try{e.write({jsonrpc:"2.0",method:"sendUpdate",params:t})}catch(e){console.error(e)}};this.on("update",r),e.on("end",(function(){t._activeControllerConnections-=1,t.emit("controllerConnectionChanged",t._activeControllerConnections),t.removeListener("update",r)}))},t.prototype._setupProviderConnection=function(e,t,n){var r,o,i=this,s=n?"nekoton":new URL(t.url||"unknown").origin;t.id!==chrome.runtime.id&&(r=t.id),t.tab&&t.tab.id&&(o=t.tab.id);var a=this._setupProviderEngine({origin:s,location:t.url,extensionId:r,tabId:o,isInternal:n}),u=m.createEngineStream({engine:a}),c=this._addConnection(s,o,{engine:a});g.default(e,u,e,(function(e){console.debug("providerStream closed"),a.middleware.forEach((function(e){e.destroy&&"function"==typeof e.destroy&&e.destroy()})),o&&i._components.subscriptionsController.unsubscribeFromAllContracts(o).catch(console.error),c&&i._removeConnection(s,o,c),e&&console.error(e)}))},t.prototype._setupProviderEngine=function(e){var t=e.origin,n=e.tabId,r=e.isInternal,o=new y.JsonRpcEngine;return o.push(U({origin:t})),n&&o.push(D({tabId:n})),o.push(I.createProviderMiddleware({origin:t,tabId:n,isInternal:r,approvalController:this._components.approvalController,accountController:this._components.accountController,connectionController:this._components.connectionController,permissionsController:this._components.permissionsController,subscriptionsController:this._components.subscriptionsController})),o},t.prototype._addConnection=function(e,t,n){var r=n.engine;if("nekoton"===e)return null;var o=v.nanoid();this._connections[o]={engine:r};var i=this._originToConnectionIds[e];if(null==i&&(i=new Set,this._originToConnectionIds[e]=i),i.add(o),null!=t){var s=this._tabToConnectionIds[t];null==s&&(s=new Set,this._tabToConnectionIds[t]=s),s.add(o);var a=this._originToTabIds[e];null==a&&(a=new Set,this._originToTabIds[e]=a),a.add(t)}return o},t.prototype._removeConnection=function(e,t,n){delete this._connections[n];var r=this._originToConnectionIds[e];if(null!=r&&(r.delete(n),0===r.size&&delete this._originToConnectionIds[e]),null!=t){var o=this._tabToConnectionIds[t];null!=o&&(o.delete(n),0===o.size&&delete this._tabToConnectionIds[t]);var i=this._originToTabIds[e];null!=i&&(i.delete(t),0===i.size&&delete this._originToTabIds[e])}},t.prototype._notifyConnection=function(e,t){var n;null===(n=this._connections[e])||void 0===n||n.engine.emit("notification",t)},t.prototype._getOriginTabs=function(e){var t=this._originToTabIds[e];return t?Array.from(t.values()):[]},t.prototype._notifyTab=function(e,t){var n=this,r=this._tabToConnectionIds[e];r&&r.forEach((function(e){var r;null===(r=n._connections[e])||void 0===r||r.engine.emit("notification",t)}))},t.prototype._notifyConnections=function(e,t){var n=this,r=this._originToConnectionIds[e];r&&r.forEach((function(e){var r;null===(r=n._connections[e])||void 0===r||r.engine.emit("notification",t)}))},t.prototype._notifyAllConnections=function(e){Object.values(this._connections).forEach((function(t){t.engine.emit("notification",e)}))},t.prototype._sendUpdate=function(){this.emit("update",this.getState())},t}(p.EventEmitter);t.NekotonController=L;var j=function(){function e(){}return e.prototype.get=function(e,t){chrome.storage.local.get(e,(function(n){t.onResult(n[e])}))},e.prototype.set=function(e,t,n){var r;chrome.storage.local.set(((r={})[e]=t,r),(function(){n.onResult()}))},e.prototype.setUnchecked=function(e,t){var n;chrome.storage.local.set(((n={})[e]=t,n),(function(){}))},e.prototype.remove=function(e,t){chrome.storage.local.remove([e],(function(){t.onResult()}))},e.prototype.removeUnchecked=function(e){chrome.storage.local.remove([e],(function(){}))},e}();t.StorageConnector=j;var P=function(){function e(){}return e.prototype.getPublicKey=function(e,t){return c(this,void 0,void 0,(function(){var n,r,o;return l(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,4,7]),[4,x.default.create()];case 1:return n=i.sent(),[4,new M.default(n).getPublicKey(e)];case 2:return r=i.sent().publicKey,t.onResult(r),[3,7];case 3:return o=i.sent(),t.onError(o),[3,7];case 4:return null==n?[3,6]:[4,n.close()];case 5:i.sent(),i.label=6;case 6:return[7];case 7:return[2]}}))}))},e.prototype.sign=function(e,t,n){return c(this,void 0,void 0,(function(){var r,o,i;return l(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,4,7]),[4,x.default.create()];case 1:return r=s.sent(),[4,new M.default(r).signHash(e,t)];case 2:return o=s.sent().signature,n.onResult(o),[3,7];case 3:return i=s.sent(),n.onError(i),[3,7];case 4:return null==r?[3,6]:[4,r.close()];case 5:s.sent(),s.label=6;case 6:return[7];case 7:return[2]}}))}))},e}();t.LedgerConnection=P;var U=function(e){var t=e.origin;return function(e,n,r,o){e.origin=t,r()}},D=function(e){var t=e.tabId;return function(e,n,r,o){e.tabId=t,r()}},B=function(e){var t=new _.default;return g.default(e,t,e,(function(e){e&&console.error(e)})),t},F=function(e,t){return function(n){null!=e[n.method]?e[n.method].apply(e,h(h([],f(n.params||[])),[function(e,r){e?t.write({jsonrpc:"2.0",error:m.serializeError(e,{shouldIncludeStack:!0}),id:n.id}):t.write({jsonrpc:"2.0",result:r,id:n.id})}])):t.write({jsonrpc:"2.0",error:m.serializeError(new m.NekotonRpcError(E.RpcErrorCode.METHOD_NOT_FOUND,n.method+" not found")),id:n.id})}}},65599:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TokenWalletSubscription=void 0;var i=n(79068),s=n(62468),a=n(94586),u=n(8796),c=function(){function e(e,t,n){this._tokenWalletMutex=new i.Mutex,this._pollingInterval=s.BACKGROUND_POLLING_INTERVAL,this._isRunning=!1,this._releaseConnection=t,this._connection=e,this._address=n.address,this._owner=n.owner,this._symbol=n.symbol,this._tokenWallet=n}return e.subscribe=function(t,n,i,s){return r(this,void 0,void 0,(function(){var r,a,u,c,l;return o(this,(function(o){switch(o.label){case 0:return[4,t.acquire()];case 1:r=o.sent(),a=r.connection.data.connection,u=r.release,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,a.subscribeToTokenWallet(n,i,s)];case 3:return c=o.sent(),[2,new e(a,u,c)];case 4:throw l=o.sent(),console.log(n,i),u(),l;case 5:return[2]}}))}))},e.prototype.setPollingInterval=function(e){this._pollingInterval=e},e.prototype.start=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){switch(t.label){case 0:if(null==this._releaseConnection)throw new a.NekotonRpcError(u.RpcErrorCode.INTERNAL,"Token wallet subscription must not be started after being closed");return this._loopPromise?(console.debug("TonWalletSubscription -> awaiting loop promise"),[4,this._loopPromise]):[3,2];case 1:t.sent(),t.label=2;case 2:return this._loopPromise=new Promise((function(t){return r(e,void 0,void 0,(function(){var e,n=this;return o(this,(function(i){switch(i.label){case 0:this._isRunning=!0,i.label=1;case 1:return this._isRunning?(console.debug("TokenWalletSubscription -> manual -> waiting begins"),[4,new Promise((function(e){var t=window.setTimeout((function(){n._refreshTimer=void 0,e()}),n._pollingInterval);n._refreshTimer=[t,e]}))]):[3,7];case 2:if(i.sent(),console.debug("TokenWalletSubscription -> manual -> waiting ends"),!this._isRunning)return[3,7];console.debug("TokenWalletSubscription -> manual -> refreshing begins"),i.label=3;case 3:return i.trys.push([3,5,,6]),[4,this._tokenWalletMutex.use((function(){return r(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this._tokenWallet.refresh()];case 1:return e.sent(),[2]}}))}))}))];case 4:return i.sent(),[3,6];case 5:return e=i.sent(),console.error("Error during token wallet refresh (owner: "+this._owner+", root: "+this._symbol.rootTokenContract+")",e),[3,6];case 6:return console.debug("TokenWalletSubscription -> manual -> refreshing ends"),[3,1];case 7:return console.debug("TokenWalletSubscription -> loop finished"),t(),[2]}}))}))})),[2]}}))}))},e.prototype.skipRefreshTimer=function(){var e,t;window.clearTimeout(null===(e=this._refreshTimer)||void 0===e?void 0:e[0]),null===(t=this._refreshTimer)||void 0===t||t[1](),this._refreshTimer=void 0},e.prototype.pause=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return this._isRunning?(this._isRunning=!1,this.skipRefreshTimer(),[4,this._loopPromise]):[2];case 1:return e.sent(),this._loopPromise=void 0,[2]}}))}))},e.prototype.stop=function(){var e;return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.pause()];case 1:return t.sent(),this._tokenWallet.free(),null===(e=this._releaseConnection)||void 0===e||e.call(this),this._releaseConnection=void 0,[2]}}))}))},e.prototype.use=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this._tokenWalletMutex.acquire()];case 1:return t=n.sent(),[2,e(this._tokenWallet).then((function(e){return t(),e})).catch((function(e){throw t(),e}))]}}))}))},Object.defineProperty(e.prototype,"symbol",{get:function(){return this._symbol},enumerable:!1,configurable:!0}),e}();t.TokenWalletSubscription=c},1712:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TonWalletSubscription=void 0;var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.subscribe=function(e,n,r,o){return i(this,void 0,void 0,(function(){var i,a,u,c,l;return s(this,(function(s){switch(s.label){case 0:return[4,e.acquire()];case 1:i=s.sent(),a=i.connection.data.connection,u=i.release,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,a.subscribeToTonWallet(n,r,o)];case 3:return c=s.sent(),[2,new t(a,u,c.address,c)];case 4:throw l=s.sent(),u(),l;case 5:return[2]}}))}))},t}(n(23730).ContractSubscription);t.TonWalletSubscription=a},62468:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NEXT_BLOCK_TIMEOUT=t.BACKGROUND_POLLING_INTERVAL=t.DEFAULT_POLLING_INTERVAL=void 0,t.DEFAULT_POLLING_INTERVAL=1e4,t.BACKGROUND_POLLING_INTERVAL=6e4,t.NEXT_BLOCK_TIMEOUT=60},22489:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},l=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountController=void 0;var h=f(n(96486)),d=n(79068),p=n(82740),_=n(94586),g=n(8796),v=n(9642),b=n(62468),w=n(1712),y=n(65599),m={selectedAccount:void 0,accountEntries:{},accountContractStates:{},accountTokenStates:{},accountTransactions:{},accountTokenTransactions:{},accountPendingMessages:{},knownTokens:{},storedKeys:{}},E=function(e){function t(t,n){var r=e.call(this,t,n||h.default.cloneDeep(m))||this;return r._tonWalletSubscriptions=new Map,r._tokenWalletSubscriptions=new Map,r._sendMessageRequests=new Map,r._accountsMutex=new d.Mutex,r.initialize(),r}return o(t,e),t.prototype.initialSync=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,o,i,s,c,l,f,h,d,p,_,g,v;return a(this,(function(a){switch(a.label){case 0:return[4,this.config.keyStore.getKeys()];case 1:e=a.sent(),t={};try{for(n=u(e),r=n.next();!r.done;r=n.next())l=r.value,t[l.publicKey]=l}catch(e){p={error:e}}finally{try{r&&!r.done&&(_=n.return)&&_.call(n)}finally{if(p)throw p.error}}return o={},[4,this.config.accountsStorage.getStoredAccounts()];case 2:i=a.sent();try{for(s=u(i),c=s.next();!c.done;c=s.next())l=c.value,null==(f=o[l.tonWallet.publicKey])&&(f=[],o[l.tonWallet.publicKey]=f),f.push(l)}catch(e){g={error:e}}finally{try{c&&!c.done&&(v=s.return)&&v.call(s)}finally{if(g)throw g.error}}return[4,this._loadSelectedAccountAddress()];case 3:return null==(h=a.sent())?[3,5]:[4,this.config.accountsStorage.getAccount(h)];case 4:d=a.sent(),a.label=5;case 5:return null==d&&(d=i[0]),this.update({selectedAccount:d,accountEntries:o,storedKeys:t}),[2]}}))}))},t.prototype.startSubscriptions=function(){return s(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return console.debug("startSubscriptions"),e=this.config.connectionController.state.selectedConnection,[4,this._accountsMutex.use((function(){return s(t,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){switch(r.label){case 0:return console.debug("startSubscriptions -> mutex gained"),t=this.state.accountEntries,[4,(o=function(t){var r=t.tonWallet,o=t.additionalAssets;return s(n,void 0,void 0,(function(){var t,n=this;return a(this,(function(i){switch(i.label){case 0:return[4,this._createTonWalletSubscription(r.address,r.publicKey,r.contractType)];case 1:return i.sent(),null==(t=o[e.group])?[3,3]:[4,Promise.all(t.tokenWallets.map((function(e){var t=e.rootTokenContract;return s(n,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._createTokenWalletSubscription(r.address,t)];case 1:return e.sent(),[2]}}))}))})))];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},s(n,void 0,void 0,(function(){return a(this,(function(e){return[2,Promise.all(window.ObjectExt.values(t).map((function(e){return Promise.all(e.map(o))})))]}))})))];case 1:return r.sent(),console.debug("startSubscriptions -> mutex released"),[2]}var o}))}))}))];case 1:return n.sent(),[2]}}))}))},t.prototype.stopSubscriptions=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return console.debug("stopSubscriptions"),[4,this._accountsMutex.use((function(){return s(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return console.debug("stopSubscriptions -> mutex gained"),[4,this._stopSubscriptions()];case 1:return e.sent(),console.debug("stopSubscriptions -> mutex released"),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},t.prototype.useTonWallet=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){if(!(n=this._tonWalletSubscriptions.get(e)))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"There is no ton wallet subscription for address "+e);return[2,n.use(t)]}))}))},t.prototype.useTokenWallet=function(e,t,n){var r;return s(this,void 0,void 0,(function(){var o;return a(this,(function(i){if(!(o=null===(r=this._tokenWalletSubscriptions.get(e))||void 0===r?void 0:r.get(t)))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"There is no token wallet subscription for address "+e+" for root "+t);return[2,o.use(n)]}))}))},t.prototype.logOut=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return console.debug("logOut"),[4,this._accountsMutex.use((function(){return s(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return console.debug("logOut -> mutex gained"),[4,this._stopSubscriptions()];case 1:return e.sent(),[4,this.config.accountsStorage.clear()];case 2:return e.sent(),[4,this.config.keyStore.clear()];case 3:return e.sent(),[4,this._removeSelectedAccountAddress()];case 4:return e.sent(),this.update(h.default.cloneDeep(m),!0),console.debug("logOut -> mutex released"),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},t.prototype.createMasterKey=function(e){var t=e.seed,n=e.password;return s(this,void 0,void 0,(function(){var e,r,o,s,u;return a(this,(function(a){switch(a.label){case 0:e=this.config.keyStore,a.label=1;case 1:return a.trys.push([1,3,,4]),r="labs"==t.mnemonicType.type?{type:"master_key",data:{password:n,params:{phrase:t.phrase}}}:{type:"encrypted_key",data:{password:n,phrase:t.phrase,mnemonicType:t.mnemonicType}},[4,e.addKey(r)];case 2:return o=a.sent(),this.update({storedKeys:i(i({},this.state.storedKeys),(u={},u[o.publicKey]=o,u))}),[2,o];case 3:throw s=a.sent(),new _.NekotonRpcError(g.RpcErrorCode.INVALID_REQUEST,s.toString());case 4:return[2]}}))}))},t.prototype.createDerivedKey=function(e){var t=e.accountId,n=e.password;return s(this,void 0,void 0,(function(){var e,r,o,s;return a(this,(function(a){switch(a.label){case 0:e=this.config.keyStore,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.addKey({type:"master_key",data:{password:n,params:{accountId:t}}})];case 2:return r=a.sent(),this.update({storedKeys:i(i({},this.state.storedKeys),(s={},s[r.publicKey]=r,s))}),[2,r];case 3:throw o=a.sent(),new _.NekotonRpcError(g.RpcErrorCode.INVALID_REQUEST,o.toString());case 4:return[2]}}))}))},t.prototype.removeKey=function(e){var t=e.publicKey;return s(this,void 0,void 0,(function(){var e,n,r,o;return a(this,(function(s){switch(s.label){case 0:e=this.config.keyStore,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.removeKey(t)];case 2:return n=s.sent(),delete(r=i({},this.state.storedKeys))[t],this.update({storedKeys:r}),[2,n];case 3:throw o=s.sent(),new _.NekotonRpcError(g.RpcErrorCode.INVALID_REQUEST,o.toString());case 4:return[2]}}))}))},t.prototype.createAccount=function(e){var t=e.name,n=e.publicKey,r=e.contractType;return s(this,void 0,void 0,(function(){var e,o,i,s,u;return a(this,(function(a){switch(a.label){case 0:e=this.config.accountsStorage,a.label=1;case 1:if(a.trys.push([1,5,,6]),null==this.state.storedKeys[n])throw new Error("Requested key not found");return[4,e.addAccount(t,n,r)];case 2:return o=a.sent(),i=this.state.accountEntries,null==(s=i[n])&&(s=[],i[n]=s),s.push(o),this.update({selectedAccount:o,accountEntries:i}),[4,this._saveSelectedAccountAddress()];case 3:return a.sent(),[4,this.startSubscriptions()];case 4:return a.sent(),[2,o];case 5:throw u=a.sent(),new _.NekotonRpcError(g.RpcErrorCode.INVALID_REQUEST,u.toString());case 6:return[2]}}))}))},t.prototype.selectAccount=function(e){return s(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){switch(n.label){case 0:return console.debug("selectAccount"),[4,this._accountsMutex.use((function(){return s(t,void 0,void 0,(function(){var t,n,r,o,i,s;return a(this,(function(a){switch(a.label){case 0:console.debug("selectAccount -> mutex gained"),t=void 0;try{for(n=u(Object.values(this.state.accountEntries)),r=n.next();!r.done&&(o=r.value,null==(t=o.find((function(t){return t.tonWallet.address==e}))));r=n.next());}catch(e){i={error:e}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return null==t?[3,2]:(this.update({selectedAccount:t}),[4,this._saveSelectedAccountAddress()]);case 1:a.sent(),a.label=2;case 2:return console.debug("selectAccount -> mutex released"),[2]}}))}))}))];case 1:return n.sent(),[2]}}))}))},t.prototype.removeAccount=function(e){return s(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){switch(n.label){case 0:return[4,this._accountsMutex.use((function(){return s(t,void 0,void 0,(function(){var t,n,r,o,u,f,h,d,p,_,g=this;return a(this,(function(v){switch(v.label){case 0:return[4,this.config.accountsStorage.removeAccount(e)];case 1:return t=v.sent(),n=this._tonWalletSubscriptions.get(e),this._tonWalletSubscriptions.delete(e),null==n?[3,3]:[4,n.stop()];case 2:v.sent(),v.label=3;case 3:return r=this._tokenWalletSubscriptions.get(e),this._tokenWalletSubscriptions.delete(e),null==r?[3,5]:[4,Promise.all(Array.from(r.values()).map((function(e){return s(g,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,e.stop()];case 1:return[2,t.sent()]}}))}))})))];case 4:v.sent(),v.label=5;case 5:return o=i({},this.state.accountEntries),null!=t&&(u=t.tonWallet.publicKey,f=l([],c(o[u]||[])),h=f.findIndex((function(t){return t.tonWallet.address==e})),f.splice(h,1),0===f.length&&delete o[u]),delete(d=i({},this.state.accountContractStates))[e],delete(p=i({},this.state.accountTransactions))[e],delete(_=i({},this.state.accountTokenTransactions))[e],this.update({accountEntries:o,accountContractStates:d,accountTransactions:p,accountTokenTransactions:_}),[2]}}))}))}))];case 1:return n.sent(),[2]}}))}))},t.prototype.updateTokenWallets=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o,l,f,h=this;return a(this,(function(d){switch(d.label){case 0:n=this.config,r=n.accountsStorage,o=n.connectionController,l=o.state.selectedConnection.group,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this._accountsMutex.use((function(){return s(h,void 0,void 0,(function(){var n,o,f,h,d,p,_,g,v,b,w=this;return a(this,(function(y){switch(y.label){case 0:return[4,Promise.all(Object.entries(t).map((function(t){var n=c(t,2),o=n[0],i=n[1];return s(w,void 0,void 0,(function(){var t,n;return a(this,(function(s){switch(s.label){case 0:return i?[4,this._createTokenWalletSubscription(e,o)]:[3,3];case 1:return s.sent(),[4,r.addTokenWallet(e,l,o)];case 2:return s.sent(),[3,7];case 3:return t=this._tokenWalletSubscriptions.get(e),null==(n=null==t?void 0:t.get(o))?[3,5]:(null==t||t.delete(o),[4,n.stop()]);case 4:s.sent(),s.label=5;case 5:return[4,r.removeTokenWallet(e,l,o)];case 6:s.sent(),s.label=7;case 7:return[2]}}))}))})))];case 1:y.sent(),n=this._tokenWalletSubscriptions.get(e),o=this.state.accountTokenTransactions,f=i({},o[e]),h=Object.keys(f);try{for(d=u(h),p=d.next();!p.done;p=d.next())_=p.value,null==(null==n?void 0:n.get(_))&&delete f[_]}catch(e){v={error:e}}finally{try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(v)throw v.error}}return 0==((null==n?void 0:n.size)||0)?delete o[e]:o[e]=f,this.update({accountTokenTransactions:o}),[4,r.getAccount(e)];case 2:return(g=y.sent())&&this._updateAssetsList(g),[2]}}))}))}))];case 2:return d.sent(),[3,4];case 3:throw f=d.sent(),new _.NekotonRpcError(g.RpcErrorCode.INVALID_REQUEST,f.toString());case 4:return[2]}}))}))},t.prototype.checkPassword=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,this.config.keyStore.check_password(e)]}))}))},t.prototype.estimateFees=function(e,t){return s(this,void 0,void 0,(function(){var n,r=this;return a(this,(function(o){switch(o.label){case 0:return[4,this._tonWalletSubscriptions.get(e)];case 1:return n=o.sent(),O(e,n),[2,n.use((function(n){return s(r,void 0,void 0,(function(){var r,o,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,n.getContractState()];case 1:if(null==(r=a.sent()))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"Failed to get contract state for "+e);if(null==(o=n.prepareTransfer(r,t.recipient,t.amount,!1,t.payload||"",60)))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"Contract must be deployed first");a.label=2;case 2:return a.trys.push([2,4,5,6]),i=o.signFake(),[4,n.estimateFees(i)];case 3:return[2,a.sent()];case 4:throw s=a.sent(),new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,s.toString());case 5:return o.free(),[7];case 6:return[2]}}))}))}))]}}))}))},t.prototype.estimateDeploymentFees=function(e){return s(this,void 0,void 0,(function(){var t,n=this;return a(this,(function(r){switch(r.label){case 0:return[4,this._tonWalletSubscriptions.get(e)];case 1:return t=r.sent(),O(e,t),[2,t.use((function(t){return s(n,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return[4,t.getContractState()];case 1:if(null==i.sent())throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"Failed to get contract state for "+e);n=t.prepareDeploy(60),i.label=2;case 2:return i.trys.push([2,4,5,6]),r=n.signFake(),[4,t.estimateFees(r)];case 3:return[2,i.sent()];case 4:throw o=i.sent(),new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,o.toString());case 5:return n.free(),[7];case 6:return[2]}}))}))}))]}}))}))},t.prototype.prepareMessage=function(e,t,n){return s(this,void 0,void 0,(function(){var r,o=this;return a(this,(function(i){switch(i.label){case 0:return[4,this._tonWalletSubscriptions.get(e)];case 1:return r=i.sent(),O(e,r),[2,r.use((function(r){return s(o,void 0,void 0,(function(){var o,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,r.getContractState()];case 1:if(null==(o=a.sent()))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"Failed to get contract state for "+e);if(null==(i=r.prepareTransfer(o,t.recipient,t.amount,!1,t.payload||"",60)))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"Contract must be deployed first");a.label=2;case 2:return a.trys.push([2,4,5,6]),[4,this.config.keyStore.sign(i,n)];case 3:return[2,a.sent()];case 4:throw s=a.sent(),new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,s.toString());case 5:return i.free(),[7];case 6:return[2]}}))}))}))]}}))}))},t.prototype.prepareDeploymentMessage=function(e,t){return s(this,void 0,void 0,(function(){var n,r=this;return a(this,(function(o){switch(o.label){case 0:return[4,this._tonWalletSubscriptions.get(e)];case 1:return n=o.sent(),O(e,n),[2,n.use((function(n){return s(r,void 0,void 0,(function(){var r,o;return a(this,(function(i){switch(i.label){case 0:return[4,n.getContractState()];case 1:if(null==i.sent())throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"Failed to get contract state for "+e);r=n.prepareDeploy(60),i.label=2;case 2:return i.trys.push([2,4,5,6]),[4,this.config.keyStore.sign(r,t)];case 3:return[2,i.sent()];case 4:throw o=i.sent(),new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,o.toString());case 5:return r.free(),[7];case 6:return[2]}}))}))}))]}}))}))},t.prototype.prepareTokenMessage=function(e,t,n){var r;return s(this,void 0,void 0,(function(){var o,i=this;return a(this,(function(u){switch(u.label){case 0:return[4,null===(r=this._tokenWalletSubscriptions.get(e))||void 0===r?void 0:r.get(t)];case 1:return o=u.sent(),T(e,t,o),console.log(n),[2,o.use((function(e){return s(i,void 0,void 0,(function(){var t;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.prepareTransfer(n.recipient,n.amount,n.notifyReceiver)];case 1:return[2,r.sent()];case 2:throw t=r.sent(),new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,t.toString());case 3:return[2]}}))}))}))]}}))}))},t.prototype.prepareSwapBackMessage=function(e,t,n){var r;return s(this,void 0,void 0,(function(){var o,i=this;return a(this,(function(u){switch(u.label){case 0:return[4,null===(r=this._tokenWalletSubscriptions.get(e))||void 0===r?void 0:r.get(t)];case 1:return o=u.sent(),T(e,t,o),[2,o.use((function(e){return s(i,void 0,void 0,(function(){var t,r;return a(this,(function(o){switch(o.label){case 0:return null!=n.proxyAddress?[3,2]:(t=n,[4,e.getProxyAddress()]);case 1:t.proxyAddress=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.prepareSwapBack(n.ethAddress,n.amount,n.proxyAddress)];case 3:return[2,o.sent()];case 4:throw r=o.sent(),new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,r.toString());case 5:return[2]}}))}))}))]}}))}))},t.prototype.signPreparedMessage=function(e,t){return s(this,void 0,void 0,(function(){return a(this,(function(n){return[2,this.config.keyStore.sign(e,t)]}))}))},t.prototype.sendMessage=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o=this;return a(this,(function(i){switch(i.label){case 0:return[4,this._tonWalletSubscriptions.get(e)];case 1:return n=i.sent(),O(e,n),[4,this._sendMessageRequests.get(e)];case 2:return null==(r=i.sent())&&(r=new Map,this._sendMessageRequests.set(e,r)),[2,new Promise((function(i,u){return s(o,void 0,void 0,(function(){var o,c=this;return a(this,(function(l){switch(l.label){case 0:return o=t.bodyHash,r.set(o,{resolve:i,reject:u}),[4,n.prepareReliablePolling()];case 1:return l.sent(),[4,this.useTonWallet(e,(function(e){return s(c,void 0,void 0,(function(){var r;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.sendMessage(t)];case 1:return o.sent(),n.skipRefreshTimer(),[3,3];case 2:throw r=o.sent(),new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,r.toString());case 3:return[2]}}))}))})).catch((function(t){c._rejectMessageRequest(e,o,t)}))];case 2:return l.sent(),[2]}}))}))}))]}}))}))},t.prototype.preloadTransactions=function(e,t,n){return s(this,void 0,void 0,(function(){var r,o=this;return a(this,(function(i){switch(i.label){case 0:return[4,this._tonWalletSubscriptions.get(e)];case 1:return r=i.sent(),O(e,r),[4,r.use((function(e){return s(o,void 0,void 0,(function(){var r;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.preloadTransactions(t,n)];case 1:return o.sent(),[3,3];case 2:throw r=o.sent(),new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,r.toString());case 3:return[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},t.prototype.preloadTokenTransactions=function(e,t,n,r){var o;return s(this,void 0,void 0,(function(){var i,u=this;return a(this,(function(c){switch(c.label){case 0:if(!(i=null===(o=this._tokenWalletSubscriptions.get(e))||void 0===o?void 0:o.get(t)))throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"There is no token wallet subscription for address "+e+" for root "+t);return[4,i.use((function(e){return s(u,void 0,void 0,(function(){var t;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.preloadTransactions(n,r)];case 1:return o.sent(),[3,3];case 2:throw t=o.sent(),new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,t.toString());case 3:return[2]}}))}))}))];case 1:return c.sent(),[2]}}))}))},t.prototype.enableIntensivePolling=function(){console.debug("Enable intensive polling"),this._tonWalletSubscriptions.forEach((function(e){e.skipRefreshTimer(),e.setPollingInterval(b.DEFAULT_POLLING_INTERVAL)})),this._tokenWalletSubscriptions.forEach((function(e){e.forEach((function(e){e.skipRefreshTimer(),e.setPollingInterval(b.DEFAULT_POLLING_INTERVAL)}))}))},t.prototype.disableIntensivePolling=function(){console.debug("Disable intensive polling"),this._tonWalletSubscriptions.forEach((function(e){e.setPollingInterval(b.BACKGROUND_POLLING_INTERVAL)})),this._tokenWalletSubscriptions.forEach((function(e){e.forEach((function(e){e.setPollingInterval(b.BACKGROUND_POLLING_INTERVAL)}))}))},t.prototype._createTonWalletSubscription=function(e,t,n){return s(this,void 0,void 0,(function(){var r,o;return a(this,(function(i){switch(i.label){case 0:return null!=this._tonWalletSubscriptions.get(e)?[2]:(r=function(){function e(e,t){this._address=e,this._controller=t}return e.prototype.onMessageExpired=function(e){this._controller._rejectMessageRequest(this._address,e.bodyHash,new _.NekotonRpcError(g.RpcErrorCode.INTERNAL,"Message expired"))},e.prototype.onMessageSent=function(e,t){this._controller._resolveMessageRequest(this._address,e.bodyHash,t)},e.prototype.onStateChanged=function(e){this._controller._updateTonWalletState(this._address,e)},e.prototype.onTransactionsFound=function(e,t){this._controller._updateTransactions(this._address,e,t)},e}(),console.debug("_createTonWalletSubscription -> subscribing to ton wallet"),[4,w.TonWalletSubscription.subscribe(this.config.connectionController,t,n,new r(e,this))]);case 1:return o=i.sent(),console.debug("_createTonWalletSubscription -> subscribed to ton wallet"),this._tonWalletSubscriptions.set(e,o),null==o||o.setPollingInterval(b.BACKGROUND_POLLING_INTERVAL),[4,null==o?void 0:o.start()];case 2:return i.sent(),[2]}}))}))},t.prototype._createTokenWalletSubscription=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o,s,u;return a(this,(function(a){switch(a.label){case 0:return null==(n=this._tokenWalletSubscriptions.get(e))&&(n=new Map,this._tokenWalletSubscriptions.set(e,n)),null!=n.get(t)?[2]:(r=function(){function e(e,t,n){this._owner=e,this._rootTokenContract=t,this._controller=n}return e.prototype.onBalanceChanged=function(e){this._controller._updateTokenWalletState(this._owner,this._rootTokenContract,e)},e.prototype.onTransactionsFound=function(e,t){this._controller._updateTokenTransactions(this._owner,this._rootTokenContract,e,t)},e}(),console.debug("_createTokenWalletSubscription -> subscribing to token wallet"),[4,y.TokenWalletSubscription.subscribe(this.config.connectionController,e,t,new r(e,t,this))]);case 1:return o=a.sent(),console.debug("_createTokenWalletSubscription -> subscribed to token wallet"),n.set(t,o),o.setPollingInterval(b.BACKGROUND_POLLING_INTERVAL),[4,o.start()];case 2:return a.sent(),s=this.state.knownTokens,this.update({knownTokens:i(i({},s),(u={},u[t]=o.symbol,u))}),[2]}}))}))},t.prototype._stopSubscriptions=function(){return s(this,void 0,void 0,(function(){var e,t,n=this;return a(this,(function(r){switch(r.label){case 0:return e=function(){return s(n,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._tonWalletSubscriptions.values()).map((function(t){return s(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.stop()];case 1:return[2,e.sent()]}}))}))})))];case 1:return t.sent(),[2]}}))}))},t=function(){return s(n,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._tokenWalletSubscriptions.values()).map((function(t){return Promise.all(Array.from(t.values()).map((function(t){return s(e,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.stop()];case 1:return[2,e.sent()]}}))}))})))})))];case 1:return t.sent(),[2]}}))}))},[4,Promise.all([e(),t()])];case 1:return r.sent(),this._tonWalletSubscriptions.clear(),this._tokenWalletSubscriptions.clear(),this._clearSendMessageRequests(),this.update({accountContractStates:{},accountTokenStates:{},accountTransactions:{},accountTokenTransactions:{},accountPendingMessages:{}}),[2]}}))}))},t.prototype._updateAssetsList=function(e){var t,n=this.state.accountEntries,r=n[e.tonWallet.publicKey];null==r&&(r=[],n[e.tonWallet.publicKey]=r);var o=r.findIndex((function(t){return t.tonWallet.address==e.tonWallet.address}));o<0?r.push(e):r[o]=e;var i=(null===(t=this.state.selectedAccount)||void 0===t?void 0:t.tonWallet.address)==e.tonWallet.address?e:void 0;this.update({selectedAccount:i,accountEntries:n})},t.prototype._clearSendMessageRequests=function(){var e,t,n,r,o,i=new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"The request was rejected; please try again"),s=Array.from(this._sendMessageRequests.keys());try{for(var a=u(s),c=a.next();!c.done;c=a.next()){var l=c.value,f=Array.from((null===(o=this._sendMessageRequests.get(l))||void 0===o?void 0:o.keys())||[]);try{for(var h=(n=void 0,u(f)),d=h.next();!d.done;d=h.next()){var p=d.value;this._rejectMessageRequest(l,p,i)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}this._sendMessageRequests.clear()},t.prototype._rejectMessageRequest=function(e,t,n){this._deleteMessageRequestAndGetCallback(e,t).reject(n)},t.prototype._resolveMessageRequest=function(e,t,n){this._deleteMessageRequestAndGetCallback(e,t).resolve(n)},t.prototype._deleteMessageRequestAndGetCallback=function(e,t){var n,r=null===(n=this._sendMessageRequests.get(e))||void 0===n?void 0:n.get(t);if(!r)throw new Error('SendMessage request with id "'+t+'" not found');return this._deleteMessageRequest(e,t),r},t.prototype._deleteMessageRequest=function(e,t){var n=this._sendMessageRequests.get(e);if(n){n.delete(t),0===n.size&&this._sendMessageRequests.delete(e);var r=this.state.accountPendingMessages,o=i({},r[e]);delete o[t];var s=i({},r);n.size>0?s[e]=o:delete s[e],this.update({accountPendingMessages:s})}},t.prototype._updateTonWalletState=function(e,t){var n,r=this.state.accountContractStates,o=i(i({},r),((n={})[e]=t,n));this.update({accountContractStates:o})},t.prototype._updateTokenWalletState=function(e,t,n){var r,o,s=this.state.accountTokenStates,a=i(i({},s[e]),((r={})[t]={balance:n},r)),u=i(i({},s),((o={})[e]=a,o));this.update({accountTokenStates:u})},t.prototype._updateTransactions=function(e,t,n){var r,o,s;if("new"==n.batchType)try{for(var a=u(t),c=a.next();!c.done;c=a.next()){var l=c.value,f=_.extractTransactionValue(l),h=_.extractTransactionAddress(l),d=h.address,g=h.direction,v=_.convertTons(f.toString())+" TON "+g+" "+_.convertAddress(d);this.config.notificationController.showNotification({title:"New transaction found",body:v,link:"https://ton-explorer.com/transactions/"+l.id.hash})}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}var b=this.state.accountTransactions,w=i(i({},b),((s={})[e]=p.mergeTransactions(b[e]||[],t,n),s));this.update({accountTransactions:w})},t.prototype._updateTokenTransactions=function(e,t,n,r){var o,s,a,c;if("new"==r.batchType){var l=this.state.knownTokens[t];if(null!=l)try{for(var f=u(n),h=f.next();!h.done;h=f.next()){var d=h.value,g=_.extractTokenTransactionValue(d);if(null!=g){var v=_.extractTokenTransactionAddress(d),b=_.convertCurrency(g.toString(),l.decimals)+" "+l.name+" "+(g.lt(0)?"to":"from")+" "+(null==v?void 0:v.address);this.config.notificationController.showNotification({title:"New token transaction found",body:b,link:"https://ton-explorer.com/transactions/"+d.id.hash})}}}catch(e){o={error:e}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(o)throw o.error}}}var w=this.state.accountTokenTransactions,y=w[e]||[],m=i(i({},y),((a={})[t]=p.mergeTransactions(y[t]||[],n,r),a)),E=i(i({},w),((c={})[e]=m,c));this.update({accountTokenTransactions:E})},t.prototype._loadSelectedAccountAddress=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,new Promise((function(e){chrome.storage.local.get(["selectedAccountAddress"],(function(t){var n=t.selectedAccountAddress;if("string"!=typeof n)return e(void 0);e(n)}))}))]}))}))},t.prototype._saveSelectedAccountAddress=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){return[2,new Promise((function(t){var n;chrome.storage.local.set({selectedAccountAddress:null===(n=e.state.selectedAccount)||void 0===n?void 0:n.tonWallet.address},(function(){return t()}))}))]}))}))},t.prototype._removeSelectedAccountAddress=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,new Promise((function(e){chrome.storage.local.remove("selectedAccountAddress",(function(){return e()}))}))]}))}))},t}(v.BaseController);function O(e,t){if(!t)throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"There is no subscription for address "+e)}function T(e,t,n){if(!n)throw new _.NekotonRpcError(g.RpcErrorCode.RESOURCE_UNAVAILABLE,"There is no token subscription for owner "+e+", root token contract "+t)}t.AccountController=E},60694:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApprovalController=void 0;var u=a(n(96486)),c=n(11373),l=n(94586),f=n(8796),h=n(9642),d={pendingApprovals:{},pendingApprovalCount:0},p=function(e){function t(t,n){var r=this,o=t.showApprovalRequest;if("function"!=typeof o)throw new Error("Must specify function showApprovalRequest");return(r=e.call(this,t,n||u.default.cloneDeep(d))||this)._approvals=new Map,r._origins=new Map,r._showApprovalRequest=o,r.initialize(),r}return o(t,e),t.prototype.addAndShowApprovalRequest=function(e){var t=this._add(e.origin,e.type,e.id,e.requestData);return this._showApprovalRequest(),t},t.prototype.add=function(e){return this._add(e.origin,e.type,e.id,e.requestData)},t.prototype.get=function(e){var t=this.state.pendingApprovals[e];return t?i({},t):void 0},t.prototype.getApprovalCount=function(e){var t,n,r,o;if(void 0===e&&(e={}),!e.origin&&!e.type)return this.state.pendingApprovalCount;var i=e.origin,a=e.type;if(i&&a)return Number(Boolean(null===(r=this._origins.get(i))||void 0===r?void 0:r.has(a)));if(i)return(null===(o=this._origins.get(i))||void 0===o?void 0:o.size)||0;var u=0;try{for(var c=s(Object.values(this.state.pendingApprovals)),l=c.next();!l.done;l=c.next())l.value.type===a&&(u+=1)}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return u},t.prototype.has=function(e){var t,n,r;void 0===e&&(e={});var o=e.id,i=e.origin,a=e.type;if(o){if("string"!=typeof o)throw new Error("Must not specify non-string id");return this._approvals.has(o)}if(i&&"string"!=typeof i)throw new Error("Must not specify non-string origin");if(a&&"string"!=typeof a)throw new Error("Must not specify non-string type");if(i)return a?Boolean(null===(r=this._origins.get(i))||void 0===r?void 0:r.has(a)):this._origins.has(i);if(a){try{for(var u=s(Object.values(this.state.pendingApprovals)),c=u.next();!c.done;c=u.next())if(c.value.type===a)return!0}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return!1}throw new Error("Must specify non-empty string id, origin, or type")},t.prototype.resolve=function(e,t){this._deleteApprovalAndGetCallback(e).resolve(t)},t.prototype.reject=function(e,t){this._deleteApprovalAndGetCallback(e).reject(t)},t.prototype.clear=function(){var e,t,n=new l.NekotonRpcError(f.RpcErrorCode.RESOURCE_UNAVAILABLE,"The request was rejected; please try again"),r=Array.from(this._approvals.keys());try{for(var o=s(r),i=o.next();!i.done;i=o.next()){var a=i.value;this.reject(a,n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}this._origins.clear(),this.update(d,!0)},t.prototype._add=function(e,t,n,r){var o,i=this;if(void 0===n&&(n=c.nanoid()),this._validateAddParams(n,e,t,r),null===(o=this._origins.get(e))||void 0===o?void 0:o.has(t))throw new l.NekotonRpcError(f.RpcErrorCode.RESOURCE_UNAVAILABLE,"Request of type '"+t+"' already pending for origin "+e+". Please wait.");return new Promise((function(o,s){i._approvals.set(n,{resolve:o,reject:s}),i._addPendingApprovalOrigin(e,t),i._addToStore(n,e,t,r)}))},t.prototype._validateAddParams=function(e,t,n,r){var o=null;if(e&&"string"==typeof e?this._approvals.has(e)?o='Approval with id "'+e+'" already exists':t&&"string"==typeof t?n&&"string"==typeof n?r&&("object"!=typeof r||Array.isArray(r))&&(o="Request data must be a plain object if specified"):o="Must specify non-empty string type":o="Must specify non-empty string origin":o="Must specify non-empty string id",o)throw new l.NekotonRpcError(f.RpcErrorCode.INTERNAL,o)},t.prototype._addPendingApprovalOrigin=function(e,t){var n=this._origins.get(e)||new Set;n.add(t),this._origins.has(e)||this._origins.set(e,n)},t.prototype._addToStore=function(e,t,n,r){var o,s={id:e,origin:t,type:n,time:Date.now()};r&&(s.requestData=r);var a=i(i({},this.state.pendingApprovals),((o={})[e]=s,o));this.update({pendingApprovals:a,pendingApprovalCount:Object.keys(a).length},!0)},t.prototype._delete=function(e){this._approvals.delete(e);var t=this.state.pendingApprovals,n=t[e],r=n.origin,o=n.type;this._origins.get(r).delete(o),this._isEmptyOrigin(r)&&this._origins.delete(r);var s=i({},t);delete s[e],this.update({pendingApprovals:s,pendingApprovalCount:Object.keys(s).length},!0)},t.prototype._deleteApprovalAndGetCallback=function(e){var t=this._approvals.get(e);if(!t)throw new Error('Approval with id "'+e+'" not found');return this._delete(e),t},t.prototype._isEmptyOrigin=function(e){var t;return!(null===(t=this._origins.get(e))||void 0===t?void 0:t.size)},t}(h.BaseController);t.ApprovalController=p},9642:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseController=void 0;var n=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.defaultConfig={},this.defaultState={},this.disabled=!1,this.name="BaseController",this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.internalListeners=[],this.initialConfig=e,this.initialState=t}return e.prototype.initialize=function(){return this.internalConfig=this.defaultConfig,this.internalState=this.defaultState,this.configure(this.initialConfig),this.update(this.initialState),this},Object.defineProperty(e.prototype,"config",{get:function(){return this.internalConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.internalState},enumerable:!1,configurable:!0}),e.prototype.configure=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!0),n)for(var r in this.internalConfig=t?e:Object.assign(this.internalConfig,e),this.internalConfig)void 0!==this.internalConfig[r]&&(this[r]=this.internalConfig[r]);else for(var r in e)void 0!==this.internalConfig[r]&&(this.internalConfig[r]=e[r],this[r]=e[r])},e.prototype.notify=function(){var e=this;this.disabled||this.internalListeners.forEach((function(t){t(e.initialState)}))},e.prototype.subscribe=function(e){this.internalListeners.push(e)},e.prototype.unsubscribe=function(e){var t=this.internalListeners.findIndex((function(t){return e===t}));return t>-1&&this.internalListeners.splice(t,1),t>-1},e.prototype.update=function(e,t){void 0===t&&(t=!1),this.internalState=t?Object.assign({},e):Object.assign({},this.internalState,e),this.notify()},e}();t.BaseController=n},48816:function(e,t,n){"use strict";var r,o,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return u(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},h=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},d=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},p=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.JrpcSocket=t.GqlSocket=t.ConnectionController=void 0;var _=n(79068),g=n(94586),v=n(8796),b=c(n(54991)),w=n(9642),y=((o={})[0]={name:"Mainnet (GQL)",group:"mainnet",type:"graphql",data:{endpoint:"https://main.ton.dev/graphql",timeout:6e4}},o[1]={name:"Mainnet (ADNL)",group:"mainnet",type:"jrpc",data:{endpoint:"https://jrpc.broxus.com/rpc"}},o[2]={name:"Testnet (GQL)",group:"testnet",type:"graphql",data:{endpoint:"https://net.ton.dev/graphql",timeout:6e4}},o[3]={name:"Testnet(FLD)",group:"testnet",type:"graphql",data:{endpoint:"https://gql.custler.net/graphql",timeout:6e4}},o),m=function(e){var t=y[e];return null!=t?s({id:e},t):void 0},E=function(e){function t(t,n){var r=e.call(this,t,n||{selectedConnection:m(0)})||this;return r._acquiredConnectionCounter=0,r._initializedConnection=void 0,r._networkMutex=new _.Mutex,r.initialize(),r}return i(t,e),t.prototype.initialSync=function(){return l(this,void 0,void 0,(function(){var e,t;return f(this,(function(n){switch(n.label){case 0:if(null!=this._initializedConnection)throw new Error("Must not sync twice");n.label=1;case 1:return[4,this._loadSelectedConnectionId()];case 2:null!=(e=n.sent())&&null!=(t=m(e))&&this.update({selectedConnection:t},!0),n.label=3;case 3:return n.trys.push([3,5,,6]),[4,this.trySwitchingNetwork(this.state.selectedConnection,!0)];case 4:return n.sent(),[2];case 5:return n.sent(),console.error("Failed to select initial connection. Retrying in 5s"),[3,6];case 6:return[4,new Promise((function(e){setTimeout((function(){return e()}),5e3)}))];case 7:return n.sent(),console.log("Restarting connection process"),[3,1];case 8:return[2]}}))}))},t.prototype.startSwitchingNetwork=function(e){return l(this,void 0,void 0,(function(){var t,n;return f(this,(function(r){switch(r.label){case 0:return t=function(){function e(e,t,n){this._controller=e,this._release=t,this._params=n}return e.prototype.switch=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){switch(t.label){case 0:return[4,this._controller._connect(this._params).then((function(){return e._release()})).catch((function(t){throw e._release(),t}))];case 1:return t.sent(),[2]}}))}))},e}(),[4,this._networkMutex.acquire()];case 1:return n=r.sent(),[2,new t(this,n,e)]}}))}))},t.prototype.acquire=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){switch(t.label){case 0:return O(this._initializedConnection),[4,this._acquireConnection()];case 1:return t.sent(),[2,{connection:this._initializedConnection,release:function(){return e._releaseConnection()}}]}}))}))},t.prototype.use=function(e){return l(this,void 0,void 0,(function(){var t=this;return f(this,(function(n){switch(n.label){case 0:return O(this._initializedConnection),[4,this._acquireConnection()];case 1:return n.sent(),[2,e(this._initializedConnection).then((function(e){return t._releaseConnection(),e})).catch((function(e){throw t._releaseConnection(),e}))]}}))}))},t.prototype.getAvailableNetworks=function(){return window.ObjectExt.entries(y).map((function(e){var t=h(e,2),n=t[0],r=t[1];return s(s({},r),{id:~~n})}))},t.prototype.makeAvailableNetworksGroup=function(e){var t=[e];return t.push.apply(t,d([],h(Object.entries(y).filter((function(t){var n=h(t,2),r=n[0],o=n[1];return~~r!=e.id&&o.group==e.group})).map((function(e){var t=h(e,2),n=t[0],r=t[1];return s({id:~~n},r)}))))),t},t.prototype.trySwitchingNetwork=function(e,t){return l(this,void 0,void 0,(function(){var n,r,o,i,s,a,u,c;return f(this,(function(l){switch(l.label){case 0:n=t?this.makeAvailableNetworksGroup(e):[e],console.log(n),l.label=1;case 1:l.trys.push([1,8,9,10]),r=p(n),o=r.next(),l.label=2;case 2:if(o.done)return[3,7];i=o.value,console.log("Connecting to "+i.name+" ..."),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,this.startSwitchingNetwork(i).then((function(e){return e.switch()}))];case 4:return l.sent(),console.log("Successfully connected to "+this.state.selectedConnection.name),[2];case 5:return s=l.sent(),console.error("Connection failed:",s),[3,6];case 6:return o=r.next(),[3,2];case 7:return[3,10];case 8:return a=l.sent(),u={error:a},[3,10];case 9:try{o&&!o.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 10:throw new Error("Failed to find suitable connection")}}))}))},t.prototype._connect=function(e){return l(this,void 0,void 0,(function(){var t,n,r,o,i,s,a,u,c,h=this;return f(this,(function(d){switch(d.label){case 0:if(this._initializedConnection&&("graphql"===this._initializedConnection.type||"jrpc"==this._initializedConnection.type)&&this._initializedConnection.data.connection.free(),this._initializedConnection=void 0,t=function(e){var t=e.data.connection;return l(h,void 0,void 0,(function(){return f(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e,n){t.getFullContractState("-1:0000000000000000000000000000000000000000000000000000000000000000").then((function(){return e()})).catch((function(e){return n(e)})),setTimeout((function(){return n(new Error("Connection timeout"))}),6e4)}))];case 1:return e.sent(),[2]}}))}))},"graphql"!==e.type)return[3,6];d.label=1;case 1:return d.trys.push([1,4,,5]),r=new T,s={group:e.group,type:"graphql"},a={socket:r},[4,r.connect(e.data)];case 2:return s.data=(a.connection=d.sent(),a),[4,t(o=s)];case 3:return d.sent(),this._initializedConnection=o,[3,5];case 4:throw n=d.sent(),new g.NekotonRpcError(v.RpcErrorCode.INTERNAL,"Failed to create GraphQL connection: "+n.toString());case 5:return[3,13];case 6:if("jrpc"!==e.type)return[3,12];d.label=7;case 7:return d.trys.push([7,10,,11]),r=new S,u={group:e.group,type:"jrpc"},c={socket:r},[4,r.connect(e.data)];case 8:return u.data=(c.connection=d.sent(),c),[4,t(o=u)];case 9:return d.sent(),this._initializedConnection=o,[3,11];case 10:throw i=d.sent(),new g.NekotonRpcError(v.RpcErrorCode.INTERNAL,"Failed to create JRPC connection "+i.toString());case 11:return[3,13];case 12:throw new g.NekotonRpcError(v.RpcErrorCode.RESOURCE_UNAVAILABLE,"Unsupported connection type");case 13:return this.update({selectedConnection:e},!0),[4,this._saveSelectedConnectionId()];case 14:return d.sent(),[2]}}))}))},t.prototype._acquireConnection=function(){return l(this,void 0,void 0,(function(){var e;return f(this,(function(t){switch(t.label){case 0:return console.debug("_acquireConnection"),this._acquiredConnectionCounter>0?(console.debug("_acquireConnection -> increase"),this._acquiredConnectionCounter+=1,[3,4]):[3,1];case 1:return this._acquiredConnectionCounter=1,null==this._release?[3,2]:(console.warn("mutex is already acquired"),[3,4]);case 2:return console.debug("_acquireConnection -> await"),e=this,[4,this._networkMutex.acquire()];case 3:e._release=t.sent(),console.debug("_acquireConnection -> create"),t.label=4;case 4:return[2]}}))}))},t.prototype._releaseConnection=function(){var e;console.debug("_releaseConnection"),this._acquiredConnectionCounter-=1,this._acquiredConnectionCounter<=0&&(console.debug("_releaseConnection -> release"),null===(e=this._release)||void 0===e||e.call(this),this._release=void 0)},t.prototype._loadSelectedConnectionId=function(){return l(this,void 0,void 0,(function(){return f(this,(function(e){return[2,new Promise((function(e){chrome.storage.local.get(["selectedConnectionId"],(function(t){var n=t.selectedConnectionId;if("number"!=typeof n)return e(void 0);e(n)}))}))]}))}))},t.prototype._saveSelectedConnectionId=function(){return l(this,void 0,void 0,(function(){var e=this;return f(this,(function(t){return[2,new Promise((function(t){chrome.storage.local.set({selectedConnectionId:e.state.selectedConnection.id},(function(){t()}))}))]}))}))},t}(w.BaseController);function O(e){if(null==e)throw new g.NekotonRpcError(v.RpcErrorCode.CONNECTION_IS_NOT_INITIALIZED,"Connection is not initialized")}t.ConnectionController=E;var T=function(){function e(){}return e.prototype.connect=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){return t=function(){function e(e){this.params=e}return e.prototype.send=function(e,t){l(this,void 0,void 0,(function(){var n,r;return f(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(this.params.endpoint,{method:"post",headers:{"Content-Type":"application/json"},body:e}).then((function(e){return e.text()}))];case 1:return n=o.sent(),t.onReceive(n),[3,3];case 2:return r=o.sent(),t.onError(r),[3,3];case 3:return[2]}}))}))},e}(),[2,new b.GqlConnection(new t(e))]}))}))},e}();t.GqlSocket=T;var S=function(){function e(){}return e.prototype.connect=function(e){return l(this,void 0,void 0,(function(){var t;return f(this,(function(n){return t=function(){function e(e){this.params=e}return e.prototype.send=function(e,t){l(this,void 0,void 0,(function(){var n,r;return f(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch(this.params.endpoint,{method:"post",headers:{"Content-Type":"application/json"},body:e}).then((function(e){return e.text()}))];case 1:return n=o.sent(),t.onReceive(n),[3,3];case 2:return r=o.sent(),t.onError(r),[3,3];case 3:return[2]}}))}))},e}(),[2,new b.JrpcConnection(new t(e))]}))}))},e}();t.JrpcSocket=S},18148:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationController=void 0;var i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._notificationLinks={},r.initialize(),chrome.notifications.onClicked.addListener((function(e){var t=r._notificationLinks[e];null!=t&&(window.open(t,"_blank"),chrome.notifications.clear(e)),delete r._notificationLinks[e]})),r}return o(t,e),t.prototype.setHidden=function(e){this.config.disabled=e},t.prototype.showNotification=function(e){var t=this,n=e.title,r=e.body,o=e.link,i=e.eventTime,s=e.timeout,a=void 0===s?6e4:s;this.config.disabled||chrome.notifications.create({type:"basic",title:n,message:r,iconUrl:""+chrome.extension.getURL("icon128.png"),requireInteraction:!0,eventTime:i},(function(e){o&&(t._notificationLinks[e]=o),a>0&&setTimeout((function(){chrome.notifications.clear(e),delete t._notificationLinks[e]}),a)}))},t}(n(9642).BaseController);t.NotificationController=i},6067:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsController=t.validatePermission=void 0;var l=c(n(96486)),f=n(94586),h=n(8796),d=n(9642),p={tonClient:!0,accountInteraction:!0};function _(e){if("string"!=typeof e)throw new f.NekotonRpcError(h.RpcErrorCode.INVALID_REQUEST,"Permission must be a non-empty string");if(!0!==p[e])throw new f.NekotonRpcError(h.RpcErrorCode.INVALID_REQUEST,'Unknown permission "'+e+'"')}t.validatePermission=_;var g=function(e){function t(t,n){var r=e.call(this,t,n||{permissions:{}})||this;return r.initialize(),r}return o(t,e),t.prototype.initialSync=function(){return s(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,new Promise((function(e){chrome.storage.local.get(["permissions"],(function(n){var r,o,i,s,a=n.permissions;if("object"==typeof a){t.update({permissions:a});try{for(var c=u(Object.keys(a)),l=c.next();!l.done;l=c.next()){var f=l.value;null===(s=(i=t.config).notifyDomain)||void 0===s||s.call(i,f,{method:"permissionsChanged",params:{permissions:{}}})}}catch(e){r={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}}e()}))}))];case 1:return n.sent(),[3,3];case 2:return e=n.sent(),console.warn("Failed to load permissions",e),[3,3];case 3:return[2]}}))}))},t.prototype.requestPermissions=function(e,t){var n,r;return s(this,void 0,void 0,(function(){var o,s,c,f,h,d,p,g,v,b,w;return a(this,(function(a){switch(a.label){case 0:o=l.default.uniq(t),s=this.getPermissions(e),c=!1;try{for(f=u(o),h=f.next();!h.done;h=f.next())_(d=h.value),null==s[d]&&(c=!0)}catch(e){v={error:e}}finally{try{h&&!h.done&&(b=f.return)&&b.call(f)}finally{if(v)throw v.error}}return c?[4,this.config.approvalController.addAndShowApprovalRequest({origin:e,type:"requestPermissions",requestData:{permissions:o}})]:[3,3];case 1:return p=a.sent(),g=i(i({},this.state.permissions),((w={})[e]=p,w)),this.update({permissions:g},!0),[4,this._savePermissions()];case 2:a.sent(),s=p,a.label=3;case 3:return null===(r=(n=this.config).notifyDomain)||void 0===r||r.call(n,e,{method:"permissionsChanged",params:{permissions:s}}),[2,s]}}))}))},t.prototype.getPermissions=function(e){return this.state.permissions[e]||{}},t.prototype.removeOrigin=function(e){var t,n;return s(this,void 0,void 0,(function(){var r,o,s;return a(this,(function(a){switch(a.label){case 0:return r=this.state.permissions,o=r[e],delete(s=i({},r))[e],this.update({permissions:s},!0),[4,this._savePermissions()];case 1:return a.sent(),null!=o&&(null===(n=(t=this.config).notifyDomain)||void 0===n||n.call(t,e,{method:"permissionsChanged",params:{permissions:{}}})),[2]}}))}))},t.prototype.clear=function(){var e,t;return s(this,void 0,void 0,(function(){var n,r,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:return n=this.state.permissions,this.update({permissions:{}},!0),[4,this._savePermissions()];case 1:a.sent();try{for(r=u(Object.keys(n)),o=r.next();!o.done;o=r.next())i=o.value,null===(t=(e=this.config).notifyDomain)||void 0===t||t.call(e,i,{method:"permissionsChanged",params:{permissions:{}}})}catch(e){s={error:e}}finally{try{o&&!o.done&&(c=r.return)&&c.call(r)}finally{if(s)throw s.error}}return[2]}}))}))},t.prototype.checkPermissions=function(e,t){var n,r,o=this.state.permissions[e];if(null==o)throw new f.NekotonRpcError(h.RpcErrorCode.INSUFFICIENT_PERMISSIONS,'There are no permissions for origin "'+e+'"');try{for(var i=u(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(null==o[a])throw new f.NekotonRpcError(h.RpcErrorCode.INSUFFICIENT_PERMISSIONS,'Requested permission "'+a+'" not found for origin '+e)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._savePermissions=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){return[2,new Promise((function(t){chrome.storage.local.set({permissions:e.state.permissions},(function(){t()}))}))]}))}))},t}(d.BaseController);t.PermissionsController=g},51945:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionController=void 0;var c=n(94586),l=n(8796),f=n(79068),h=n(9642),d=n(23730),p=function(e){function t(t,n){var r=e.call(this,t,n||{subscriptionPendingMessages:{}})||this;return r._subscriptions=new Map,r._subscriptionsMutex=new f.Mutex,r._sendMessageRequests=new Map,r._tabs=new Map,r._subscriptionTabs=new Map,r.initialize(),r}return o(t,e),t.prototype.subscribeToContract=function(e,t,n){return s(this,void 0,void 0,(function(){var r=this;return a(this,(function(o){return[2,this._subscriptionsMutex.use((function(){return s(r,void 0,void 0,(function(){var r,o,i,s,u,c,l;return a(this,(function(a){switch(a.label){case 0:return r=this._tabs.get(e),n=={}?[2,(null==r?void 0:r.get(t))||{state:!1,transactions:!1}]:(o=null==r,null==r&&(r=new Map),i=!0,s=r.get(t)||{state:!1,transactions:!1},window.ObjectExt.keys(s).map((function(e){var t=n[e];"boolean"==typeof t&&(s[e]=t),i&&(i=!s[e])})),u=this._subscriptionTabs.get(t),i?(null==r||r.delete(t),null==u||u.delete(e),[4,this._tryUnsubscribe(t)]):[3,2]);case 1:return a.sent(),[2,s];case 2:return null==u&&(u=new Set),c=this._subscriptions.get(t),l=null==c,null!=c?[3,4]:[4,this._createSubscription(t,u)];case 3:c=a.sent(),a.label=4;case 4:return u.add(e),r.set(t,s),o&&this._tabs.set(e,r),l?[4,c.start()]:[3,6];case 5:a.sent(),a.label=6;case 6:return[2,s]}}))}))}))]}))}))},t.prototype.unsubscribeFromContract=function(e,t){return s(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.subscribeToContract(e,t,{state:!1,transactions:!1})];case 1:return n.sent(),[2]}}))}))},t.prototype.unsubscribeFromAllContracts=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i,s,c;return a(this,(function(a){switch(a.label){case 0:if(null==(t=this._tabs.get(e)))return[2];a.label=1;case 1:a.trys.push([1,6,7,8]),n=u(t.keys()),r=n.next(),a.label=2;case 2:return r.done?[3,5]:(o=r.value,[4,this.unsubscribeFromContract(e,o)]);case 3:a.sent(),a.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return i=a.sent(),s={error:i},[3,8];case 7:try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}))},t.prototype.unsubscribeOriginFromAllContracts=function(e,t){var n,r;return s(this,void 0,void 0,(function(){var o,i=this;return a(this,(function(u){switch(u.label){case 0:return o=(null===(r=(n=this.config).getOriginTabs)||void 0===r?void 0:r.call(n,e))||(null!=t?[t]:[]),[4,Promise.all(o.map((function(e){return s(i,void 0,void 0,(function(){return a(this,(function(t){return[2,this.unsubscribeFromAllContracts(e)]}))}))})))];case 1:return u.sent(),[2]}}))}))},t.prototype.getTabSubscriptions=function(e){var t=this._tabs.get(e);return null==t?{}:window.objectFromEntries(t)},t.prototype.stopSubscriptions=function(){return s(this,void 0,void 0,(function(){var e,t,n,r,o,i,s;return a(this,(function(a){switch(a.label){case 0:e=Array.from(this._tabs.keys()),a.label=1;case 1:a.trys.push([1,6,7,8]),t=u(e),n=t.next(),a.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,this.unsubscribeFromAllContracts(r)]);case 3:a.sent(),a.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return o=a.sent(),i={error:o},[3,8];case 7:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(i)throw i.error}return[7];case 8:return[4,this._clearSendMessageRequests()];case 9:return a.sent(),[2]}}))}))},t.prototype.sendMessage=function(e,t){return s(this,void 0,void 0,(function(){var n,r=this;return a(this,(function(o){switch(o.label){case 0:return[4,this._sendMessageRequests.get(e)];case 1:return null==(n=o.sent())&&(n=new Map,this._sendMessageRequests.set(e,n)),[2,new Promise((function(o,i){return s(r,void 0,void 0,(function(){var r,u,f=this;return a(this,(function(h){switch(h.label){case 0:return r=t.bodyHash,n.set(r,{resolve:o,reject:i}),[4,this._subscriptionsMutex.use((function(){return s(f,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return null!=(t=this._subscriptions.get(e))?[3,2]:[4,this._createSubscription(e,new Set)];case 1:t=n.sent(),n.label=2;case 2:return[2,t]}}))}))}))];case 1:return[4,(u=h.sent()).prepareReliablePolling()];case 2:return h.sent(),[4,u.use((function(e){return s(f,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.sendMessage(t)];case 1:return r.sent(),u.skipRefreshTimer(),[3,3];case 2:throw n=r.sent(),new c.NekotonRpcError(l.RpcErrorCode.RESOURCE_UNAVAILABLE,n.toString());case 3:return[2]}}))}))})).catch((function(t){f._rejectMessageRequest(e,r,t)}))];case 3:return h.sent(),[2]}}))}))}))]}}))}))},t.prototype._createSubscription=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o;return a(this,(function(i){switch(i.label){case 0:return n=function(){function e(e,t){this._enabled=!1,this._address=e,this._controller=t}return e.prototype.enableNotifications=function(){this._enabled=!0},e.prototype.onMessageExpired=function(e){this._enabled&&this._controller._rejectMessageRequest(this._address,e.bodyHash,new c.NekotonRpcError(l.RpcErrorCode.INTERNAL,"Message expired")).catch(console.error)},e.prototype.onMessageSent=function(e,t){this._enabled&&this._controller._resolveMessageRequest(this._address,e.bodyHash,t).catch(console.error)},e.prototype.onStateChanged=function(e){this._enabled&&this._controller._notifyStateChanged(this._address,e)},e.prototype.onTransactionsFound=function(e,t){this._enabled&&this._controller._notifyTransactionsFound(this._address,e,t)},e}(),r=new n(e,this),[4,_.subscribe(this.config.connectionController,e,r)];case 1:return(o=i.sent()).setPollingInterval(1e4),r.enableNotifications(),this._subscriptions.set(e,o),this._subscriptionTabs.set(e,t),[2,o]}}))}))},t.prototype._tryUnsubscribe=function(e){return s(this,void 0,void 0,(function(){var t,n,r;return a(this,(function(o){switch(o.label){case 0:return t=this._subscriptionTabs.get(e),n=this._sendMessageRequests.get(e),0!=((null==t?void 0:t.size)||0)||0!=((null==n?void 0:n.size)||0)?[3,2]:(r=this._subscriptions.get(e),this._subscriptions.delete(e),[4,null==r?void 0:r.stop()]);case 1:o.sent(),o.label=2;case 2:return[2]}}))}))},t.prototype._clearSendMessageRequests=function(){var e;return s(this,void 0,void 0,(function(){var t,n,r,o,i,s,f,h,d,p,_,g,v,b,w;return a(this,(function(a){switch(a.label){case 0:t=new c.NekotonRpcError(l.RpcErrorCode.RESOURCE_UNAVAILABLE,"The request was rejected; please try again"),n=Array.from(this._sendMessageRequests.keys()),a.label=1;case 1:a.trys.push([1,12,13,14]),r=u(n),o=r.next(),a.label=2;case 2:if(o.done)return[3,11];i=o.value,s=Array.from((null===(e=this._sendMessageRequests.get(i))||void 0===e?void 0:e.keys())||[]),a.label=3;case 3:a.trys.push([3,8,9,10]),b=void 0,f=u(s),h=f.next(),a.label=4;case 4:return h.done?[3,7]:(d=h.value,[4,this._rejectMessageRequest(i,d,t)]);case 5:a.sent(),a.label=6;case 6:return h=f.next(),[3,4];case 7:return[3,10];case 8:return p=a.sent(),b={error:p},[3,10];case 9:try{h&&!h.done&&(w=f.return)&&w.call(f)}finally{if(b)throw b.error}return[7];case 10:return o=r.next(),[3,2];case 11:return[3,14];case 12:return _=a.sent(),g={error:_},[3,14];case 13:try{o&&!o.done&&(v=r.return)&&v.call(r)}finally{if(g)throw g.error}return[7];case 14:return this._sendMessageRequests.clear(),[2]}}))}))},t.prototype._rejectMessageRequest=function(e,t,n){return s(this,void 0,void 0,(function(){var r=this;return a(this,(function(o){switch(o.label){case 0:return this._deleteMessageRequestAndGetCallback(e,t).reject(n),[4,this._subscriptionsMutex.use((function(){return s(r,void 0,void 0,(function(){return a(this,(function(t){return[2,this._tryUnsubscribe(e)]}))}))}))];case 1:return o.sent(),[2]}}))}))},t.prototype._resolveMessageRequest=function(e,t,n){return s(this,void 0,void 0,(function(){var r=this;return a(this,(function(o){switch(o.label){case 0:return this._deleteMessageRequestAndGetCallback(e,t).resolve(n),[4,this._subscriptionsMutex.use((function(){return s(r,void 0,void 0,(function(){return a(this,(function(t){return[2,this._tryUnsubscribe(e)]}))}))}))];case 1:return o.sent(),[2]}}))}))},t.prototype._deleteMessageRequestAndGetCallback=function(e,t){var n,r=null===(n=this._sendMessageRequests.get(e))||void 0===n?void 0:n.get(t);if(!r)throw new Error('SendMessage request with id "'+t+'" not found');return this._deleteMessageRequest(e,t),r},t.prototype._deleteMessageRequest=function(e,t){var n=this._sendMessageRequests.get(e);if(n){n.delete(t),0===n.size&&this._sendMessageRequests.delete(e);var r=this.state.subscriptionPendingMessages,o=i({},r[e]);delete o[t];var s=i({},r);n.size>0?s[e]=o:delete s[e],this.update({subscriptionPendingMessages:s})}},t.prototype._notifyStateChanged=function(e,t){var n=this,r=this._subscriptionTabs.get(e);null!=r&&r.forEach((function(r){var o,i,s,a;!0===(null===(i=null===(o=n._tabs.get(r))||void 0===o?void 0:o.get(e))||void 0===i?void 0:i.state)&&(null===(a=(s=n.config).notifyTab)||void 0===a||a.call(s,r,{method:"contractStateChanged",params:{address:e,state:t}}))}))},t.prototype._notifyTransactionsFound=function(e,t,n){var r=this;console.debug("Transactions found",t,n,this._subscriptionTabs);var o=this._subscriptionTabs.get(e);null!=o&&o.forEach((function(o){var i,s,a,u;!0===(null===(s=null===(i=r._tabs.get(o))||void 0===i?void 0:i.get(e))||void 0===s?void 0:s.transactions)&&(null===(u=(a=r.config).notifyTab)||void 0===u||u.call(a,o,{method:"transactionsFound",params:{address:e,transactions:t,info:n}}))}))},t}(h.BaseController);t.SubscriptionController=p;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.subscribe=function(e,n,r){return s(this,void 0,void 0,(function(){var o,i,s,u,f;return a(this,(function(a){switch(a.label){case 0:return[4,e.acquire()];case 1:o=a.sent(),i=o.connection.data.connection,s=o.release,a.label=2;case 2:return a.trys.push([2,4,,5]),[4,i.subscribeToGenericContract(n,r)];case 3:if(null==(u=a.sent()))throw new c.NekotonRpcError(l.RpcErrorCode.INTERNAL,"Failed to subscribe");return[2,new t(i,s,n,u)];case 4:throw f=a.sent(),s(),f;case 5:return[2]}}))}))},t}(d.ContractSubscription)},89759:function(e,t,n){"use strict";var r=n(34155),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),window.hasTonProvider=!0,n(70360);var a=s(n(12840)),u=s(n(54991)),c=n(94586),l=n(75628),f=n(51321),h=n(62402),d=new f.NotificationManager,p=!1,_=!1,g=!1,v={},b=function(){return o(void 0,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(e,t){return chrome.tabs.query({active:!0},(function(n){var r=c.checkForError();r?t(r):e(n)}))}))];case 1:if(e=n.sent(),t=Boolean(e.find((function(e){return null!=e.id&&v[e.id]}))),g||p||t)return[3,5];g=!0,n.label=2;case 2:return n.trys.push([2,,4,5]),[4,d.showPopup()];case 3:return n.sent(),[3,5];case 4:return g=!1,[7];case 5:return[2]}}))}))},w=function(){return o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),[4,new Promise((function(e){var t=setInterval((function(){_||(clearInterval(t),e())}),1e3)}))];case 2:return e.sent(),[2]}}))}))},y=o(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,u.default("index_bg.wasm")];case 1:return e.sent(),[4,o(void 0,void 0,void 0,(function(){function e(e){var o,i,s=e.name,u=r[s];if(console.log("On remote connect",s),u){var f=new c.PortDuplexStream(e);if(e.sender&&n.setupTrustedCommunication(f,e.sender),s===l.ENVIRONMENT_TYPE_POPUP)p=!0,a.default(f,(function(){return p=!1}));else if(s===l.ENVIRONMENT_TYPE_NOTIFICATION)_=!0,a.default(f,(function(){return _=!1}));else if(s===l.ENVIRONMENT_TYPE_FULLSCREEN){var h=null===(i=null===(o=e.sender)||void 0===o?void 0:o.tab)||void 0===i?void 0:i.id;null!=h&&(v[h]=!0),a.default(f,(function(){null!=h&&delete v[h]}))}}else t(e)}function t(e){console.debug("connectExternal");var t=new c.PortDuplexStream(e);e.sender&&n.setupUntrustedCommunication(t,e.sender)}var n,r,o;return i(this,(function(i){switch(i.label){case 0:return console.log("Setup controller"),[4,h.NekotonController.load({showUserConfirmation:b,openPopup:w,getOpenNekotonTabIds:function(){return v}})];case 1:return n=i.sent(),chrome.runtime.onConnect.addListener(e),chrome.runtime.onConnectExternal.addListener(t),(o={})[l.ENVIRONMENT_TYPE_POPUP]=!0,o[l.ENVIRONMENT_TYPE_NOTIFICATION]=!0,o[l.ENVIRONMENT_TYPE_FULLSCREEN]=!0,r=o,[2]}}))}))];case 2:return e.sent(),[2]}}))})).catch(console.error);chrome.runtime.onInstalled.addListener((function(e){"install"!==e.reason||r.env.IN_TEST||y.then((function(){return f.openExtensionInBrowser()})).catch(console.error)}))},16116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=36864,r=function(){function e(e,t){void 0===t&&(t="l0v"),this.transport=e,e.decorateAppAPIMethods(this,["getPublicKey","signHash"],t)}return e.prototype.getPublicKey=function(e,t){void 0===t&&(t=!1);var r=Buffer.alloc(4);return r.writeUInt32BE(e),this.transport.send(224,2,t?1:0,0,r,[n]).then((function(e){if(Buffer.from(e.slice(e.length-2)).readUInt16BE(0)===n)return{publicKey:e.slice(1,33)};throw new Error("Failed to get public key")}))},e.prototype.signHash=function(e,t){var r=Buffer.alloc(4);r.writeUInt32BE(e);var o=[r,t],i=Buffer.concat(o);return this.transport.send(224,3,0,0,i,[n,27013,27750,27904]).then((function(e){var t=Buffer.from(e.slice(e.length-2)).readUInt16BE(0);if(t===n)return{signature:Buffer.from(e.slice(0,e.length-2))};throw 27013===t?new Error("Transaction approval request was rejected"):27904===t?new Error("Hash signing is not supported"):new Error("Hash signing not allowed. Have you enabled it in the app settings?")}))},e}();t.default=r},58133:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createProviderMiddleware=void 0;var c=n(8796),l=n(94586),f=i(n(54991)),h=u(n(12843)),d=function(e,t,n){return new l.NekotonRpcError(c.RpcErrorCode.INVALID_REQUEST,e.method+": "+t,n)};function p(e,t){var n=e.origin,r=e.isInternal,o=e.permissionsController;r||o.checkPermissions(n,t)}function _(e){if(null==e.params||"object"!=typeof e.params)throw d(e,"required params object")}function g(e,t,n){if("object"!=typeof t[n])throw d(e,"'"+n+"' must be an object")}function v(e,t,n){if("boolean"!=typeof t[n])throw d(e,"'"+n+"' must be a boolean")}function b(e,t,n){var r=t[n];if("string"!=typeof r||0===r.length)throw d(e,"'"+n+"' must be non-empty string")}function w(e,t,n){var r=t[n];if(null!=r&&("string"!=typeof r||0===r.length))throw d(e,"'"+n+"' must be a non-empty string if provided")}function y(e,t,n){var r=t[n];if(null!=r&&"number"!=typeof r)throw d(e,"'"+n+"' must be a number if provider")}function m(e,t,n){var r=t[n];if(!Array.isArray(r))throw d(e,"'"+n+"' must be an array")}function E(e,t,n,r){null!=t[n]&&r(e,t,n)}function O(e,t){if(null==t)throw d(e,"Invalid tab id")}function T(e,t,n){g(e,t,n);var r=t[n];b(e,r,"lt"),b(e,r,"hash")}function S(e,t,n){g(e,t,n);var r=t[n];v(e,r,"isExact"),b(e,r,"lt"),w(e,r,"hash")}function N(e,t,n){g(e,t,n);var r=t[n];b(e,r,"balance"),function(e,t,n){g(e,t,n);var r=t[n];b(e,r,"genLt"),function(e,t,n){if("number"!=typeof t[n])throw d(e,"'"+n+"' must be a number")}(e,r,"genUtime")}(e,r,"genTimings"),E(e,r,"lastTransactionId",S),v(e,r,"isDeployed")}function A(e,t,n){g(e,t,n);var r=t[n];b(e,r,"abi"),b(e,r,"method"),g(e,r,"params")}function C(e,t,n){var r=t[n];if("string"!=typeof r&&!Array.isArray(r))throw d(e,"'"+n+"' must be a method name or an array of possible names")}var R={requestPermissions:function(e,t,n,r,o){var i=o.origin,u=o.isInternal,c=o.permissionsController;return s(void 0,void 0,void 0,(function(){var n,o;return a(this,(function(s){switch(s.label){case 0:if(u)throw d(e,"cannot request permissions for internal streams");return _(e),n=e.params.permissions,m(e,e.params,"permissions"),o=t,[4,c.requestPermissions(i,n)];case 1:return o.result=s.sent(),r(),[2]}}))}))},disconnect:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var e,n,i,s;return a(this,(function(a){switch(a.label){case 0:return e=o.origin,n=o.tabId,i=o.permissionsController,s=o.subscriptionsController,[4,i.removeOrigin(e)];case 1:return a.sent(),[4,s.unsubscribeOriginFromAllContracts(e,n)];case 2:return a.sent(),t.result={},r(),[2]}}))}))},subscribe:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u,c,l;return a(this,(function(a){switch(a.label){case 0:if(p(o,["tonClient"]),_(e),n=e.params,i=n.address,s=n.subscriptions,b(e,e.params,"address"),function(e,t,n){var r=t[n];if(null!=r&&"object"!=typeof r)throw d(e,"'"+n+"' must be an object if specified")}(e,e.params,"subscriptions"),!f.checkAddress(i))throw d(e,"Invalid address");return u=o.tabId,c=o.subscriptionsController,O(e,u),l=t,[4,c.subscribeToContract(u,i,s)];case 1:return l.result=a.sent(),r(),[2]}}))}))},unsubscribe:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s;return a(this,(function(a){switch(a.label){case 0:if(_(e),n=e.params.address,b(e,e.params,"address"),!f.checkAddress(n))throw d(e,"Invalid address");return i=o.tabId,s=o.subscriptionsController,O(e,i),[4,s.unsubscribeFromContract(i,n)];case 1:return a.sent(),t.result={},r(),[2]}}))}))},unsubscribeAll:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i;return a(this,(function(s){switch(s.label){case 0:return n=o.tabId,i=o.subscriptionsController,O(e,n),[4,i.unsubscribeFromAllContracts(n)];case 1:return s.sent(),t.result={},r(),[2]}}))}))},getProviderState:function(e,t,n,r,o){var i=o.origin,u=o.tabId,c=o.connectionController,l=o.permissionsController,f=o.subscriptionsController;return s(void 0,void 0,void 0,(function(){var e,n,o,s;return a(this,(function(a){return e=c.state.selectedConnection,n=l.getPermissions(i),o=function(e){var t=e.split(".");if(3!==t.length)throw new Error("Received invalid version string");t.forEach((function(e){if(~~e>999)throw new Error("Version string invalid, "+e+" is too large")}));for(var n=1e6,r=0,o=0;o<3;o++)r+=~~t[o]*n,n/=1e3;return r},s=h.default.version,t.result={version:s,numericVersion:o(s),selectedConnection:e.name,permissions:n,subscriptions:u?f.getTabSubscriptions(u):{}},r(),[2]}))}))},getFullContractState:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,u,c,l;return a(this,(function(f){switch(f.label){case 0:p(o,["tonClient"]),_(e),n=e.params.address,b(e,e.params,"address"),i=o.connectionController,f.label=1;case 1:return f.trys.push([1,3,,4]),u=t,l={},[4,i.use((function(e){var t=e.data.connection;return s(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.getFullContractState(n)];case 1:return[2,e.sent()]}}))}))}))];case 2:return u.result=(l.state=f.sent(),l),r(),[3,4];case 3:throw c=f.sent(),d(e,c.toString());case 4:return[2]}}))}))},getTransactions:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,u,c,l,f,h;return a(this,(function(g){switch(g.label){case 0:p(o,["tonClient"]),_(e),n=e.params,i=n.address,u=n.continuation,c=n.limit,b(e,e.params,"address"),E(e,e.params,"continuation",T),y(e,e.params,"limit"),l=o.connectionController,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,l.use((function(e){var t=e.data.connection;return s(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.getTransactions(i,u,c||50)];case 1:return[2,e.sent()]}}))}))}))];case 2:return f=g.sent(),t.result={transactions:f,continuation:f.length>0?f[f.length-1].prevTransactionId:void 0},r(),[3,4];case 3:throw h=g.sent(),d(e,h.toString());case 4:return[2]}}))}))},runLocal:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,u,c,l,h,g,v,w;return a(this,(function(y){switch(y.label){case 0:return p(o,["tonClient"]),_(e),n=e.params,i=n.address,u=n.cachedState,c=n.functionCall,b(e,e.params,"address"),E(e,e.params,"cachedState",N),A(e,e.params,"functionCall"),l=o.connectionController,null!=(h=u)?[3,2]:[4,l.use((function(e){var t=e.data.connection;return s(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,t.getFullContractState(i)];case 1:return[2,e.sent()]}}))}))}))];case 1:h=y.sent(),y.label=2;case 2:if(null==h)throw d(e,"Account not found");if(!h.isDeployed||null==h.lastTransactionId)throw d(e,"Account is not deployed");try{g=f.runLocal(h.genTimings,h.lastTransactionId,h.boc,c.abi,c.method,c.params),v=g.output,w=g.code,t.result={output:v,code:w},r()}catch(t){throw d(e,t.toString())}return[2]}}))}))},getExpectedAddress:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u,c,l;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.tvc,s=n.abi,u=n.workchain,c=n.publicKey,l=n.initParams,b(e,e.params,"tvc"),b(e,e.params,"abi"),y(e,e.params,"workchain"),w(e,e.params,"publicKey");try{t.result={address:f.getExpectedAddress(i,s,u||0,c,l)},r()}catch(t){throw d(e,t.toString())}return[2]}))}))},packIntoCell:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.structure,s=n.data,m(e,e.params,"structure");try{t.result={boc:f.packIntoCell(i,s)},r()}catch(t){throw d(e,t.toString())}return[2]}))}))},unpackFromCell:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.structure,s=n.boc,u=n.allowPartial,m(e,e.params,"structure"),b(e,e.params,"boc"),v(e,e.params,"allowPartial");try{t.result={data:f.unpackFromCell(i,s,u)},r()}catch(t){throw d(e,t.toString())}return[2]}))}))},encodeInternalInput:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u;return a(this,(function(a){p(o,["tonClient"]),_(e),A(e,e,"params"),n=e.params,i=n.abi,s=n.method,u=n.params;try{t.result={boc:f.encodeInternalInput(i,s,u)},r()}catch(t){throw d(e,t.toString())}return[2]}))}))},decodeInput:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u,c;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.body,s=n.abi,u=n.method,c=n.internal,b(e,e.params,"body"),b(e,e.params,"abi"),C(e,e.params,"method"),v(e,e.params,"internal");try{t.result=f.decodeInput(i,s,u,c)||null,r()}catch(t){throw d(e,t.toString())}return[2]}))}))},decodeEvent:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.body,s=n.abi,u=n.event,b(e,e.params,"body"),b(e,e.params,"abi"),C(e,e.params,"event");try{t.result=f.decodeEvent(i,s,u)||null,r()}catch(t){throw d(e,t.toString())}return[2]}))}))},decodeOutput:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.body,s=n.abi,u=n.method,b(e,e.params,"body"),b(e,e.params,"abi"),C(e,e.params,"method");try{t.result=f.decodeOutput(i,s,u)||null,r()}catch(t){throw d(e,t.toString())}return[2]}))}))},decodeTransaction:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.transaction,s=n.abi,u=n.method,b(e,e.params,"abi"),C(e,e.params,"method");try{t.result=f.decodeTransaction(i,s,u)||null,r()}catch(t){throw d(e,t.toString())}return[2]}))}))},decodeTransactionEvents:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s;return a(this,(function(a){p(o,["tonClient"]),_(e),n=e.params,i=n.transaction,s=n.abi,b(e,e.params,"abi");try{t.result={events:f.decodeTransactionEvents(i,s)},r()}catch(t){throw d(e,t.toString())}return[2]}))}))},estimateFees:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,u,c,l,h,g,v,w,y,m,O;return a(this,(function(T){switch(T.label){case 0:if(p(o,["accountInteraction"]),_(e),n=e.params,i=n.sender,u=n.recipient,c=n.amount,l=n.payload,b(e,e.params,"sender"),b(e,e.params,"recipient"),b(e,e.params,"amount"),E(e,e.params,"payload",A),h=o.origin,g=o.permissionsController,v=o.accountController,(null==(w=g.getPermissions(h).accountInteraction)?void 0:w.address)!=i)throw d(e,"Specified sender is not allowed");if(y=w.address,m="",null!=l)try{m=f.encodeInternalInput(l.abi,l.method,l.params)}catch(t){throw d(e,t.toString())}return[4,v.useTonWallet(y,(function(t){return s(void 0,void 0,void 0,(function(){var n,r,o,i;return a(this,(function(s){switch(s.label){case 0:return[4,t.getContractState()];case 1:if(null==(n=s.sent()))throw d(e,"Failed to get contract state for "+y);r=void 0;try{r=t.prepareTransfer(n,u,c,!1,m,60)}finally{n.free()}if(null==r)throw d(e,"Contract must be deployed first");s.label=2;case 2:return s.trys.push([2,4,5,6]),o=r.signFake(),[4,t.estimateFees(o)];case 3:return[2,s.sent()];case 4:throw i=s.sent(),d(e,i.toString());case 5:return r.free(),[7];case 6:return[2]}}))}))}))];case 1:return O=T.sent(),t.result={fees:O},r(),[2]}}))}))},sendMessage:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,u,c,l,h,g,w,y,m,O,T,S,N,C,R,I,k,x,M;return a(this,(function(L){switch(L.label){case 0:if(p(o,["accountInteraction"]),_(e),n=e.params,i=n.sender,u=n.recipient,c=n.amount,l=n.bounce,h=n.payload,b(e,e.params,"sender"),b(e,e.params,"recipient"),b(e,e.params,"amount"),v(e,e.params,"bounce"),E(e,e.params,"payload",A),g=o.origin,w=o.permissionsController,y=o.accountController,m=o.approvalController,(null==(O=w.getPermissions(g).accountInteraction)?void 0:O.address)!=i)throw d(e,"Specified sender is not allowed");if(T=O.address,S="",null!=h)try{S=f.encodeInternalInput(h.abi,h.method,h.params)}catch(t){throw d(e,t.toString())}return[4,y.useTonWallet(T,(function(t){return s(void 0,void 0,void 0,(function(){var n,r,o,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,t.getContractState()];case 1:if(null==(n=a.sent()))throw d(e,"Failed to get contract state for "+T);r=void 0;try{r=t.prepareTransfer(n,u,c,!1,S,60)}finally{n.free()}if(null==r)throw d(e,"Contract must be deployed first");a.label=2;case 2:return a.trys.push([2,4,,5]),o=r.signFake(),[4,t.estimateFees(o)];case 3:return i=a.sent(),[2,{unsignedMessage:r,fees:i}];case 4:throw s=a.sent(),d(e,s.toString());case 5:return[2]}}))}))}))];case 1:return N=L.sent(),C=N.unsignedMessage,R=N.fees,[4,m.addAndShowApprovalRequest({origin:g,type:"sendMessage",requestData:{sender:T,recipient:u,amount:c,bounce:l,payload:h,fees:R}})];case 2:I=L.sent(),L.label=3;case 3:return L.trys.push([3,5,6,7]),C.refreshTimeout(),[4,y.signPreparedMessage(C,I)];case 4:return k=L.sent(),[3,7];case 5:throw x=L.sent(),d(e,x.toString());case 6:return C.free(),[7];case 7:return[4,y.sendMessage(T,k)];case 8:if((M=L.sent()).outMessages.findIndex((function(e){return e.dst==u}))<0)throw d(e,"No output messages produced");return t.result={transaction:M},r(),[2]}}))}))},sendExternalMessage:function(e,t,n,r,o){return s(void 0,void 0,void 0,(function(){var n,i,s,u,c,l,h,g,v,y,m,E,O,T,S,N,C,R,I;return a(this,(function(a){switch(a.label){case 0:if(p(o,["accountInteraction"]),_(e),n=e.params,i=n.publicKey,s=n.recipient,u=n.stateInit,c=n.payload,b(e,e.params,"publicKey"),b(e,e.params,"recipient"),w(e,e.params,"stateInit"),A(e,e.params,"payload"),l=o.origin,h=o.permissionsController,g=o.approvalController,v=o.accountController,y=o.subscriptionsController,(null==(m=h.getPermissions(l).accountInteraction)?void 0:m.publicKey)!=i)throw d(e,"Specified signer is not allowed");E=m.publicKey;try{O=f.createExternalMessage(s,c.abi,c.method,u,c.params,E,60)}catch(t){throw d(e,t.toString())}return[4,g.addAndShowApprovalRequest({origin:l,type:"callContractMethod",requestData:{publicKey:E,recipient:s,payload:c}})];case 1:T=a.sent(),a.label=2;case 2:return a.trys.push([2,4,5,6]),O.refreshTimeout(),[4,v.signPreparedMessage(O,T)];case 3:return S=a.sent(),[3,6];case 4:throw N=a.sent(),d(e,N.toString());case 5:return O.free(),[7];case 6:return[4,y.sendMessage(s,S)];case 7:C=a.sent();try{I=f.decodeTransaction(C,c.abi,c.method),R=null==I?void 0:I.output}catch(e){}return t.result={transaction:C,output:R},r(),[2]}}))}))}};t.createProviderMiddleware=function(e){return function(t,n,r,o){R[t.method]?R[t.method](t,n,r,o,e).catch(o):o(new l.NekotonRpcError(c.RpcErrorCode.METHOD_NOT_FOUND,"provider method '"+t.method+"' not found"))}}},23730:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContractSubscription=void 0;var u=i(n(54991)),c=n(79068),l=n(94586),f=n(8796),h=n(62468),d=function(){function e(e,t,n,r){this._contractMutex=new c.Mutex,this._pollingInterval=h.BACKGROUND_POLLING_INTERVAL,this._isRunning=!1,this._releaseConnection=t,this._connection=e,this._address=n,this._contract=r,this._currentPollingMethod=this._contract.pollingMethod}return e.prototype.setPollingInterval=function(e){this._pollingInterval=e},e.prototype.start=function(){return s(this,void 0,void 0,(function(){var e=this;return a(this,(function(t){switch(t.label){case 0:if(null==this._releaseConnection)throw new l.NekotonRpcError(f.RpcErrorCode.INTERNAL,"Contract subscription must not be started after being closed");return this._loopPromise?(console.debug("ContractSubscription -> awaiting loop promise"),[4,this._loopPromise]):[3,2];case 1:t.sent(),t.label=2;case 2:return console.debug("ContractSubscription -> loop started"),this._loopPromise=new Promise((function(t){return s(e,void 0,void 0,(function(){var e,n,r,o,i=this;return a(this,(function(c){switch(c.label){case 0:e=!(this._connection instanceof u.GqlConnection),this._isRunning=!0,n=this._currentPollingMethod,r=function(){var t,r,u,c,l,f,h,d;return a(this,(function(p){switch(p.label){case 0:return t=n!=o._currentPollingMethod,n=o._currentPollingMethod,e||"manual"==o._currentPollingMethod?(o._currentBlockId=void 0,console.debug("ContractSubscription -> manual -> waiting begins"),r="manual"==o._currentPollingMethod?o._pollingInterval:2e3,[4,new Promise((function(e){var t=window.setTimeout((function(){i._refreshTimer=void 0,e()}),r);i._refreshTimer=[t,e]}))]):[3,6];case 1:if(p.sent(),console.debug("ContractSubscription -> manual -> waiting ends"),!o._isRunning)return[2,"break"];console.debug("ContractSubscription -> manual -> refreshing begins"),p.label=2;case 2:return p.trys.push([2,4,,5]),[4,o._contractMutex.use((function(){return s(i,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._contract.refresh()];case 1:return e.sent(),[2,this._contract.pollingMethod]}}))}))}))];case 3:return o._currentPollingMethod=p.sent(),[3,5];case 4:return u=p.sent(),console.error("Error during account refresh ("+o._address+")",u),[3,5];case 5:return console.debug("ContractSubscription -> manual -> refreshing ends"),[3,17];case 6:if(c=o._connection,console.debug("ContractSubscription -> reliable start"),t&&null!=o._suggestedBlockId&&(o._currentBlockId=o._suggestedBlockId),o._suggestedBlockId=void 0,null!=o._currentBlockId)return[3,11];console.warn("Starting reliable connection with unknown block"),p.label=7;case 7:return p.trys.push([7,9,,10]),[4,c.getLatestBlock(o._address)];case 8:return f=p.sent(),o._currentBlockId=f.id,l=o._currentBlockId,[3,10];case 9:return h=p.sent(),console.error("Failed to get latest block for "+o._address,h),[2,"continue"];case 10:return[3,14];case 11:return p.trys.push([11,13,,14]),[4,c.waitForNextBlock(o._currentBlockId,o._address,60)];case 12:return l=p.sent(),[3,14];case 13:return p.sent(),console.error("Failed to wait for next block for "+o._address),[2,"continue"];case 14:return p.trys.push([14,16,,17]),[4,o._contractMutex.use((function(){return s(i,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this._contract.handleBlock(l)];case 1:return e.sent(),[2,this._contract.pollingMethod]}}))}))}))];case 15:return o._currentPollingMethod=p.sent(),o._currentBlockId=l,[3,17];case 16:return d=p.sent(),console.error("Failed to handle block for "+o._address,d),[3,17];case 17:return[2]}}))},o=this,c.label=1;case 1:return this._isRunning?[5,r()]:[3,3];case 2:return"break"===c.sent()?[3,3]:[3,1];case 3:return console.debug("ContractSubscription -> loop finished"),t(),[2]}}))}))})),[2]}}))}))},e.prototype.skipRefreshTimer=function(){var e,t;window.clearTimeout(null===(e=this._refreshTimer)||void 0===e?void 0:e[0]),null===(t=this._refreshTimer)||void 0===t||t[1](),this._refreshTimer=void 0},e.prototype.pause=function(){return s(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(n){switch(n.label){case 0:return this._isRunning?(this._isRunning=!1,this.skipRefreshTimer(),[4,this._loopPromise]):[2];case 1:return n.sent(),this._loopPromise=void 0,e=this,[4,this._contractMutex.use((function(){return s(t,void 0,void 0,(function(){return a(this,(function(e){return[2,this._contract.pollingMethod]}))}))}))];case 2:return e._currentPollingMethod=n.sent(),this._currentBlockId=void 0,this._suggestedBlockId=void 0,[2]}}))}))},e.prototype.stop=function(){var e;return s(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.pause()];case 1:return t.sent(),this._contract.free(),null===(e=this._releaseConnection)||void 0===e||e.call(this),this._releaseConnection=void 0,[2]}}))}))},e.prototype.prepareReliablePolling=function(){return s(this,void 0,void 0,(function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),this._connection instanceof u.GqlConnection?(e=this,[4,this._connection.getLatestBlock(this._address)]):[3,2];case 1:e._suggestedBlockId=n.sent().id,n.label=2;case 2:return[3,4];case 3:throw t=n.sent(),new l.NekotonRpcError(f.RpcErrorCode.RESOURCE_UNAVAILABLE,t.toString());case 4:return[2]}}))}))},e.prototype.use=function(e){return s(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this._contractMutex.acquire()];case 1:return t=n.sent(),[2,e(this._contract).then((function(e){return t(),e})).catch((function(e){throw t(),e}))]}}))}))},e}();t.ContractSubscription=d},70360:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(48764);window.Buffer=i.Buffer,window.ObjectExt={keys:Object.keys,values:Object.values,entries:Object.entries},window.objectFromEntries=function(e){return o([],r(e)).reduce((function(e,t){var n=r(t,2),o=n[0],i=n[1];return e[o]=i,e}),{})}},51321:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationManager=t.getEnvironmentType=t.openExtensionInBrowser=t.updateWindowPosition=t.openWindow=t.getAllWindows=t.getLastFocused=t.focusWindow=t.focusTab=void 0;var i=n(94586),s=n(96486),a=n(75628);t.focusTab=function(e){return new Promise((function(t,n){chrome.tabs.update(+e,{active:!0},(function(e){var r=i.checkForError();r?n(r):t(e)}))}))},t.focusWindow=function(e){return new Promise((function(t,n){chrome.windows.update(e,{focused:!0},(function(e){var r=i.checkForError();r?n(r):t(e)}))}))},t.getLastFocused=function(){return new Promise((function(e,t){chrome.windows.getLastFocused((function(n){var r=i.checkForError();r?t(r):e(n)}))}))},t.getAllWindows=function(){return new Promise((function(e,t){chrome.windows.getAll((function(n){var r=i.checkForError();r?t(r):e(n)}))}))},t.openWindow=function(e){return new Promise((function(t,n){chrome.windows.create(e,(function(e){var r=i.checkForError();r?n(r):t(e)}))}))},t.updateWindowPosition=function(e,t,n){return new Promise((function(r,o){chrome.windows.update(e,{left:t,top:n},(function(){var e=i.checkForError();e?o(e):r()}))}))},t.openExtensionInBrowser=function(e,t){return r(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return n=chrome.runtime.getURL("home.html"),t&&(n+="?"+t),e&&(n+="#"+e),[4,new Promise((function(e,t){chrome.tabs.create({url:n},(function(n){var r=i.checkForError();null!=r?t(r):e(n)}))}))];case 1:return r.sent(),[2]}}))}))};var u=s.memoize((function(e){var t=new URL(e);return"/popup.html"===t.pathname?a.ENVIRONMENT_TYPE_POPUP:"/notification.html"===t.pathname?a.ENVIRONMENT_TYPE_NOTIFICATION:"/home.html"===t.pathname?a.ENVIRONMENT_TYPE_FULLSCREEN:a.ENVIRONMENT_TYPE_BACKGROUND}));t.getEnvironmentType=function(e){return void 0===e&&(e=window.location.href),u(e)};var c=function(){function e(){}return e.prototype.showPopup=function(){return r(this,void 0,void 0,(function(){var e,n,r,i,s,a,u,c;return o(this,(function(o){switch(o.label){case 0:return[4,this._getPopup()];case 1:return(e=o.sent())?[4,t.focusWindow(e.id)]:[3,3];case 2:return o.sent(),[2];case 3:n=0,r=0,o.label=4;case 4:return o.trys.push([4,6,,7]),[4,t.getLastFocused()];case 5:return i=o.sent(),r=i.top||r,n=(i.left||n)+((i.width||0)-400),[3,7];case 6:return o.sent(),s=window.screenX,a=window.screenY,u=window.outerWidth,r=Math.max(a,0),n=Math.max(s+(u-400),0),[3,7];case 7:return[4,t.openWindow({url:"notification.html",type:"popup",width:400,height:620,left:n,top:r})];case 8:if(null==(c=o.sent()))throw Error("NotificationManager: Failed to create popup window");return c.left===n||"fullscreen"===c.state?[3,10]:[4,t.updateWindowPosition(c.id,n,r)];case 9:o.sent(),o.label=10;case 10:this._popupId=c.id,o.label=11;case 11:return[2]}}))}))},e.prototype._getPopup=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,t.getAllWindows()];case 1:return e=n.sent(),[2,this._getPopupIn(e)]}}))}))},e.prototype._getPopupIn=function(e){var t=this;return e.find((function(e){return"popup"===e.type&&e.id===t._popupId}))},e}();t.NotificationManager=c},75628:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NEKOTON_PROVIDER=t.INPAGE_SCRIPT=t.CONTENT_SCRIPT=t.ENVIRONMENT_TYPE_BACKGROUND=t.ENVIRONMENT_TYPE_FULLSCREEN=t.ENVIRONMENT_TYPE_NOTIFICATION=t.ENVIRONMENT_TYPE_POPUP=void 0,t.ENVIRONMENT_TYPE_POPUP="popup",t.ENVIRONMENT_TYPE_NOTIFICATION="notification",t.ENVIRONMENT_TYPE_FULLSCREEN="fullscreen",t.ENVIRONMENT_TYPE_BACKGROUND="background",t.CONTENT_SCRIPT="nekoton-contentscript",t.INPAGE_SCRIPT="nekoton-inpage",t.NEKOTON_PROVIDER="nekoton-provider"},8796:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.RpcErrorCode=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.TRY_AGAIN_LATER=1]="TRY_AGAIN_LATER",e[e.INVALID_REQUEST=2]="INVALID_REQUEST",e[e.RESOURCE_UNAVAILABLE=3]="RESOURCE_UNAVAILABLE",e[e.METHOD_NOT_FOUND=4]="METHOD_NOT_FOUND",e[e.INSUFFICIENT_PERMISSIONS=5]="INSUFFICIENT_PERMISSIONS",e[e.REJECTED_BY_USER=6]="REJECTED_BY_USER",e[e.CONNECTION_IS_NOT_INITIALIZED=7]="CONNECTION_IS_NOT_INITIALIZED",e[e.MESSAGE_EXPIRED=8]="MESSAGE_EXPIRED"}(r=t.RpcErrorCode||(t.RpcErrorCode={})),t.errorMessages=((n={})[r.INTERNAL]="Internal error",n[r.TRY_AGAIN_LATER]="Try again later",n[r.INVALID_REQUEST]="Invalid request",n[r.RESOURCE_UNAVAILABLE]="Resource unavailable",n[r.METHOD_NOT_FOUND]="Method not found",n[r.INSUFFICIENT_PERMISSIONS]="Insufficient permission",n[r.REJECTED_BY_USER]="Rejected by user",n[r.CONNECTION_IS_NOT_INITIALIZED]="Connection is not initialized",n[r.MESSAGE_EXPIRED]="Message expired",n)},7879:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;var l=n(94586),f=n(8796),h=function(e){function t(){var t=e.call(this)||this;return t._middleware=[],t}return o(t,e),Object.defineProperty(t.prototype,"middleware",{get:function(){return this._middleware},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this._middleware.push(e)},t.prototype.handle=function(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)},t.prototype.asMiddleware=function(){var e=this;return function(n,r,o,i){return s(e,void 0,void 0,(function(){var e,c,l,f,h,d=this;return a(this,(function(p){switch(p.label){case 0:return p.trys.push([0,4,,5]),[4,t._runAllMiddleware(n,r,this._middleware)];case 1:return e=u.apply(void 0,[p.sent(),3]),c=e[0],l=e[1],f=e[2],l?[4,t._runReturnHandlers(f)]:[3,3];case 2:return p.sent(),[2,i(c)];case 3:return[2,o((function(e){return s(d,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t._runReturnHandlers(f)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),[2,e(n)];case 3:return[2,e()]}}))}))}))];case 4:return h=p.sent(),[2,i(h)];case 5:return[2]}}))}))}},t.prototype._handleBatch=function(e,t){return s(this,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,Promise.all(e.map(this._promiseHandle.bind(this)))];case 1:return n=o.sent(),t?[2,t(null,n)]:[2,n];case 2:if(r=o.sent(),t)return[2,t(r)];throw r;case 3:return[2]}}))}))},t.prototype._promiseHandle=function(e){var t=this;return new Promise((function(n){return s(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this._handle(e,(function(e,t){n(t)}))];case 1:return t.sent(),[2]}}))}))}))},t.prototype._handle=function(e,t){return s(this,void 0,void 0,(function(){var n,r,o,s,u,c;return a(this,(function(a){switch(a.label){case 0:if(!e||Array.isArray(e)||"object"!=typeof e)return n=new l.NekotonRpcError(f.RpcErrorCode.INVALID_REQUEST,"Requets must be plain objects. Received: "+typeof e,{request:e}),[2,t(n,{id:void 0,jsonrpc:"2.0",error:n})];if("string"!=typeof e.method)return r=new l.NekotonRpcError(f.RpcErrorCode.INVALID_REQUEST,"Must specify a string method. Received: "+typeof e.method,{request:e}),[2,t(r,{id:e.id,jsonrpc:"2.0",error:r})];o=i({},e),s={id:o.id,jsonrpc:o.jsonrpc},u=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._processRequest(o,s)];case 2:return a.sent(),[3,4];case 3:return c=a.sent(),u=c,[3,4];case 4:return u&&(delete s.result,s.error||(s.error=l.serializeError(u))),[2,t(u,s)]}}))}))},t.prototype._processRequest=function(e,n){return s(this,void 0,void 0,(function(){var r,o,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,t._runAllMiddleware(e,n,this._middleware)];case 1:return r=u.apply(void 0,[a.sent(),3]),o=r[0],i=r[1],s=r[2],t._checkForCompletion(e,n,i),[4,t._runReturnHandlers(s)];case 2:if(a.sent(),o)throw o;return[2]}}))}))},t._runAllMiddleware=function(e,n,r){return s(this,void 0,void 0,(function(){var o,i,s,l,f,h,d,p,_,g;return a(this,(function(a){switch(a.label){case 0:o=[],i=null,s=!1,a.label=1;case 1:a.trys.push([1,6,7,8]),l=c(r),f=l.next(),a.label=2;case 2:return f.done?[3,5]:(h=f.value,[4,t._runMiddleware(e,n,h,o)]);case 3:if(g=u.apply(void 0,[a.sent(),2]),i=g[0],s=g[1])return[3,5];a.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return d=a.sent(),p={error:d},[3,8];case 7:try{f&&!f.done&&(_=l.return)&&_.call(l)}finally{if(p)throw p.error}return[7];case 8:return[2,[i,s,o.reverse()]]}}))}))},t._runMiddleware=function(e,t,n,r){return s(this,void 0,void 0,(function(){return a(this,(function(o){return[2,new Promise((function(o){var i=function(e){var n=e||t.error;n&&(t.error=l.serializeError(n)),o([n,!0])};try{n(e,t,(function(n){t.error?i(t.error):(n&&("function"!=typeof n&&i(new l.NekotonRpcError(f.RpcErrorCode.INTERNAL,'JsonRpcEngine: "next" return handlers must be functions. Received "'+typeof n+'" for request:\n'+l.jsonify(e),{request:e})),r.push(n)),o([null,!1]))}),i)}catch(e){i(e)}}))]}))}))},t._runReturnHandlers=function(e){return s(this,void 0,void 0,(function(){var t,n,r,o,i,s,u;return a(this,(function(l){switch(l.label){case 0:t=function(e){return a(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,n){e((function(e){return e?n(e):t()}))}))];case 1:return t.sent(),[2]}}))},l.label=1;case 1:l.trys.push([1,6,7,8]),n=c(e),r=n.next(),l.label=2;case 2:return r.done?[3,5]:(o=r.value,[5,t(o)]);case 3:l.sent(),l.label=4;case 4:return r=n.next(),[3,2];case 5:return[3,8];case 6:return i=l.sent(),s={error:i},[3,8];case 7:try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))}))},t._checkForCompletion=function(e,t,n){if(!("result"in t)&&!("error"in t))throw new l.NekotonRpcError(f.RpcErrorCode.INTERNAL,"JsonRpcEngine: Response has no error or result for request: \n"+l.jsonify(e),{request:e});if(!n)throw new l.NekotonRpcError(f.RpcErrorCode.INTERNAL,"JsonRpcEngine: Nothing ended request:\n"+l.jsonify(e),{request:e})},t}(l.SafeEventEmitter);t.JsonRpcEngine=h},94586:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.findAccountByAddress=t.parseCurrency=t.parseTons=t.estimateUsd=t.convertCurrency=t.convertTons=t.amountPattern=t.multiplier=t.trimTokenName=t.convertAddress=t.convertPublicKey=t.extractTokenTransactionAddress=t.extractTokenTransactionValue=t.extractTransactionAddress=t.extractTransactionValue=t.shuffleArray=t.jsonify=t.serializeError=t.NekotonRpcError=t.createIdRemapMiddleware=t.createErrorMiddleware=t.createStreamMiddleware=t.createEngineStream=t.getRpcPromiseCallback=t.logStreamDisconnectWarning=t.checkForError=t.PortDuplexStream=t.nodeify=t.nodeifyAsync=t.SafeEventEmitter=t.getUniqueId=t.ONE_TON=void 0,n(70360);var u=a(n(96486)),c=a(n(4445)),l=n(17187),f=n(88473),h=a(n(3812)),d=a(n(93776)),p=n(8796);t.ONE_TON="1000000000";var _=4294967295,g=Math.floor(Math.random()*_);function v(e,t,n){try{Reflect.apply(e,t,n)}catch(e){setTimeout((function(){throw e}))}}function b(e){for(var t=e.length,n=new Array(t),r=0;r<t;r+=1)n[r]=e[r];return n}t.getUniqueId=function(){return g=(g+1)%_};var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s=void 0;if(t.length>0&&(s=i(t,1)[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)v(u,this,t);else for(var c=u.length,l=b(u),f=0;f<c;f+=1)v(l[f],this,t);return!0},t}(l.EventEmitter);t.SafeEventEmitter=w;var y=function(e){if(e)throw e};t.nodeifyAsync=function(e,t){var n=e[t];return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,i=t[t.length-1],s="function"==typeof i;s?(o=i,t.pop()):o=y,h.default(n.apply(e,t))(o)}},t.nodeify=function(e,t){var n=e[t];return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o,i,s=t[t.length-1],a="function"==typeof s;a?(o=s,t.pop()):o=y;try{i=Promise.resolve(n.apply(e,t))}catch(e){i=Promise.reject(e)}h.default(i)(o)}};var m=function(e){function t(t){var n=e.call(this,{objectMode:!0})||this;return n.port=t,n.port.onMessage.addListener((function(e){return n._onMessage(e)})),n.port.onDisconnect.addListener((function(){console.log("onDisconnect"),n._onDisconnect()})),n}return o(t,e),t.prototype._onMessage=function(e){if(Buffer.isBuffer(e)){var t=Buffer.from(e);this.push(t)}else this.push(e)},t.prototype._onDisconnect=function(){this.destroy()},t.prototype._read=function(){},t.prototype._write=function(e,t,n){try{if(Buffer.isBuffer(e)){var r=e.toJSON();r._isBuffer=!0,this.port.postMessage(r)}else this.port.postMessage(e)}catch(e){return n(new Error("PortDuplexStream - disconnected"))}return n()},t}(f.Duplex);t.PortDuplexStream=m,t.checkForError=function(){var e=chrome.runtime.lastError;if(e)return e.stack&&e.message?e:new Error(e.message)},t.logStreamDisconnectWarning=function(e,t,n,r){var o='Nekoton: Lost connection to "'+t+'".';(null==n?void 0:n.stack)&&(o+="\n"+n.stack),e.warn(o),r&&r.listenerCount("error")>0&&r.emit("error",o)},t.getRpcPromiseCallback=function(e,t,n){return void 0===n&&(n=!0),function(r,o){r||o.error?t(r||o.error):!n||Array.isArray(o)?e(o):e(o.result)}},t.createEngineStream=function(e){if(!e||!e.engine)throw new Error("Missing engine parameter!");var t=e.engine,n=new f.Duplex({objectMode:!0,read:function(){return!1},write:function(e,r,o){t.handle(e,(function(e,t){n.push(t)})),o()}});return t.on&&t.on("notification",(function(e){n.push(e)})),n},t.createStreamMiddleware=function(){var e={},t=new f.Duplex({objectMode:!0,read:function(){return!1},write:function(t,r,o){var i;try{t.id?function(t){var n=e[t.id];if(!n)throw new Error('StreamMiddleware: Unknown response id "'+t.id+'"');delete e[t.id],Object.assign(n.res,t),setTimeout(n.end)}(t):function(e){n.emit("notification",e)}(t)}catch(e){i=e}o(i)}}),n=new w;return{events:n,middleware:function(n,r,o,i){t.push(n),e[n.id]={req:n,res:r,next:o,end:i}},stream:t}},t.createErrorMiddleware=function(e){return function(t,n,r){t.method||(n.error=new E(p.RpcErrorCode.INVALID_REQUEST,"The request 'method' must be a non-empty string.")),r((function(t){var r=n.error;return r?(e.debug("Nekoton: RPC Error: "+r.message,r),t()):t()}))}},t.createIdRemapMiddleware=function(){return function(e,n,r,o){var i=e.id,s=t.getUniqueId();e.id=s,n.id=s,r((function(t){e.id=i,n.id=i,t()}))}};var E=function(e){function t(t,n,r){var o=this;if(!Number.isInteger(t))throw new Error('"code" must be an integer');if(!n||"string"!=typeof n)throw new Error('"message" must be a nonempty string');return(o=e.call(this,n)||this).code=t,o.data=r,o}return o(t,e),t.prototype.serialize=function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e},t.prototype.toString=function(){return c.default(this.serialize(),T,2)},t}(Error);t.NekotonRpcError=E;var O={code:p.RpcErrorCode.INTERNAL,message:"Unspecified error message"};t.serializeError=function(e,t){var n,r,o=void 0===t?{}:t,i=o.fallbackError,s=void 0===i?O:i,a=o.shouldIncludeStack,u=void 0!==a&&a;if(!s||!Number.isInteger(s.code)||"string"!=typeof s.message)throw new Error("Must provide fallback error with integer number code and string message");if(e instanceof E)return e.serialize();var c={};if(e&&"object"==typeof e&&!Array.isArray(e)&&N(e,"code")){var l=e;c.code=l.code,l.message&&"string"==typeof l.message?(c.message=l.message,N(l,"data")&&(c.data=l.data)):(c.message="TODO: get message from code",c.data={originalError:S(e)})}else{c.code=s.code;var f=null===(n=e)||void 0===n?void 0:n.message;c.message=f&&"string"==typeof f?f:s.message,c.data={originalError:S(e)}}var h=null===(r=e)||void 0===r?void 0:r.stack;return u&&e&&h&&"stack"==typeof h&&(c.stack=h),c},t.jsonify=function(e){return c.default(e,T,2)};var T=function(e,t){if("[Circular]"!==t)return t},S=function(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e},N=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.shuffleArray=function(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e},t.extractTransactionValue=function(e){var t=e.outMessages.reduce((function(e,t){return e.add(t.value)}),new d.default(0));return new d.default(e.inMessage.value).sub(t)},t.extractTransactionAddress=function(e){var t,n;try{for(var r=s(e.outMessages),o=r.next();!o.done;o=r.next()){var i=o.value;if(null!=i.dst)return{direction:"to",address:i.dst}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null!=e.inMessage.src?{direction:"from",address:e.inMessage.src}:{direction:"service",address:e.inMessage.dst||""}};var A=["outgoing_transfer","swap_back"];t.extractTokenTransactionValue=function(e){var t=e.info;if(null!=t){var n=new d.default(t.data.tokens);return A.includes(t.type)?n.negated():n}},t.extractTokenTransactionAddress=function(e){var t=e.info;if(null!=t)return"incoming_transfer"==t.type?{type:"owner_wallet",address:t.data.senderAddress}:"outgoing_transfer"==t.type?t.data.to:"swap_back"==t.type?{type:"eth_account",address:t.data.to}:void 0},t.convertPublicKey=function(e){return e?(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)):""},t.convertAddress=function(e){return e?(null==e?void 0:e.slice(0,6))+"..."+(null==e?void 0:e.slice(-4)):""},t.trimTokenName=function(e){return e?(null==e?void 0:e.slice(0,4))+"..."+(null==e?void 0:e.slice(-4)):""},t.multiplier=u.default.memoize((function(e){return new d.default(10).pow(e)})),t.amountPattern=u.default.memoize((function(e){return new RegExp("^(?:0|[1-9][0-9]*)(?:.[0-9]{0,"+e+"})?$")})),t.convertTons=function(e){return t.convertCurrency(e,9)},t.convertCurrency=function(e,n){return new d.default(e||"0").div(t.multiplier(n)).toFixed()},t.estimateUsd=function(e){return""+new d.default(e||"0").div(t.multiplier(9)).mul("0.6").toFixed(2).toString()},t.parseTons=function(e){return t.parseCurrency(e,9)},t.parseCurrency=function(e,n){return new d.default(e).mul(t.multiplier(n)).ceil().toFixed(0)},t.findAccountByAddress=function(e,t){var n,r,o,i;try{for(var a=s(window.ObjectExt.values(e)),u=a.next();!u.done;u=a.next()){var c=u.value;try{for(var l=(o=void 0,s(c)),f=l.next();!f.done;f=l.next()){var h=f.value;if(h.tonWallet.address==t)return h}}catch(e){o={error:e}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},94927:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},52479:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach((function(e){r[e]=o[e]})),r}}},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function i(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;null!==i&&r<e;r++)i=i.next;var s=[];for(r=0;i&&r<t;r++)s.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),r=0;r<n.length;r++)i=o(this,i,n[r]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(49602)(r)}catch(e){}},12843:e=>{"use strict";e.exports=JSON.parse('{"manifest_version":2,"name":"TON Crystal Wallet","version":"0.1.1011","description":"Manage Free TON wallets and access dApps directly from your Chrome browser","browser_action":{"default_title":"TON Crystal Wallet","default_popup":"popup.html"},"background":{"scripts":["background.js"],"persistent":true},"icons":{"16":"icon16.png","48":"icon48.png","128":"icon128.png"},"permissions":["storage","unlimitedStorage","clipboardWrite","activeTab","notifications"],"content_security_policy":"script-src \'self\' \'wasm-eval\'; object-src \'self\'","content_scripts":[{"matches":["file://*/*","http://*/*","https://*/*"],"js":["contentscript.js"],"run_at":"document_start","all_frames":true}],"web_accessible_resources":["inpage.js"]}')},71156:()=>{},52361:()=>{},94616:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.v=(e,t,r,o)=>{var i=fetch(n.p+""+r+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(i,o).then((t=>Object.assign(e,t.instance.exports))):i.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,o))).then((t=>Object.assign(e,t.instance.exports)))},n(89759)})();